function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./raw-Dt1HMqYc.js","./basedecoder-DvumDe3Y.js","./lzw-DpvbRwG5.js","./jpeg-CdeCw_eT.js","./deflate-CUkHh1nh.js","./pako.esm-CPws4d4z.js","./packbits-DQnG8s9w.js","./lerc-BozwgClJ.js","./webimage-BcnuJlio.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ms(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tg={exports:{}},Nl={},wg={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ks=Symbol.for("react.element"),Cy=Symbol.for("react.portal"),Ry=Symbol.for("react.fragment"),Sy=Symbol.for("react.strict_mode"),Iy=Symbol.for("react.profiler"),Py=Symbol.for("react.provider"),Ay=Symbol.for("react.context"),Ly=Symbol.for("react.forward_ref"),Oy=Symbol.for("react.suspense"),Dy=Symbol.for("react.memo"),My=Symbol.for("react.lazy"),dd=Symbol.iterator;function ky(t){return t===null||typeof t!="object"?null:(t=dd&&t[dd]||t["@@iterator"],typeof t=="function"?t:null)}var xg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cg=Object.assign,Rg={};function vi(t,e,n){this.props=t,this.context=e,this.refs=Rg,this.updater=n||xg}vi.prototype.isReactComponent={};vi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sg(){}Sg.prototype=vi.prototype;function Ec(t,e,n){this.props=t,this.context=e,this.refs=Rg,this.updater=n||xg}var Tc=Ec.prototype=new Sg;Tc.constructor=Ec;Cg(Tc,vi.prototype);Tc.isPureReactComponent=!0;var fd=Array.isArray,Ig=Object.prototype.hasOwnProperty,wc={current:null},Pg={key:!0,ref:!0,__self:!0,__source:!0};function Ag(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ig.call(e,r)&&!Pg.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ks,type:t,key:s,ref:o,props:i,_owner:wc.current}}function Ny(t,e){return{$$typeof:ks,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ks}function Fy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gd=/\/+/g;function ya(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Fy(""+t.key):e.toString(36)}function Ao(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ks:case Cy:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ya(o,0):r,fd(i)?(n="",t!=null&&(n=t.replace(gd,"$&/")+"/"),Ao(i,e,n,"",function(u){return u})):i!=null&&(xc(i)&&(i=Ny(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gd,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",fd(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+ya(s,l);o+=Ao(s,e,n,a,i)}else if(a=ky(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+ya(s,l++),o+=Ao(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function eo(t,e,n){if(t==null)return t;var r=[],i=0;return Ao(t,r,"","",function(s){return e.call(n,s,i++)}),r}function by(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ye={current:null},Lo={transition:null},zy={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:Lo,ReactCurrentOwner:wc};$.Children={map:eo,forEach:function(t,e,n){eo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return eo(t,function(){e++}),e},toArray:function(t){return eo(t,function(e){return e})||[]},only:function(t){if(!xc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=vi;$.Fragment=Ry;$.Profiler=Iy;$.PureComponent=Ec;$.StrictMode=Sy;$.Suspense=Oy;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zy;$.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Cg({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Ig.call(e,a)&&!Pg.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ks,type:t.type,key:i,ref:s,props:r,_owner:o}};$.createContext=function(t){return t={$$typeof:Ay,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Py,_context:t},t.Consumer=t};$.createElement=Ag;$.createFactory=function(t){var e=Ag.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:Ly,render:t}};$.isValidElement=xc;$.lazy=function(t){return{$$typeof:My,_payload:{_status:-1,_result:t},_init:by}};$.memo=function(t,e){return{$$typeof:Dy,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=Lo.transition;Lo.transition={};try{t()}finally{Lo.transition=e}};$.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};$.useCallback=function(t,e){return Ye.current.useCallback(t,e)};$.useContext=function(t){return Ye.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return Ye.current.useDeferredValue(t)};$.useEffect=function(t,e){return Ye.current.useEffect(t,e)};$.useId=function(){return Ye.current.useId()};$.useImperativeHandle=function(t,e,n){return Ye.current.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return Ye.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return Ye.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return Ye.current.useMemo(t,e)};$.useReducer=function(t,e,n){return Ye.current.useReducer(t,e,n)};$.useRef=function(t){return Ye.current.useRef(t)};$.useState=function(t){return Ye.current.useState(t)};$.useSyncExternalStore=function(t,e,n){return Ye.current.useSyncExternalStore(t,e,n)};$.useTransition=function(){return Ye.current.useTransition()};$.version="18.2.0";wg.exports=$;var Ae=wg.exports;const Re=Ms(Ae);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy=Ae,Gy=Symbol.for("react.element"),jy=Symbol.for("react.fragment"),By=Object.prototype.hasOwnProperty,$y=Uy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Xy={key:!0,ref:!0,__self:!0,__source:!0};function Lg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)By.call(e,r)&&!Xy.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Gy,type:t,key:s,ref:o,props:i,_owner:$y.current}}Nl.Fragment=jy;Nl.jsx=Lg;Nl.jsxs=Lg;Tg.exports=Nl;var oe=Tg.exports,uu={},Og={exports:{}},ft={},Dg={exports:{}},Mg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,M){var k=A.length;A.push(M);e:for(;0<k;){var Y=k-1>>>1,G=A[Y];if(0<i(G,M))A[Y]=M,A[k]=G,k=Y;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var M=A[0],k=A.pop();if(k!==M){A[0]=k;e:for(var Y=0,G=A.length,de=G>>>1;Y<de;){var j=2*(Y+1)-1,H=A[j],J=j+1,se=A[J];if(0>i(H,k))J<G&&0>i(se,H)?(A[Y]=se,A[J]=k,Y=J):(A[Y]=H,A[j]=k,Y=j);else if(J<G&&0>i(se,k))A[Y]=se,A[J]=k,Y=J;else break e}}return M}function i(A,M){var k=A.sortIndex-M.sortIndex;return k!==0?k:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,d=3,f=!1,m=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(A){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=A)r(u),M.sortIndex=M.expirationTime,e(a,M);else break;M=n(u)}}function E(A){if(y=!1,_(A),!m)if(n(a)!==null)m=!0,xe(T);else{var M=n(u);M!==null&&V(E,M.startTime-A)}}function T(A,M){m=!1,y&&(y=!1,p(C),C=-1),f=!0;var k=d;try{for(_(M),h=n(a);h!==null&&(!(h.expirationTime>M)||A&&!N());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,d=h.priorityLevel;var G=Y(h.expirationTime<=M);M=t.unstable_now(),typeof G=="function"?h.callback=G:h===n(a)&&r(a),_(M)}else r(a);h=n(a)}if(h!==null)var de=!0;else{var j=n(u);j!==null&&V(E,j.startTime-M),de=!1}return de}finally{h=null,d=k,f=!1}}var w=!1,x=null,C=-1,R=5,I=-1;function N(){return!(t.unstable_now()-I<R)}function X(){if(x!==null){var A=t.unstable_now();I=A;var M=!0;try{M=x(!0,A)}finally{M?ne():(w=!1,x=null)}}else w=!1}var ne;if(typeof g=="function")ne=function(){g(X)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Q=ie.port2;ie.port1.onmessage=X,ne=function(){Q.postMessage(null)}}else ne=function(){v(X,0)};function xe(A){x=A,w||(w=!0,ne())}function V(A,M){C=v(function(){A(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,xe(T))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(A){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var k=d;d=M;try{return A()}finally{d=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var k=d;d=A;try{return M()}finally{d=k}},t.unstable_scheduleCallback=function(A,M,k){var Y=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?Y+k:Y):k=Y,A){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=k+G,A={id:c++,callback:M,priorityLevel:A,startTime:k,expirationTime:G,sortIndex:-1},k>Y?(A.sortIndex=k,e(u,A),n(a)===null&&A===n(u)&&(y?(p(C),C=-1):y=!0,V(E,k-Y))):(A.sortIndex=G,e(a,A),m||f||(m=!0,xe(T))),A},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(A){var M=d;return function(){var k=d;d=M;try{return A.apply(this,arguments)}finally{d=k}}}})(Mg);Dg.exports=Mg;var Vy=Dg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg=Ae,dt=Vy;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ng=new Set,ls={};function yr(t,e){si(t,e),si(t+"Capture",e)}function si(t,e){for(ls[t]=e,t=0;t<e.length;t++)Ng.add(e[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=Object.prototype.hasOwnProperty,Ky=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pd={},md={};function Hy(t){return cu.call(md,t)?!0:cu.call(pd,t)?!1:Ky.test(t)?md[t]=!0:(pd[t]=!0,!1)}function Wy(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Yy(t,e,n,r){if(e===null||typeof e>"u"||Wy(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ze(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){be[t]=new Ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];be[e]=new Ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){be[t]=new Ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){be[t]=new Ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){be[t]=new Ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){be[t]=new Ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){be[t]=new Ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){be[t]=new Ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){be[t]=new Ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cc=/[\-:]([a-z])/g;function Rc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cc,Rc);be[e]=new Ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cc,Rc);be[e]=new Ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cc,Rc);be[e]=new Ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){be[t]=new Ze(t,1,!1,t.toLowerCase(),null,!1,!1)});be.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){be[t]=new Ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sc(t,e,n,r){var i=be.hasOwnProperty(e)?be[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Yy(e,n,i,r)&&(n=null),r||i===null?Hy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gn=kg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,to=Symbol.for("react.element"),Nr=Symbol.for("react.portal"),Fr=Symbol.for("react.fragment"),Ic=Symbol.for("react.strict_mode"),hu=Symbol.for("react.profiler"),Fg=Symbol.for("react.provider"),bg=Symbol.for("react.context"),Pc=Symbol.for("react.forward_ref"),du=Symbol.for("react.suspense"),fu=Symbol.for("react.suspense_list"),Ac=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),zg=Symbol.for("react.offscreen"),yd=Symbol.iterator;function Li(t){return t===null||typeof t!="object"?null:(t=yd&&t[yd]||t["@@iterator"],typeof t=="function"?t:null)}var _e=Object.assign,_a;function ji(t){if(_a===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_a=e&&e[1]||""}return`
`+_a+t}var va=!1;function Ea(t,e){if(!t||va)return"";va=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{va=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ji(t):""}function Zy(t){switch(t.tag){case 5:return ji(t.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 2:case 15:return t=Ea(t.type,!1),t;case 11:return t=Ea(t.type.render,!1),t;case 1:return t=Ea(t.type,!0),t;default:return""}}function gu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Fr:return"Fragment";case Nr:return"Portal";case hu:return"Profiler";case Ic:return"StrictMode";case du:return"Suspense";case fu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bg:return(t.displayName||"Context")+".Consumer";case Fg:return(t._context.displayName||"Context")+".Provider";case Pc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ac:return e=t.displayName||null,e!==null?e:gu(t.type)||"Memo";case wn:e=t._payload,t=t._init;try{return gu(t(e))}catch{}}return null}function qy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gu(e);case 8:return e===Ic?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ug(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qy(t){var e=Ug(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function no(t){t._valueTracker||(t._valueTracker=Qy(t))}function Gg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ug(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pu(t,e){var n=e.checked;return _e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _d(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=jn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jg(t,e){e=e.checked,e!=null&&Sc(t,"checked",e,!1)}function mu(t,e){jg(t,e);var n=jn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yu(t,e.type,n):e.hasOwnProperty("defaultValue")&&yu(t,e.type,jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yu(t,e,n){(e!=="number"||Vo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Bi=Array.isArray;function Wr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _u(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return _e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ed(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(Bi(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jn(n)}}function Bg(t,e){var n=jn(e.value),r=jn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Td(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $g(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$g(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ro,Xg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ro=ro||document.createElement("div"),ro.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ro.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function as(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jy=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(t){Jy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wi[e]=Wi[t]})});function Vg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wi.hasOwnProperty(t)&&Wi[t]?(""+e).trim():e+"px"}function Kg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var e_=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eu(t,e){if(e){if(e_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function Tu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=null;function Lc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xu=null,Yr=null,Zr=null;function wd(t){if(t=bs(t)){if(typeof xu!="function")throw Error(S(280));var e=t.stateNode;e&&(e=Gl(e),xu(t.stateNode,t.type,e))}}function Hg(t){Yr?Zr?Zr.push(t):Zr=[t]:Yr=t}function Wg(){if(Yr){var t=Yr,e=Zr;if(Zr=Yr=null,wd(t),e)for(t=0;t<e.length;t++)wd(e[t])}}function Yg(t,e){return t(e)}function Zg(){}var Ta=!1;function qg(t,e,n){if(Ta)return t(e,n);Ta=!0;try{return Yg(t,e,n)}finally{Ta=!1,(Yr!==null||Zr!==null)&&(Zg(),Wg())}}function us(t,e){var n=t.stateNode;if(n===null)return null;var r=Gl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var Cu=!1;if(un)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Cu=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Cu=!1}function t_(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Yi=!1,Ko=null,Ho=!1,Ru=null,n_={onError:function(t){Yi=!0,Ko=t}};function r_(t,e,n,r,i,s,o,l,a){Yi=!1,Ko=null,t_.apply(n_,arguments)}function i_(t,e,n,r,i,s,o,l,a){if(r_.apply(this,arguments),Yi){if(Yi){var u=Ko;Yi=!1,Ko=null}else throw Error(S(198));Ho||(Ho=!0,Ru=u)}}function _r(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Qg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xd(t){if(_r(t)!==t)throw Error(S(188))}function s_(t){var e=t.alternate;if(!e){if(e=_r(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return xd(i),t;if(s===r)return xd(i),e;s=s.sibling}throw Error(S(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function Jg(t){return t=s_(t),t!==null?ep(t):null}function ep(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ep(t);if(e!==null)return e;t=t.sibling}return null}var tp=dt.unstable_scheduleCallback,Cd=dt.unstable_cancelCallback,o_=dt.unstable_shouldYield,l_=dt.unstable_requestPaint,Te=dt.unstable_now,a_=dt.unstable_getCurrentPriorityLevel,Oc=dt.unstable_ImmediatePriority,np=dt.unstable_UserBlockingPriority,Wo=dt.unstable_NormalPriority,u_=dt.unstable_LowPriority,rp=dt.unstable_IdlePriority,Fl=null,Ht=null;function c_(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Fl,t,void 0,(t.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:f_,h_=Math.log,d_=Math.LN2;function f_(t){return t>>>=0,t===0?32:31-(h_(t)/d_|0)|0}var io=64,so=4194304;function $i(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=$i(l):(s&=o,s!==0&&(r=$i(s)))}else o=n&~i,o!==0?r=$i(o):s!==0&&(r=$i(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kt(e),i=1<<n,r|=t[n],e&=~i;return r}function g_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function p_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-kt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=g_(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Su(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ip(){var t=io;return io<<=1,!(io&4194240)&&(io=64),t}function wa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ns(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kt(e),t[e]=n}function m_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Dc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var re=0;function sp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var op,Mc,lp,ap,up,Iu=!1,oo=[],Mn=null,kn=null,Nn=null,cs=new Map,hs=new Map,Rn=[],y_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rd(t,e){switch(t){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Nn=null;break;case"pointerover":case"pointerout":cs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(e.pointerId)}}function Di(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=bs(e),e!==null&&Mc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function __(t,e,n,r,i){switch(e){case"focusin":return Mn=Di(Mn,t,e,n,r,i),!0;case"dragenter":return kn=Di(kn,t,e,n,r,i),!0;case"mouseover":return Nn=Di(Nn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return cs.set(s,Di(cs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,hs.set(s,Di(hs.get(s)||null,t,e,n,r,i)),!0}return!1}function cp(t){var e=ir(t.target);if(e!==null){var n=_r(e);if(n!==null){if(e=n.tag,e===13){if(e=Qg(n),e!==null){t.blockedOn=e,up(t.priority,function(){lp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wu=r,n.target.dispatchEvent(r),wu=null}else return e=bs(n),e!==null&&Mc(e),t.blockedOn=n,!1;e.shift()}return!0}function Sd(t,e,n){Oo(t)&&n.delete(e)}function v_(){Iu=!1,Mn!==null&&Oo(Mn)&&(Mn=null),kn!==null&&Oo(kn)&&(kn=null),Nn!==null&&Oo(Nn)&&(Nn=null),cs.forEach(Sd),hs.forEach(Sd)}function Mi(t,e){t.blockedOn===e&&(t.blockedOn=null,Iu||(Iu=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,v_)))}function ds(t){function e(i){return Mi(i,t)}if(0<oo.length){Mi(oo[0],t);for(var n=1;n<oo.length;n++){var r=oo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mn!==null&&Mi(Mn,t),kn!==null&&Mi(kn,t),Nn!==null&&Mi(Nn,t),cs.forEach(e),hs.forEach(e),n=0;n<Rn.length;n++)r=Rn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)cp(n),n.blockedOn===null&&Rn.shift()}var qr=gn.ReactCurrentBatchConfig,Zo=!0;function E_(t,e,n,r){var i=re,s=qr.transition;qr.transition=null;try{re=1,kc(t,e,n,r)}finally{re=i,qr.transition=s}}function T_(t,e,n,r){var i=re,s=qr.transition;qr.transition=null;try{re=4,kc(t,e,n,r)}finally{re=i,qr.transition=s}}function kc(t,e,n,r){if(Zo){var i=Pu(t,e,n,r);if(i===null)Da(t,e,r,qo,n),Rd(t,r);else if(__(i,t,e,n,r))r.stopPropagation();else if(Rd(t,r),e&4&&-1<y_.indexOf(t)){for(;i!==null;){var s=bs(i);if(s!==null&&op(s),s=Pu(t,e,n,r),s===null&&Da(t,e,r,qo,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Da(t,e,r,null,n)}}var qo=null;function Pu(t,e,n,r){if(qo=null,t=Lc(r),t=ir(t),t!==null)if(e=_r(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Qg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qo=t,null}function hp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a_()){case Oc:return 1;case np:return 4;case Wo:case u_:return 16;case rp:return 536870912;default:return 16}default:return 16}}var An=null,Nc=null,Do=null;function dp(){if(Do)return Do;var t,e=Nc,n=e.length,r,i="value"in An?An.value:An.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Do=i.slice(t,1<r?1-r:void 0)}function Mo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lo(){return!0}function Id(){return!1}function gt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lo:Id,this.isPropagationStopped=Id,this}return _e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lo)},persist:function(){},isPersistent:lo}),e}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fc=gt(Ei),Fs=_e({},Ei,{view:0,detail:0}),w_=gt(Fs),xa,Ca,ki,bl=_e({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(xa=t.screenX-ki.screenX,Ca=t.screenY-ki.screenY):Ca=xa=0,ki=t),xa)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),Pd=gt(bl),x_=_e({},bl,{dataTransfer:0}),C_=gt(x_),R_=_e({},Fs,{relatedTarget:0}),Ra=gt(R_),S_=_e({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),I_=gt(S_),P_=_e({},Ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A_=gt(P_),L_=_e({},Ei,{data:0}),Ad=gt(L_),O_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=M_[t])?!!e[t]:!1}function bc(){return k_}var N_=_e({},Fs,{key:function(t){if(t.key){var e=O_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bc,charCode:function(t){return t.type==="keypress"?Mo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),F_=gt(N_),b_=_e({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ld=gt(b_),z_=_e({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bc}),U_=gt(z_),G_=_e({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),j_=gt(G_),B_=_e({},bl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$_=gt(B_),X_=[9,13,27,32],zc=un&&"CompositionEvent"in window,Zi=null;un&&"documentMode"in document&&(Zi=document.documentMode);var V_=un&&"TextEvent"in window&&!Zi,fp=un&&(!zc||Zi&&8<Zi&&11>=Zi),Od=" ",Dd=!1;function gp(t,e){switch(t){case"keyup":return X_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var br=!1;function K_(t,e){switch(t){case"compositionend":return pp(e);case"keypress":return e.which!==32?null:(Dd=!0,Od);case"textInput":return t=e.data,t===Od&&Dd?null:t;default:return null}}function H_(t,e){if(br)return t==="compositionend"||!zc&&gp(t,e)?(t=dp(),Do=Nc=An=null,br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fp&&e.locale!=="ko"?null:e.data;default:return null}}var W_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!W_[t.type]:e==="textarea"}function mp(t,e,n,r){Hg(r),e=Qo(e,"onChange"),0<e.length&&(n=new Fc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qi=null,fs=null;function Y_(t){Ip(t,0)}function zl(t){var e=Gr(t);if(Gg(e))return t}function Z_(t,e){if(t==="change")return e}var yp=!1;if(un){var Sa;if(un){var Ia="oninput"in document;if(!Ia){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),Ia=typeof kd.oninput=="function"}Sa=Ia}else Sa=!1;yp=Sa&&(!document.documentMode||9<document.documentMode)}function Nd(){qi&&(qi.detachEvent("onpropertychange",_p),fs=qi=null)}function _p(t){if(t.propertyName==="value"&&zl(fs)){var e=[];mp(e,fs,t,Lc(t)),qg(Y_,e)}}function q_(t,e,n){t==="focusin"?(Nd(),qi=e,fs=n,qi.attachEvent("onpropertychange",_p)):t==="focusout"&&Nd()}function Q_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zl(fs)}function J_(t,e){if(t==="click")return zl(e)}function e1(t,e){if(t==="input"||t==="change")return zl(e)}function t1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var bt=typeof Object.is=="function"?Object.is:t1;function gs(t,e){if(bt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cu.call(e,i)||!bt(t[i],e[i]))return!1}return!0}function Fd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bd(t,e){var n=Fd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Fd(n)}}function vp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ep(){for(var t=window,e=Vo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vo(t.document)}return e}function Uc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function n1(t){var e=Ep(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vp(n.ownerDocument.documentElement,n)){if(r!==null&&Uc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=bd(n,s);var o=bd(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var r1=un&&"documentMode"in document&&11>=document.documentMode,zr=null,Au=null,Qi=null,Lu=!1;function zd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lu||zr==null||zr!==Vo(r)||(r=zr,"selectionStart"in r&&Uc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qi&&gs(Qi,r)||(Qi=r,r=Qo(Au,"onSelect"),0<r.length&&(e=new Fc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zr)))}function ao(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ur={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},Pa={},Tp={};un&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function Ul(t){if(Pa[t])return Pa[t];if(!Ur[t])return t;var e=Ur[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Tp)return Pa[t]=e[n];return t}var wp=Ul("animationend"),xp=Ul("animationiteration"),Cp=Ul("animationstart"),Rp=Ul("transitionend"),Sp=new Map,Ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xn(t,e){Sp.set(t,e),yr(e,[t])}for(var Aa=0;Aa<Ud.length;Aa++){var La=Ud[Aa],i1=La.toLowerCase(),s1=La[0].toUpperCase()+La.slice(1);Xn(i1,"on"+s1)}Xn(wp,"onAnimationEnd");Xn(xp,"onAnimationIteration");Xn(Cp,"onAnimationStart");Xn("dblclick","onDoubleClick");Xn("focusin","onFocus");Xn("focusout","onBlur");Xn(Rp,"onTransitionEnd");si("onMouseEnter",["mouseout","mouseover"]);si("onMouseLeave",["mouseout","mouseover"]);si("onPointerEnter",["pointerout","pointerover"]);si("onPointerLeave",["pointerout","pointerover"]);yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yr("onBeforeInput",["compositionend","keypress","textInput","paste"]);yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function Gd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,i_(r,e,void 0,t),t.currentTarget=null}function Ip(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;Gd(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;Gd(i,l,u),s=a}}}if(Ho)throw t=Ru,Ho=!1,Ru=null,t}function ce(t,e){var n=e[Nu];n===void 0&&(n=e[Nu]=new Set);var r=t+"__bubble";n.has(r)||(Pp(e,t,2,!1),n.add(r))}function Oa(t,e,n){var r=0;e&&(r|=4),Pp(n,t,r,e)}var uo="_reactListening"+Math.random().toString(36).slice(2);function ps(t){if(!t[uo]){t[uo]=!0,Ng.forEach(function(n){n!=="selectionchange"&&(o1.has(n)||Oa(n,!1,t),Oa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uo]||(e[uo]=!0,Oa("selectionchange",!1,e))}}function Pp(t,e,n,r){switch(hp(e)){case 1:var i=E_;break;case 4:i=T_;break;default:i=kc}n=i.bind(null,e,n,t),i=void 0,!Cu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Da(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=ir(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}qg(function(){var u=s,c=Lc(n),h=[];e:{var d=Sp.get(t);if(d!==void 0){var f=Fc,m=t;switch(t){case"keypress":if(Mo(n)===0)break e;case"keydown":case"keyup":f=F_;break;case"focusin":m="focus",f=Ra;break;case"focusout":m="blur",f=Ra;break;case"beforeblur":case"afterblur":f=Ra;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=C_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=U_;break;case wp:case xp:case Cp:f=I_;break;case Rp:f=j_;break;case"scroll":f=w_;break;case"wheel":f=$_;break;case"copy":case"cut":case"paste":f=A_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Ld}var y=(e&4)!==0,v=!y&&t==="scroll",p=y?d!==null?d+"Capture":null:d;y=[];for(var g=u,_;g!==null;){_=g;var E=_.stateNode;if(_.tag===5&&E!==null&&(_=E,p!==null&&(E=us(g,p),E!=null&&y.push(ms(g,E,_)))),v)break;g=g.return}0<y.length&&(d=new f(d,m,null,n,c),h.push({event:d,listeners:y}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==wu&&(m=n.relatedTarget||n.fromElement)&&(ir(m)||m[cn]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=u,m=m?ir(m):null,m!==null&&(v=_r(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(y=Pd,E="onMouseLeave",p="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(y=Ld,E="onPointerLeave",p="onPointerEnter",g="pointer"),v=f==null?d:Gr(f),_=m==null?d:Gr(m),d=new y(E,g+"leave",f,n,c),d.target=v,d.relatedTarget=_,E=null,ir(c)===u&&(y=new y(p,g+"enter",m,n,c),y.target=_,y.relatedTarget=v,E=y),v=E,f&&m)t:{for(y=f,p=m,g=0,_=y;_;_=wr(_))g++;for(_=0,E=p;E;E=wr(E))_++;for(;0<g-_;)y=wr(y),g--;for(;0<_-g;)p=wr(p),_--;for(;g--;){if(y===p||p!==null&&y===p.alternate)break t;y=wr(y),p=wr(p)}y=null}else y=null;f!==null&&jd(h,d,f,y,!1),m!==null&&v!==null&&jd(h,v,m,y,!0)}}e:{if(d=u?Gr(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var T=Z_;else if(Md(d))if(yp)T=e1;else{T=Q_;var w=q_}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(T=J_);if(T&&(T=T(t,u))){mp(h,T,n,c);break e}w&&w(t,d,u),t==="focusout"&&(w=d._wrapperState)&&w.controlled&&d.type==="number"&&yu(d,"number",d.value)}switch(w=u?Gr(u):window,t){case"focusin":(Md(w)||w.contentEditable==="true")&&(zr=w,Au=u,Qi=null);break;case"focusout":Qi=Au=zr=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,zd(h,n,c);break;case"selectionchange":if(r1)break;case"keydown":case"keyup":zd(h,n,c)}var x;if(zc)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else br?gp(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(fp&&n.locale!=="ko"&&(br||C!=="onCompositionStart"?C==="onCompositionEnd"&&br&&(x=dp()):(An=c,Nc="value"in An?An.value:An.textContent,br=!0)),w=Qo(u,C),0<w.length&&(C=new Ad(C,t,null,n,c),h.push({event:C,listeners:w}),x?C.data=x:(x=pp(n),x!==null&&(C.data=x)))),(x=V_?K_(t,n):H_(t,n))&&(u=Qo(u,"onBeforeInput"),0<u.length&&(c=new Ad("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=x))}Ip(h,e)})}function ms(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qo(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=us(t,n),s!=null&&r.unshift(ms(t,s,i)),s=us(t,e),s!=null&&r.push(ms(t,s,i))),t=t.return}return r}function wr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jd(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=us(n,s),a!=null&&o.unshift(ms(n,a,l))):i||(a=us(n,s),a!=null&&o.push(ms(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var l1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function Bd(t){return(typeof t=="string"?t:""+t).replace(l1,`
`).replace(a1,"")}function co(t,e,n){if(e=Bd(e),Bd(t)!==e&&n)throw Error(S(425))}function Jo(){}var Ou=null,Du=null;function Mu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ku=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,$d=typeof Promise=="function"?Promise:void 0,c1=typeof queueMicrotask=="function"?queueMicrotask:typeof $d<"u"?function(t){return $d.resolve(null).then(t).catch(h1)}:ku;function h1(t){setTimeout(function(){throw t})}function Ma(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ds(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ds(e)}function Fn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Xd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ti=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Ti,ys="__reactProps$"+Ti,cn="__reactContainer$"+Ti,Nu="__reactEvents$"+Ti,d1="__reactListeners$"+Ti,f1="__reactHandles$"+Ti;function ir(t){var e=t[Vt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cn]||n[Vt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Xd(t);t!==null;){if(n=t[Vt])return n;t=Xd(t)}return e}t=n,n=t.parentNode}return null}function bs(t){return t=t[Vt]||t[cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Gr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function Gl(t){return t[ys]||null}var Fu=[],jr=-1;function Vn(t){return{current:t}}function he(t){0>jr||(t.current=Fu[jr],Fu[jr]=null,jr--)}function ae(t,e){jr++,Fu[jr]=t.current,t.current=e}var Bn={},Xe=Vn(Bn),ot=Vn(!1),hr=Bn;function oi(t,e){var n=t.type.contextTypes;if(!n)return Bn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function lt(t){return t=t.childContextTypes,t!=null}function el(){he(ot),he(Xe)}function Vd(t,e,n){if(Xe.current!==Bn)throw Error(S(168));ae(Xe,e),ae(ot,n)}function Ap(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(S(108,qy(t)||"Unknown",i));return _e({},n,r)}function tl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bn,hr=Xe.current,ae(Xe,t),ae(ot,ot.current),!0}function Kd(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=Ap(t,e,hr),r.__reactInternalMemoizedMergedChildContext=t,he(ot),he(Xe),ae(Xe,t)):he(ot),ae(ot,n)}var nn=null,jl=!1,ka=!1;function Lp(t){nn===null?nn=[t]:nn.push(t)}function g1(t){jl=!0,Lp(t)}function Kn(){if(!ka&&nn!==null){ka=!0;var t=0,e=re;try{var n=nn;for(re=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nn=null,jl=!1}catch(i){throw nn!==null&&(nn=nn.slice(t+1)),tp(Oc,Kn),i}finally{re=e,ka=!1}}return null}var Br=[],$r=0,nl=null,rl=0,vt=[],Et=0,dr=null,rn=1,sn="";function nr(t,e){Br[$r++]=rl,Br[$r++]=nl,nl=t,rl=e}function Op(t,e,n){vt[Et++]=rn,vt[Et++]=sn,vt[Et++]=dr,dr=t;var r=rn;t=sn;var i=32-kt(r)-1;r&=~(1<<i),n+=1;var s=32-kt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,rn=1<<32-kt(e)+i|n<<i|r,sn=s+t}else rn=1<<s|n<<i|r,sn=t}function Gc(t){t.return!==null&&(nr(t,1),Op(t,1,0))}function jc(t){for(;t===nl;)nl=Br[--$r],Br[$r]=null,rl=Br[--$r],Br[$r]=null;for(;t===dr;)dr=vt[--Et],vt[Et]=null,sn=vt[--Et],vt[Et]=null,rn=vt[--Et],vt[Et]=null}var ht=null,ct=null,ge=!1,Ot=null;function Dp(t,e){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ht=t,ct=Fn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ht=t,ct=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=dr!==null?{id:rn,overflow:sn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ht=t,ct=null,!0):!1;default:return!1}}function bu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zu(t){if(ge){var e=ct;if(e){var n=e;if(!Hd(t,e)){if(bu(t))throw Error(S(418));e=Fn(n.nextSibling);var r=ht;e&&Hd(t,e)?Dp(r,n):(t.flags=t.flags&-4097|2,ge=!1,ht=t)}}else{if(bu(t))throw Error(S(418));t.flags=t.flags&-4097|2,ge=!1,ht=t}}}function Wd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ht=t}function ho(t){if(t!==ht)return!1;if(!ge)return Wd(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Mu(t.type,t.memoizedProps)),e&&(e=ct)){if(bu(t))throw Mp(),Error(S(418));for(;e;)Dp(t,e),e=Fn(e.nextSibling)}if(Wd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ct=Fn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ct=null}}else ct=ht?Fn(t.stateNode.nextSibling):null;return!0}function Mp(){for(var t=ct;t;)t=Fn(t.nextSibling)}function li(){ct=ht=null,ge=!1}function Bc(t){Ot===null?Ot=[t]:Ot.push(t)}var p1=gn.ReactCurrentBatchConfig;function At(t,e){if(t&&t.defaultProps){e=_e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var il=Vn(null),sl=null,Xr=null,$c=null;function Xc(){$c=Xr=sl=null}function Vc(t){var e=il.current;he(il),t._currentValue=e}function Uu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qr(t,e){sl=t,$c=Xr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(it=!0),t.firstContext=null)}function Rt(t){var e=t._currentValue;if($c!==t)if(t={context:t,memoizedValue:e,next:null},Xr===null){if(sl===null)throw Error(S(308));Xr=t,sl.dependencies={lanes:0,firstContext:t}}else Xr=Xr.next=t;return e}var sr=null;function Kc(t){sr===null?sr=[t]:sr.push(t)}function kp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Kc(e)):(n.next=i.next,i.next=n),e.interleaved=n,hn(t,r)}function hn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xn=!1;function Hc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Np(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ln(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hn(t,n)}return i=r.interleaved,i===null?(e.next=e,Kc(r)):(e.next=i.next,i.next=e),r.interleaved=e,hn(t,n)}function ko(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dc(t,n)}}function Yd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ol(t,e,n,r){var i=t.updateQueue;xn=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var h=i.baseState;o=0,c=u=a=null,l=s;do{var d=l.lane,f=l.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var m=t,y=l;switch(d=e,f=n,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(f,h,d);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,d=typeof m=="function"?m.call(f,h,d):m,d==null)break e;h=_e({},h,d);break e;case 2:xn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[l]:d.push(l))}else f={eventTime:f,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=f,a=h):c=c.next=f,o|=d;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;d=l,l=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(c===null&&(a=h),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);gr|=o,t.lanes=o,t.memoizedState=h}}function Zd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(S(191,i));i.call(r)}}}var Fp=new kg.Component().refs;function Gu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:_e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bl={isMounted:function(t){return(t=t._reactInternals)?_r(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=He(),i=Un(t),s=ln(r,i);s.payload=e,n!=null&&(s.callback=n),e=bn(t,s,i),e!==null&&(Nt(e,t,i,r),ko(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=He(),i=Un(t),s=ln(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=bn(t,s,i),e!==null&&(Nt(e,t,i,r),ko(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=He(),r=Un(t),i=ln(n,r);i.tag=2,e!=null&&(i.callback=e),e=bn(t,i,r),e!==null&&(Nt(e,t,r,n),ko(e,t,r))}};function qd(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!gs(n,r)||!gs(i,s):!0}function bp(t,e,n){var r=!1,i=Bn,s=e.contextType;return typeof s=="object"&&s!==null?s=Rt(s):(i=lt(e)?hr:Xe.current,r=e.contextTypes,s=(r=r!=null)?oi(t,i):Bn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Qd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bl.enqueueReplaceState(e,e.state,null)}function ju(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Fp,Hc(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rt(s):(s=lt(e)?hr:Xe.current,i.context=oi(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Gu(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bl.enqueueReplaceState(i,i.state,null),ol(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ni(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===Fp&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function fo(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jd(t){var e=t._init;return e(t._payload)}function zp(t){function e(p,g){if(t){var _=p.deletions;_===null?(p.deletions=[g],p.flags|=16):_.push(g)}}function n(p,g){if(!t)return null;for(;g!==null;)e(p,g),g=g.sibling;return null}function r(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(p,g){return p=Gn(p,g),p.index=0,p.sibling=null,p}function s(p,g,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<g?(p.flags|=2,g):_):(p.flags|=2,g)):(p.flags|=1048576,g)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function l(p,g,_,E){return g===null||g.tag!==6?(g=ja(_,p.mode,E),g.return=p,g):(g=i(g,_),g.return=p,g)}function a(p,g,_,E){var T=_.type;return T===Fr?c(p,g,_.props.children,E,_.key):g!==null&&(g.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===wn&&Jd(T)===g.type)?(E=i(g,_.props),E.ref=Ni(p,g,_),E.return=p,E):(E=Go(_.type,_.key,_.props,null,p.mode,E),E.ref=Ni(p,g,_),E.return=p,E)}function u(p,g,_,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=Ba(_,p.mode,E),g.return=p,g):(g=i(g,_.children||[]),g.return=p,g)}function c(p,g,_,E,T){return g===null||g.tag!==7?(g=cr(_,p.mode,E,T),g.return=p,g):(g=i(g,_),g.return=p,g)}function h(p,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ja(""+g,p.mode,_),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case to:return _=Go(g.type,g.key,g.props,null,p.mode,_),_.ref=Ni(p,null,g),_.return=p,_;case Nr:return g=Ba(g,p.mode,_),g.return=p,g;case wn:var E=g._init;return h(p,E(g._payload),_)}if(Bi(g)||Li(g))return g=cr(g,p.mode,_,null),g.return=p,g;fo(p,g)}return null}function d(p,g,_,E){var T=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:l(p,g,""+_,E);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case to:return _.key===T?a(p,g,_,E):null;case Nr:return _.key===T?u(p,g,_,E):null;case wn:return T=_._init,d(p,g,T(_._payload),E)}if(Bi(_)||Li(_))return T!==null?null:c(p,g,_,E,null);fo(p,_)}return null}function f(p,g,_,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return p=p.get(_)||null,l(g,p,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case to:return p=p.get(E.key===null?_:E.key)||null,a(g,p,E,T);case Nr:return p=p.get(E.key===null?_:E.key)||null,u(g,p,E,T);case wn:var w=E._init;return f(p,g,_,w(E._payload),T)}if(Bi(E)||Li(E))return p=p.get(_)||null,c(g,p,E,T,null);fo(g,E)}return null}function m(p,g,_,E){for(var T=null,w=null,x=g,C=g=0,R=null;x!==null&&C<_.length;C++){x.index>C?(R=x,x=null):R=x.sibling;var I=d(p,x,_[C],E);if(I===null){x===null&&(x=R);break}t&&x&&I.alternate===null&&e(p,x),g=s(I,g,C),w===null?T=I:w.sibling=I,w=I,x=R}if(C===_.length)return n(p,x),ge&&nr(p,C),T;if(x===null){for(;C<_.length;C++)x=h(p,_[C],E),x!==null&&(g=s(x,g,C),w===null?T=x:w.sibling=x,w=x);return ge&&nr(p,C),T}for(x=r(p,x);C<_.length;C++)R=f(x,p,C,_[C],E),R!==null&&(t&&R.alternate!==null&&x.delete(R.key===null?C:R.key),g=s(R,g,C),w===null?T=R:w.sibling=R,w=R);return t&&x.forEach(function(N){return e(p,N)}),ge&&nr(p,C),T}function y(p,g,_,E){var T=Li(_);if(typeof T!="function")throw Error(S(150));if(_=T.call(_),_==null)throw Error(S(151));for(var w=T=null,x=g,C=g=0,R=null,I=_.next();x!==null&&!I.done;C++,I=_.next()){x.index>C?(R=x,x=null):R=x.sibling;var N=d(p,x,I.value,E);if(N===null){x===null&&(x=R);break}t&&x&&N.alternate===null&&e(p,x),g=s(N,g,C),w===null?T=N:w.sibling=N,w=N,x=R}if(I.done)return n(p,x),ge&&nr(p,C),T;if(x===null){for(;!I.done;C++,I=_.next())I=h(p,I.value,E),I!==null&&(g=s(I,g,C),w===null?T=I:w.sibling=I,w=I);return ge&&nr(p,C),T}for(x=r(p,x);!I.done;C++,I=_.next())I=f(x,p,C,I.value,E),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?C:I.key),g=s(I,g,C),w===null?T=I:w.sibling=I,w=I);return t&&x.forEach(function(X){return e(p,X)}),ge&&nr(p,C),T}function v(p,g,_,E){if(typeof _=="object"&&_!==null&&_.type===Fr&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case to:e:{for(var T=_.key,w=g;w!==null;){if(w.key===T){if(T=_.type,T===Fr){if(w.tag===7){n(p,w.sibling),g=i(w,_.props.children),g.return=p,p=g;break e}}else if(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===wn&&Jd(T)===w.type){n(p,w.sibling),g=i(w,_.props),g.ref=Ni(p,w,_),g.return=p,p=g;break e}n(p,w);break}else e(p,w);w=w.sibling}_.type===Fr?(g=cr(_.props.children,p.mode,E,_.key),g.return=p,p=g):(E=Go(_.type,_.key,_.props,null,p.mode,E),E.ref=Ni(p,g,_),E.return=p,p=E)}return o(p);case Nr:e:{for(w=_.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(p,g.sibling),g=i(g,_.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else e(p,g);g=g.sibling}g=Ba(_,p.mode,E),g.return=p,p=g}return o(p);case wn:return w=_._init,v(p,g,w(_._payload),E)}if(Bi(_))return m(p,g,_,E);if(Li(_))return y(p,g,_,E);fo(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(p,g.sibling),g=i(g,_),g.return=p,p=g):(n(p,g),g=ja(_,p.mode,E),g.return=p,p=g),o(p)):n(p,g)}return v}var ai=zp(!0),Up=zp(!1),zs={},Wt=Vn(zs),_s=Vn(zs),vs=Vn(zs);function or(t){if(t===zs)throw Error(S(174));return t}function Wc(t,e){switch(ae(vs,e),ae(_s,t),ae(Wt,zs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vu(e,t)}he(Wt),ae(Wt,e)}function ui(){he(Wt),he(_s),he(vs)}function Gp(t){or(vs.current);var e=or(Wt.current),n=vu(e,t.type);e!==n&&(ae(_s,t),ae(Wt,n))}function Yc(t){_s.current===t&&(he(Wt),he(_s))}var pe=Vn(0);function ll(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Na=[];function Zc(){for(var t=0;t<Na.length;t++)Na[t]._workInProgressVersionPrimary=null;Na.length=0}var No=gn.ReactCurrentDispatcher,Fa=gn.ReactCurrentBatchConfig,fr=0,ye=null,Pe=null,Oe=null,al=!1,Ji=!1,Es=0,m1=0;function Ue(){throw Error(S(321))}function qc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!bt(t[n],e[n]))return!1;return!0}function Qc(t,e,n,r,i,s){if(fr=s,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,No.current=t===null||t.memoizedState===null?E1:T1,t=n(r,i),Ji){s=0;do{if(Ji=!1,Es=0,25<=s)throw Error(S(301));s+=1,Oe=Pe=null,e.updateQueue=null,No.current=w1,t=n(r,i)}while(Ji)}if(No.current=ul,e=Pe!==null&&Pe.next!==null,fr=0,Oe=Pe=ye=null,al=!1,e)throw Error(S(300));return t}function Jc(){var t=Es!==0;return Es=0,t}function Xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ye.memoizedState=Oe=t:Oe=Oe.next=t,Oe}function St(){if(Pe===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Oe===null?ye.memoizedState:Oe.next;if(e!==null)Oe=e,Pe=t;else{if(t===null)throw Error(S(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Oe===null?ye.memoizedState=Oe=t:Oe=Oe.next=t}return Oe}function Ts(t,e){return typeof e=="function"?e(t):e}function ba(t){var e=St(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=Pe,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((fr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,ye.lanes|=c,gr|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,bt(r,e.memoizedState)||(it=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ye.lanes|=s,gr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function za(t){var e=St(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);bt(s,e.memoizedState)||(it=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function jp(){}function Bp(t,e){var n=ye,r=St(),i=e(),s=!bt(r.memoizedState,i);if(s&&(r.memoizedState=i,it=!0),r=r.queue,eh(Vp.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Oe!==null&&Oe.memoizedState.tag&1){if(n.flags|=2048,ws(9,Xp.bind(null,n,r,i,e),void 0,null),De===null)throw Error(S(349));fr&30||$p(n,e,i)}return i}function $p(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xp(t,e,n,r){e.value=n,e.getSnapshot=r,Kp(e)&&Hp(t)}function Vp(t,e,n){return n(function(){Kp(e)&&Hp(t)})}function Kp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!bt(t,n)}catch{return!0}}function Hp(t){var e=hn(t,1);e!==null&&Nt(e,t,1,-1)}function ef(t){var e=Xt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ts,lastRenderedState:t},e.queue=t,t=t.dispatch=v1.bind(null,ye,t),[e.memoizedState,t]}function ws(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Wp(){return St().memoizedState}function Fo(t,e,n,r){var i=Xt();ye.flags|=t,i.memoizedState=ws(1|e,n,void 0,r===void 0?null:r)}function $l(t,e,n,r){var i=St();r=r===void 0?null:r;var s=void 0;if(Pe!==null){var o=Pe.memoizedState;if(s=o.destroy,r!==null&&qc(r,o.deps)){i.memoizedState=ws(e,n,s,r);return}}ye.flags|=t,i.memoizedState=ws(1|e,n,s,r)}function tf(t,e){return Fo(8390656,8,t,e)}function eh(t,e){return $l(2048,8,t,e)}function Yp(t,e){return $l(4,2,t,e)}function Zp(t,e){return $l(4,4,t,e)}function qp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Qp(t,e,n){return n=n!=null?n.concat([t]):null,$l(4,4,qp.bind(null,e,t),n)}function th(){}function Jp(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function em(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function tm(t,e,n){return fr&21?(bt(n,e)||(n=ip(),ye.lanes|=n,gr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,it=!0),t.memoizedState=n)}function y1(t,e){var n=re;re=n!==0&&4>n?n:4,t(!0);var r=Fa.transition;Fa.transition={};try{t(!1),e()}finally{re=n,Fa.transition=r}}function nm(){return St().memoizedState}function _1(t,e,n){var r=Un(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rm(t))im(e,n);else if(n=kp(t,e,n,r),n!==null){var i=He();Nt(n,t,r,i),sm(n,e,r)}}function v1(t,e,n){var r=Un(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rm(t))im(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,bt(l,o)){var a=e.interleaved;a===null?(i.next=i,Kc(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=kp(t,e,i,r),n!==null&&(i=He(),Nt(n,t,r,i),sm(n,e,r))}}function rm(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function im(t,e){Ji=al=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dc(t,n)}}var ul={readContext:Rt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},E1={readContext:Rt,useCallback:function(t,e){return Xt().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:tf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fo(4194308,4,qp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fo(4,2,t,e)},useMemo:function(t,e){var n=Xt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_1.bind(null,ye,t),[r.memoizedState,t]},useRef:function(t){var e=Xt();return t={current:t},e.memoizedState=t},useState:ef,useDebugValue:th,useDeferredValue:function(t){return Xt().memoizedState=t},useTransition:function(){var t=ef(!1),e=t[0];return t=y1.bind(null,t[1]),Xt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ye,i=Xt();if(ge){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),De===null)throw Error(S(349));fr&30||$p(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,tf(Vp.bind(null,r,s,t),[t]),r.flags|=2048,ws(9,Xp.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Xt(),e=De.identifierPrefix;if(ge){var n=sn,r=rn;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Es++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=m1++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},T1={readContext:Rt,useCallback:Jp,useContext:Rt,useEffect:eh,useImperativeHandle:Qp,useInsertionEffect:Yp,useLayoutEffect:Zp,useMemo:em,useReducer:ba,useRef:Wp,useState:function(){return ba(Ts)},useDebugValue:th,useDeferredValue:function(t){var e=St();return tm(e,Pe.memoizedState,t)},useTransition:function(){var t=ba(Ts)[0],e=St().memoizedState;return[t,e]},useMutableSource:jp,useSyncExternalStore:Bp,useId:nm,unstable_isNewReconciler:!1},w1={readContext:Rt,useCallback:Jp,useContext:Rt,useEffect:eh,useImperativeHandle:Qp,useInsertionEffect:Yp,useLayoutEffect:Zp,useMemo:em,useReducer:za,useRef:Wp,useState:function(){return za(Ts)},useDebugValue:th,useDeferredValue:function(t){var e=St();return Pe===null?e.memoizedState=t:tm(e,Pe.memoizedState,t)},useTransition:function(){var t=za(Ts)[0],e=St().memoizedState;return[t,e]},useMutableSource:jp,useSyncExternalStore:Bp,useId:nm,unstable_isNewReconciler:!1};function ci(t,e){try{var n="",r=e;do n+=Zy(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ua(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var x1=typeof WeakMap=="function"?WeakMap:Map;function om(t,e,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){hl||(hl=!0,Qu=r),Bu(t,e)},n}function lm(t,e,n){n=ln(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Bu(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bu(t,e),typeof r!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new x1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=b1.bind(null,t,e,n),e.then(t,t))}function rf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sf(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ln(-1,1),e.tag=2,bn(n,e,1))),n.lanes|=1),t)}var C1=gn.ReactCurrentOwner,it=!1;function Ve(t,e,n,r){e.child=t===null?Up(e,null,n,r):ai(e,t.child,n,r)}function of(t,e,n,r,i){n=n.render;var s=e.ref;return Qr(e,i),r=Qc(t,e,n,r,s,i),n=Jc(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dn(t,e,i)):(ge&&n&&Gc(e),e.flags|=1,Ve(t,e,r,i),e.child)}function lf(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!uh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,am(t,e,s,r,i)):(t=Go(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:gs,n(o,r)&&t.ref===e.ref)return dn(t,e,i)}return e.flags|=1,t=Gn(s,r),t.ref=e.ref,t.return=e,e.child=t}function am(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(gs(s,r)&&t.ref===e.ref)if(it=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(it=!0);else return e.lanes=t.lanes,dn(t,e,i)}return $u(t,e,n,r,i)}function um(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Kr,ut),ut|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(Kr,ut),ut|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ae(Kr,ut),ut|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ae(Kr,ut),ut|=r;return Ve(t,e,i,n),e.child}function cm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $u(t,e,n,r,i){var s=lt(n)?hr:Xe.current;return s=oi(e,s),Qr(e,i),n=Qc(t,e,n,r,s,i),r=Jc(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,dn(t,e,i)):(ge&&r&&Gc(e),e.flags|=1,Ve(t,e,n,i),e.child)}function af(t,e,n,r,i){if(lt(n)){var s=!0;tl(e)}else s=!1;if(Qr(e,i),e.stateNode===null)bo(t,e),bp(e,n,r),ju(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rt(u):(u=lt(n)?hr:Xe.current,u=oi(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Qd(e,o,r,u),xn=!1;var d=e.memoizedState;o.state=d,ol(e,r,o,i),a=e.memoizedState,l!==r||d!==a||ot.current||xn?(typeof c=="function"&&(Gu(e,n,c,r),a=e.memoizedState),(l=xn||qd(e,n,l,r,d,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Np(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:At(e.type,l),o.props=u,h=e.pendingProps,d=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Rt(a):(a=lt(n)?hr:Xe.current,a=oi(e,a));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||d!==a)&&Qd(e,o,r,a),xn=!1,d=e.memoizedState,o.state=d,ol(e,r,o,i);var m=e.memoizedState;l!==h||d!==m||ot.current||xn?(typeof f=="function"&&(Gu(e,n,f,r),m=e.memoizedState),(u=xn||qd(e,n,u,r,d,m,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Xu(t,e,n,r,s,i)}function Xu(t,e,n,r,i,s){cm(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Kd(e,n,!1),dn(t,e,s);r=e.stateNode,C1.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ai(e,t.child,null,s),e.child=ai(e,null,l,s)):Ve(t,e,l,s),e.memoizedState=r.state,i&&Kd(e,n,!0),e.child}function hm(t){var e=t.stateNode;e.pendingContext?Vd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vd(t,e.context,!1),Wc(t,e.containerInfo)}function uf(t,e,n,r,i){return li(),Bc(i),e.flags|=256,Ve(t,e,n,r),e.child}var Vu={dehydrated:null,treeContext:null,retryLane:0};function Ku(t){return{baseLanes:t,cachePool:null,transitions:null}}function dm(t,e,n){var r=e.pendingProps,i=pe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ae(pe,i&1),t===null)return zu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Kl(o,r,0,null),t=cr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ku(n),e.memoizedState=Vu,t):nh(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return R1(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Gn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Gn(l,s):(s=cr(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ku(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Vu,r}return s=t.child,t=s.sibling,r=Gn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function nh(t,e){return e=Kl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function go(t,e,n,r){return r!==null&&Bc(r),ai(e,t.child,null,n),t=nh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function R1(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ua(Error(S(422))),go(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Kl({mode:"visible",children:r.children},i,0,null),s=cr(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ai(e,t.child,null,o),e.child.memoizedState=Ku(o),e.memoizedState=Vu,s);if(!(e.mode&1))return go(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(S(419)),r=Ua(s,r,void 0),go(t,e,o,r)}if(l=(o&t.childLanes)!==0,it||l){if(r=De,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hn(t,i),Nt(r,t,i,-1))}return ah(),r=Ua(Error(S(421))),go(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=z1.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ct=Fn(i.nextSibling),ht=e,ge=!0,Ot=null,t!==null&&(vt[Et++]=rn,vt[Et++]=sn,vt[Et++]=dr,rn=t.id,sn=t.overflow,dr=e),e=nh(e,r.children),e.flags|=4096,e)}function cf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Uu(t.return,e,n)}function Ga(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function fm(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ve(t,e,r.children,n),r=pe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cf(t,n,e);else if(t.tag===19)cf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ae(pe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ll(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ga(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ll(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ga(e,!0,n,null,s);break;case"together":Ga(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=Gn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function S1(t,e,n){switch(e.tag){case 3:hm(e),li();break;case 5:Gp(e);break;case 1:lt(e.type)&&tl(e);break;case 4:Wc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ae(il,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ae(pe,pe.current&1),e.flags|=128,null):n&e.child.childLanes?dm(t,e,n):(ae(pe,pe.current&1),t=dn(t,e,n),t!==null?t.sibling:null);ae(pe,pe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return fm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ae(pe,pe.current),r)break;return null;case 22:case 23:return e.lanes=0,um(t,e,n)}return dn(t,e,n)}var gm,Hu,pm,mm;gm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hu=function(){};pm=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,or(Wt.current);var s=null;switch(n){case"input":i=pu(t,i),r=pu(t,r),s=[];break;case"select":i=_e({},i,{value:void 0}),r=_e({},r,{value:void 0}),s=[];break;case"textarea":i=_u(t,i),r=_u(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jo)}Eu(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ls.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ls.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ce("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};mm=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fi(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ge(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function I1(t,e,n){var r=e.pendingProps;switch(jc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(e),null;case 1:return lt(e.type)&&el(),Ge(e),null;case 3:return r=e.stateNode,ui(),he(ot),he(Xe),Zc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ho(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ot!==null&&(tc(Ot),Ot=null))),Hu(t,e),Ge(e),null;case 5:Yc(e);var i=or(vs.current);if(n=e.type,t!==null&&e.stateNode!=null)pm(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return Ge(e),null}if(t=or(Wt.current),ho(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Vt]=e,r[ys]=s,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(i=0;i<Xi.length;i++)ce(Xi[i],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":_d(r,s),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ce("invalid",r);break;case"textarea":Ed(r,s),ce("invalid",r)}Eu(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&co(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&co(r.textContent,l,t),i=["children",""+l]):ls.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ce("scroll",r)}switch(n){case"input":no(r),vd(r,s,!0);break;case"textarea":no(r),Td(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jo)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$g(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Vt]=e,t[ys]=r,gm(t,e,!1,!1),e.stateNode=t;e:{switch(o=Tu(n,r),n){case"dialog":ce("cancel",t),ce("close",t),i=r;break;case"iframe":case"object":case"embed":ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xi.length;i++)ce(Xi[i],t);i=r;break;case"source":ce("error",t),i=r;break;case"img":case"image":case"link":ce("error",t),ce("load",t),i=r;break;case"details":ce("toggle",t),i=r;break;case"input":_d(t,r),i=pu(t,r),ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=_e({},r,{value:void 0}),ce("invalid",t);break;case"textarea":Ed(t,r),i=_u(t,r),ce("invalid",t);break;default:i=r}Eu(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?Kg(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Xg(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&as(t,a):typeof a=="number"&&as(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ls.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ce("scroll",t):a!=null&&Sc(t,s,a,o))}switch(n){case"input":no(t),vd(t,r,!1);break;case"textarea":no(t),Td(t);break;case"option":r.value!=null&&t.setAttribute("value",""+jn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Wr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Wr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ge(e),null;case 6:if(t&&e.stateNode!=null)mm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=or(vs.current),or(Wt.current),ho(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vt]=e,(s=r.nodeValue!==n)&&(t=ht,t!==null))switch(t.tag){case 3:co(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&co(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vt]=e,e.stateNode=r}return Ge(e),null;case 13:if(he(pe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&ct!==null&&e.mode&1&&!(e.flags&128))Mp(),li(),e.flags|=98560,s=!1;else if(s=ho(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(S(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(S(317));s[Vt]=e}else li(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ge(e),s=!1}else Ot!==null&&(tc(Ot),Ot=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pe.current&1?Le===0&&(Le=3):ah())),e.updateQueue!==null&&(e.flags|=4),Ge(e),null);case 4:return ui(),Hu(t,e),t===null&&ps(e.stateNode.containerInfo),Ge(e),null;case 10:return Vc(e.type._context),Ge(e),null;case 17:return lt(e.type)&&el(),Ge(e),null;case 19:if(he(pe),s=e.memoizedState,s===null)return Ge(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Fi(s,!1);else{if(Le!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ll(t),o!==null){for(e.flags|=128,Fi(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ae(pe,pe.current&1|2),e.child}t=t.sibling}s.tail!==null&&Te()>hi&&(e.flags|=128,r=!0,Fi(s,!1),e.lanes=4194304)}else{if(!r)if(t=ll(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ge)return Ge(e),null}else 2*Te()-s.renderingStartTime>hi&&n!==1073741824&&(e.flags|=128,r=!0,Fi(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Te(),e.sibling=null,n=pe.current,ae(pe,r?n&1|2:n&1),e):(Ge(e),null);case 22:case 23:return lh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ut&1073741824&&(Ge(e),e.subtreeFlags&6&&(e.flags|=8192)):Ge(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function P1(t,e){switch(jc(e),e.tag){case 1:return lt(e.type)&&el(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ui(),he(ot),he(Xe),Zc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Yc(e),null;case 13:if(he(pe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));li()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(pe),null;case 4:return ui(),null;case 10:return Vc(e.type._context),null;case 22:case 23:return lh(),null;case 24:return null;default:return null}}var po=!1,Be=!1,A1=typeof WeakSet=="function"?WeakSet:Set,O=null;function Vr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(t,e,r)}else n.current=null}function Wu(t,e,n){try{n()}catch(r){Ee(t,e,r)}}var hf=!1;function L1(t,e){if(Ou=Zo,t=Ep(),Uc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==s||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(l=o),d===s&&++c===r&&(a=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Du={focusedElem:t,selectionRange:n},Zo=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,v=m.memoizedState,p=e.stateNode,g=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:At(e.type,y),v);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(E){Ee(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return m=hf,hf=!1,m}function es(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Wu(e,n,s)}i=i.next}while(i!==r)}}function Xl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Yu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ym(t){var e=t.alternate;e!==null&&(t.alternate=null,ym(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vt],delete e[ys],delete e[Nu],delete e[d1],delete e[f1])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _m(t){return t.tag===5||t.tag===3||t.tag===4}function df(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_m(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jo));else if(r!==4&&(t=t.child,t!==null))for(Zu(t,e,n),t=t.sibling;t!==null;)Zu(t,e,n),t=t.sibling}function qu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qu(t,e,n),t=t.sibling;t!==null;)qu(t,e,n),t=t.sibling}var Me=null,Lt=!1;function yn(t,e,n){for(n=n.child;n!==null;)vm(t,e,n),n=n.sibling}function vm(t,e,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Fl,n)}catch{}switch(n.tag){case 5:Be||Vr(n,e);case 6:var r=Me,i=Lt;Me=null,yn(t,e,n),Me=r,Lt=i,Me!==null&&(Lt?(t=Me,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Me.removeChild(n.stateNode));break;case 18:Me!==null&&(Lt?(t=Me,n=n.stateNode,t.nodeType===8?Ma(t.parentNode,n):t.nodeType===1&&Ma(t,n),ds(t)):Ma(Me,n.stateNode));break;case 4:r=Me,i=Lt,Me=n.stateNode.containerInfo,Lt=!0,yn(t,e,n),Me=r,Lt=i;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Wu(n,e,o),i=i.next}while(i!==r)}yn(t,e,n);break;case 1:if(!Be&&(Vr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ee(n,e,l)}yn(t,e,n);break;case 21:yn(t,e,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,yn(t,e,n),Be=r):yn(t,e,n);break;default:yn(t,e,n)}}function ff(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new A1),e.forEach(function(r){var i=U1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function It(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Me=l.stateNode,Lt=!1;break e;case 3:Me=l.stateNode.containerInfo,Lt=!0;break e;case 4:Me=l.stateNode.containerInfo,Lt=!0;break e}l=l.return}if(Me===null)throw Error(S(160));vm(s,o,i),Me=null,Lt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){Ee(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Em(e,t),e=e.sibling}function Em(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(It(e,t),Ut(t),r&4){try{es(3,t,t.return),Xl(3,t)}catch(y){Ee(t,t.return,y)}try{es(5,t,t.return)}catch(y){Ee(t,t.return,y)}}break;case 1:It(e,t),Ut(t),r&512&&n!==null&&Vr(n,n.return);break;case 5:if(It(e,t),Ut(t),r&512&&n!==null&&Vr(n,n.return),t.flags&32){var i=t.stateNode;try{as(i,"")}catch(y){Ee(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&jg(i,s),Tu(l,o);var u=Tu(l,s);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?Kg(i,h):c==="dangerouslySetInnerHTML"?Xg(i,h):c==="children"?as(i,h):Sc(i,c,h,u)}switch(l){case"input":mu(i,s);break;case"textarea":Bg(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Wr(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?Wr(i,!!s.multiple,s.defaultValue,!0):Wr(i,!!s.multiple,s.multiple?[]:"",!1))}i[ys]=s}catch(y){Ee(t,t.return,y)}}break;case 6:if(It(e,t),Ut(t),r&4){if(t.stateNode===null)throw Error(S(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Ee(t,t.return,y)}}break;case 3:if(It(e,t),Ut(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ds(e.containerInfo)}catch(y){Ee(t,t.return,y)}break;case 4:It(e,t),Ut(t);break;case 13:It(e,t),Ut(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sh=Te())),r&4&&ff(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Be=(u=Be)||c,It(e,t),Be=u):It(e,t),Ut(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(O=t,c=t.child;c!==null;){for(h=O=c;O!==null;){switch(d=O,f=d.child,d.tag){case 0:case 11:case 14:case 15:es(4,d,d.return);break;case 1:Vr(d,d.return);var m=d.stateNode;if(typeof m.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Ee(r,n,y)}}break;case 5:Vr(d,d.return);break;case 22:if(d.memoizedState!==null){pf(h);continue}}f!==null?(f.return=d,O=f):pf(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Vg("display",o))}catch(y){Ee(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Ee(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:It(e,t),Ut(t),r&4&&ff(t);break;case 21:break;default:It(e,t),Ut(t)}}function Ut(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_m(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(as(i,""),r.flags&=-33);var s=df(t);qu(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=df(t);Zu(t,l,o);break;default:throw Error(S(161))}}catch(a){Ee(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function O1(t,e,n){O=t,Tm(t)}function Tm(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var i=O,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||po;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||Be;l=po;var u=Be;if(po=o,(Be=a)&&!u)for(O=i;O!==null;)o=O,a=o.child,o.tag===22&&o.memoizedState!==null?mf(i):a!==null?(a.return=o,O=a):mf(i);for(;s!==null;)O=s,Tm(s),s=s.sibling;O=i,po=l,Be=u}gf(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,O=s):gf(t)}}function gf(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Be||Xl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Be)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:At(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Zd(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Zd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&ds(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}Be||e.flags&512&&Yu(e)}catch(d){Ee(e,e.return,d)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function pf(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function mf(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xl(4,e)}catch(a){Ee(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){Ee(e,i,a)}}var s=e.return;try{Yu(e)}catch(a){Ee(e,s,a)}break;case 5:var o=e.return;try{Yu(e)}catch(a){Ee(e,o,a)}}}catch(a){Ee(e,e.return,a)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var D1=Math.ceil,cl=gn.ReactCurrentDispatcher,rh=gn.ReactCurrentOwner,xt=gn.ReactCurrentBatchConfig,K=0,De=null,Ie=null,Ne=0,ut=0,Kr=Vn(0),Le=0,xs=null,gr=0,Vl=0,ih=0,ts=null,nt=null,sh=0,hi=1/0,tn=null,hl=!1,Qu=null,zn=null,mo=!1,Ln=null,dl=0,ns=0,Ju=null,zo=-1,Uo=0;function He(){return K&6?Te():zo!==-1?zo:zo=Te()}function Un(t){return t.mode&1?K&2&&Ne!==0?Ne&-Ne:p1.transition!==null?(Uo===0&&(Uo=ip()),Uo):(t=re,t!==0||(t=window.event,t=t===void 0?16:hp(t.type)),t):1}function Nt(t,e,n,r){if(50<ns)throw ns=0,Ju=null,Error(S(185));Ns(t,n,r),(!(K&2)||t!==De)&&(t===De&&(!(K&2)&&(Vl|=n),Le===4&&Sn(t,Ne)),at(t,r),n===1&&K===0&&!(e.mode&1)&&(hi=Te()+500,jl&&Kn()))}function at(t,e){var n=t.callbackNode;p_(t,e);var r=Yo(t,t===De?Ne:0);if(r===0)n!==null&&Cd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Cd(n),e===1)t.tag===0?g1(yf.bind(null,t)):Lp(yf.bind(null,t)),c1(function(){!(K&6)&&Kn()}),n=null;else{switch(sp(r)){case 1:n=Oc;break;case 4:n=np;break;case 16:n=Wo;break;case 536870912:n=rp;break;default:n=Wo}n=Am(n,wm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wm(t,e){if(zo=-1,Uo=0,K&6)throw Error(S(327));var n=t.callbackNode;if(Jr()&&t.callbackNode!==n)return null;var r=Yo(t,t===De?Ne:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fl(t,r);else{e=r;var i=K;K|=2;var s=Cm();(De!==t||Ne!==e)&&(tn=null,hi=Te()+500,ur(t,e));do try{N1();break}catch(l){xm(t,l)}while(!0);Xc(),cl.current=s,K=i,Ie!==null?e=0:(De=null,Ne=0,e=Le)}if(e!==0){if(e===2&&(i=Su(t),i!==0&&(r=i,e=ec(t,i))),e===1)throw n=xs,ur(t,0),Sn(t,r),at(t,Te()),n;if(e===6)Sn(t,r);else{if(i=t.current.alternate,!(r&30)&&!M1(i)&&(e=fl(t,r),e===2&&(s=Su(t),s!==0&&(r=s,e=ec(t,s))),e===1))throw n=xs,ur(t,0),Sn(t,r),at(t,Te()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:rr(t,nt,tn);break;case 3:if(Sn(t,r),(r&130023424)===r&&(e=sh+500-Te(),10<e)){if(Yo(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){He(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ku(rr.bind(null,t,nt,tn),e);break}rr(t,nt,tn);break;case 4:if(Sn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-kt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D1(r/1960))-r,10<r){t.timeoutHandle=ku(rr.bind(null,t,nt,tn),r);break}rr(t,nt,tn);break;case 5:rr(t,nt,tn);break;default:throw Error(S(329))}}}return at(t,Te()),t.callbackNode===n?wm.bind(null,t):null}function ec(t,e){var n=ts;return t.current.memoizedState.isDehydrated&&(ur(t,e).flags|=256),t=fl(t,e),t!==2&&(e=nt,nt=n,e!==null&&tc(e)),t}function tc(t){nt===null?nt=t:nt.push.apply(nt,t)}function M1(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!bt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Sn(t,e){for(e&=~ih,e&=~Vl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kt(e),r=1<<n;t[n]=-1,e&=~r}}function yf(t){if(K&6)throw Error(S(327));Jr();var e=Yo(t,0);if(!(e&1))return at(t,Te()),null;var n=fl(t,e);if(t.tag!==0&&n===2){var r=Su(t);r!==0&&(e=r,n=ec(t,r))}if(n===1)throw n=xs,ur(t,0),Sn(t,e),at(t,Te()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rr(t,nt,tn),at(t,Te()),null}function oh(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&(hi=Te()+500,jl&&Kn())}}function pr(t){Ln!==null&&Ln.tag===0&&!(K&6)&&Jr();var e=K;K|=1;var n=xt.transition,r=re;try{if(xt.transition=null,re=1,t)return t()}finally{re=r,xt.transition=n,K=e,!(K&6)&&Kn()}}function lh(){ut=Kr.current,he(Kr)}function ur(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,u1(n)),Ie!==null)for(n=Ie.return;n!==null;){var r=n;switch(jc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&el();break;case 3:ui(),he(ot),he(Xe),Zc();break;case 5:Yc(r);break;case 4:ui();break;case 13:he(pe);break;case 19:he(pe);break;case 10:Vc(r.type._context);break;case 22:case 23:lh()}n=n.return}if(De=t,Ie=t=Gn(t.current,null),Ne=ut=e,Le=0,xs=null,ih=Vl=gr=0,nt=ts=null,sr!==null){for(e=0;e<sr.length;e++)if(n=sr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}sr=null}return t}function xm(t,e){do{var n=Ie;try{if(Xc(),No.current=ul,al){for(var r=ye.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}al=!1}if(fr=0,Oe=Pe=ye=null,Ji=!1,Es=0,rh.current=null,n===null||n.return===null){Le=1,xs=e,Ie=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Ne,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=rf(o);if(f!==null){f.flags&=-257,sf(f,o,l,s,e),f.mode&1&&nf(s,u,e),e=f,a=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(a),e.updateQueue=y}else m.add(a);break e}else{if(!(e&1)){nf(s,u,e),ah();break e}a=Error(S(426))}}else if(ge&&l.mode&1){var v=rf(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),sf(v,o,l,s,e),Bc(ci(a,l));break e}}s=a=ci(a,l),Le!==4&&(Le=2),ts===null?ts=[s]:ts.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=om(s,a,e);Yd(s,p);break e;case 1:l=a;var g=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(zn===null||!zn.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=lm(s,l,e);Yd(s,E);break e}}s=s.return}while(s!==null)}Sm(n)}catch(T){e=T,Ie===n&&n!==null&&(Ie=n=n.return);continue}break}while(!0)}function Cm(){var t=cl.current;return cl.current=ul,t===null?ul:t}function ah(){(Le===0||Le===3||Le===2)&&(Le=4),De===null||!(gr&268435455)&&!(Vl&268435455)||Sn(De,Ne)}function fl(t,e){var n=K;K|=2;var r=Cm();(De!==t||Ne!==e)&&(tn=null,ur(t,e));do try{k1();break}catch(i){xm(t,i)}while(!0);if(Xc(),K=n,cl.current=r,Ie!==null)throw Error(S(261));return De=null,Ne=0,Le}function k1(){for(;Ie!==null;)Rm(Ie)}function N1(){for(;Ie!==null&&!o_();)Rm(Ie)}function Rm(t){var e=Pm(t.alternate,t,ut);t.memoizedProps=t.pendingProps,e===null?Sm(t):Ie=e,rh.current=null}function Sm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=P1(n,e),n!==null){n.flags&=32767,Ie=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Le=6,Ie=null;return}}else if(n=I1(n,e,ut),n!==null){Ie=n;return}if(e=e.sibling,e!==null){Ie=e;return}Ie=e=t}while(e!==null);Le===0&&(Le=5)}function rr(t,e,n){var r=re,i=xt.transition;try{xt.transition=null,re=1,F1(t,e,n,r)}finally{xt.transition=i,re=r}return null}function F1(t,e,n,r){do Jr();while(Ln!==null);if(K&6)throw Error(S(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(m_(t,s),t===De&&(Ie=De=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mo||(mo=!0,Am(Wo,function(){return Jr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=xt.transition,xt.transition=null;var o=re;re=1;var l=K;K|=4,rh.current=null,L1(t,n),Em(n,t),n1(Du),Zo=!!Ou,Du=Ou=null,t.current=n,O1(n),l_(),K=l,re=o,xt.transition=s}else t.current=n;if(mo&&(mo=!1,Ln=t,dl=i),s=t.pendingLanes,s===0&&(zn=null),c_(n.stateNode),at(t,Te()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(hl)throw hl=!1,t=Qu,Qu=null,t;return dl&1&&t.tag!==0&&Jr(),s=t.pendingLanes,s&1?t===Ju?ns++:(ns=0,Ju=t):ns=0,Kn(),null}function Jr(){if(Ln!==null){var t=sp(dl),e=xt.transition,n=re;try{if(xt.transition=null,re=16>t?16:t,Ln===null)var r=!1;else{if(t=Ln,Ln=null,dl=0,K&6)throw Error(S(331));var i=K;for(K|=4,O=t.current;O!==null;){var s=O,o=s.child;if(O.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(O=u;O!==null;){var c=O;switch(c.tag){case 0:case 11:case 15:es(8,c,s)}var h=c.child;if(h!==null)h.return=c,O=h;else for(;O!==null;){c=O;var d=c.sibling,f=c.return;if(ym(c),c===u){O=null;break}if(d!==null){d.return=f,O=d;break}O=f}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}O=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,O=o;else e:for(;O!==null;){if(s=O,s.flags&2048)switch(s.tag){case 0:case 11:case 15:es(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,O=p;break e}O=s.return}}var g=t.current;for(O=g;O!==null;){o=O;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,O=_;else e:for(o=g;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xl(9,l)}}catch(T){Ee(l,l.return,T)}if(l===o){O=null;break e}var E=l.sibling;if(E!==null){E.return=l.return,O=E;break e}O=l.return}}if(K=i,Kn(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Fl,t)}catch{}r=!0}return r}finally{re=n,xt.transition=e}}return!1}function _f(t,e,n){e=ci(n,e),e=om(t,e,1),t=bn(t,e,1),e=He(),t!==null&&(Ns(t,1,e),at(t,e))}function Ee(t,e,n){if(t.tag===3)_f(t,t,n);else for(;e!==null;){if(e.tag===3){_f(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zn===null||!zn.has(r))){t=ci(n,t),t=lm(e,t,1),e=bn(e,t,1),t=He(),e!==null&&(Ns(e,1,t),at(e,t));break}}e=e.return}}function b1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=He(),t.pingedLanes|=t.suspendedLanes&n,De===t&&(Ne&n)===n&&(Le===4||Le===3&&(Ne&130023424)===Ne&&500>Te()-sh?ur(t,0):ih|=n),at(t,e)}function Im(t,e){e===0&&(t.mode&1?(e=so,so<<=1,!(so&130023424)&&(so=4194304)):e=1);var n=He();t=hn(t,e),t!==null&&(Ns(t,e,n),at(t,n))}function z1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Im(t,n)}function U1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),Im(t,n)}var Pm;Pm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ot.current)it=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return it=!1,S1(t,e,n);it=!!(t.flags&131072)}else it=!1,ge&&e.flags&1048576&&Op(e,rl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bo(t,e),t=e.pendingProps;var i=oi(e,Xe.current);Qr(e,n),i=Qc(null,e,r,t,i,n);var s=Jc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lt(r)?(s=!0,tl(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Hc(e),i.updater=Bl,e.stateNode=i,i._reactInternals=e,ju(e,r,t,n),e=Xu(null,e,r,!0,s,n)):(e.tag=0,ge&&s&&Gc(e),Ve(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bo(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=j1(r),t=At(r,t),i){case 0:e=$u(null,e,r,t,n);break e;case 1:e=af(null,e,r,t,n);break e;case 11:e=of(null,e,r,t,n);break e;case 14:e=lf(null,e,r,At(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:At(r,i),$u(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:At(r,i),af(t,e,r,i,n);case 3:e:{if(hm(e),t===null)throw Error(S(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Np(t,e),ol(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ci(Error(S(423)),e),e=uf(t,e,r,n,i);break e}else if(r!==i){i=ci(Error(S(424)),e),e=uf(t,e,r,n,i);break e}else for(ct=Fn(e.stateNode.containerInfo.firstChild),ht=e,ge=!0,Ot=null,n=Up(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(li(),r===i){e=dn(t,e,n);break e}Ve(t,e,r,n)}e=e.child}return e;case 5:return Gp(e),t===null&&zu(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Mu(r,i)?o=null:s!==null&&Mu(r,s)&&(e.flags|=32),cm(t,e),Ve(t,e,o,n),e.child;case 6:return t===null&&zu(e),null;case 13:return dm(t,e,n);case 4:return Wc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ai(e,null,r,n):Ve(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:At(r,i),of(t,e,r,i,n);case 7:return Ve(t,e,e.pendingProps,n),e.child;case 8:return Ve(t,e,e.pendingProps.children,n),e.child;case 12:return Ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ae(il,r._currentValue),r._currentValue=o,s!==null)if(bt(s.value,o)){if(s.children===i.children&&!ot.current){e=dn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=ln(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Uu(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(S(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Uu(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ve(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qr(e,n),i=Rt(i),r=r(i),e.flags|=1,Ve(t,e,r,n),e.child;case 14:return r=e.type,i=At(r,e.pendingProps),i=At(r.type,i),lf(t,e,r,i,n);case 15:return am(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:At(r,i),bo(t,e),e.tag=1,lt(r)?(t=!0,tl(e)):t=!1,Qr(e,n),bp(e,r,i),ju(e,r,i,n),Xu(null,e,r,!0,t,n);case 19:return fm(t,e,n);case 22:return um(t,e,n)}throw Error(S(156,e.tag))};function Am(t,e){return tp(t,e)}function G1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(t,e,n,r){return new G1(t,e,n,r)}function uh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function j1(t){if(typeof t=="function")return uh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Pc)return 11;if(t===Ac)return 14}return 2}function Gn(t,e){var n=t.alternate;return n===null?(n=wt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Go(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")uh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Fr:return cr(n.children,i,s,e);case Ic:o=8,i|=8;break;case hu:return t=wt(12,n,e,i|2),t.elementType=hu,t.lanes=s,t;case du:return t=wt(13,n,e,i),t.elementType=du,t.lanes=s,t;case fu:return t=wt(19,n,e,i),t.elementType=fu,t.lanes=s,t;case zg:return Kl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fg:o=10;break e;case bg:o=9;break e;case Pc:o=11;break e;case Ac:o=14;break e;case wn:o=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=wt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function cr(t,e,n,r){return t=wt(7,t,r,e),t.lanes=n,t}function Kl(t,e,n,r){return t=wt(22,t,r,e),t.elementType=zg,t.lanes=n,t.stateNode={isHidden:!1},t}function ja(t,e,n){return t=wt(6,t,null,e),t.lanes=n,t}function Ba(t,e,n){return e=wt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function B1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ch(t,e,n,r,i,s,o,l,a){return t=new B1(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=wt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hc(s),t}function $1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Lm(t){if(!t)return Bn;t=t._reactInternals;e:{if(_r(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if(lt(n))return Ap(t,n,e)}return e}function Om(t,e,n,r,i,s,o,l,a){return t=ch(n,r,!0,t,i,s,o,l,a),t.context=Lm(null),n=t.current,r=He(),i=Un(n),s=ln(r,i),s.callback=e??null,bn(n,s,i),t.current.lanes=i,Ns(t,i,r),at(t,r),t}function Hl(t,e,n,r){var i=e.current,s=He(),o=Un(i);return n=Lm(n),e.context===null?e.context=n:e.pendingContext=n,e=ln(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bn(i,e,o),t!==null&&(Nt(t,i,o,s),ko(t,i,o)),o}function gl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hh(t,e){vf(t,e),(t=t.alternate)&&vf(t,e)}function X1(){return null}var Dm=typeof reportError=="function"?reportError:function(t){console.error(t)};function dh(t){this._internalRoot=t}Wl.prototype.render=dh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));Hl(t,e,null,null)};Wl.prototype.unmount=dh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pr(function(){Hl(null,t,null,null)}),e[cn]=null}};function Wl(t){this._internalRoot=t}Wl.prototype.unstable_scheduleHydration=function(t){if(t){var e=ap();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rn.length&&e!==0&&e<Rn[n].priority;n++);Rn.splice(n,0,t),n===0&&cp(t)}};function fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ef(){}function V1(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=gl(o);s.call(u)}}var o=Om(e,r,t,0,null,!1,!1,"",Ef);return t._reactRootContainer=o,t[cn]=o.current,ps(t.nodeType===8?t.parentNode:t),pr(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=gl(a);l.call(u)}}var a=ch(t,0,!1,null,null,!1,!1,"",Ef);return t._reactRootContainer=a,t[cn]=a.current,ps(t.nodeType===8?t.parentNode:t),pr(function(){Hl(e,a,n,r)}),a}function Zl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=gl(o);l.call(a)}}Hl(e,o,t,i)}else o=V1(n,e,t,i,r);return gl(o)}op=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$i(e.pendingLanes);n!==0&&(Dc(e,n|1),at(e,Te()),!(K&6)&&(hi=Te()+500,Kn()))}break;case 13:pr(function(){var r=hn(t,1);if(r!==null){var i=He();Nt(r,t,1,i)}}),hh(t,1)}};Mc=function(t){if(t.tag===13){var e=hn(t,134217728);if(e!==null){var n=He();Nt(e,t,134217728,n)}hh(t,134217728)}};lp=function(t){if(t.tag===13){var e=Un(t),n=hn(t,e);if(n!==null){var r=He();Nt(n,t,e,r)}hh(t,e)}};ap=function(){return re};up=function(t,e){var n=re;try{return re=t,e()}finally{re=n}};xu=function(t,e,n){switch(e){case"input":if(mu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Gl(r);if(!i)throw Error(S(90));Gg(r),mu(r,i)}}}break;case"textarea":Bg(t,n);break;case"select":e=n.value,e!=null&&Wr(t,!!n.multiple,e,!1)}};Yg=oh;Zg=pr;var K1={usingClientEntryPoint:!1,Events:[bs,Gr,Gl,Hg,Wg,oh]},bi={findFiberByHostInstance:ir,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},H1={bundleType:bi.bundleType,version:bi.version,rendererPackageName:bi.rendererPackageName,rendererConfig:bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jg(t),t===null?null:t.stateNode},findFiberByHostInstance:bi.findFiberByHostInstance||X1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{Fl=yo.inject(H1),Ht=yo}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K1;ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fh(e))throw Error(S(200));return $1(t,e,null,n)};ft.createRoot=function(t,e){if(!fh(t))throw Error(S(299));var n=!1,r="",i=Dm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ch(t,1,!1,null,null,n,!1,r,i),t[cn]=e.current,ps(t.nodeType===8?t.parentNode:t),new dh(e)};ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=Jg(e),t=t===null?null:t.stateNode,t};ft.flushSync=function(t){return pr(t)};ft.hydrate=function(t,e,n){if(!Yl(e))throw Error(S(200));return Zl(null,t,e,!0,n)};ft.hydrateRoot=function(t,e,n){if(!fh(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Dm;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Om(e,null,t,1,n??null,i,!1,s,o),t[cn]=e.current,ps(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wl(e)};ft.render=function(t,e,n){if(!Yl(e))throw Error(S(200));return Zl(null,t,e,!1,n)};ft.unmountComponentAtNode=function(t){if(!Yl(t))throw Error(S(40));return t._reactRootContainer?(pr(function(){Zl(null,null,t,!1,function(){t._reactRootContainer=null,t[cn]=null})}),!0):!1};ft.unstable_batchedUpdates=oh;ft.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yl(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return Zl(t,e,n,!1,r)};ft.version="18.2.0-next-9e3b772b8-20220608";function Mm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mm)}catch(t){console.error(t)}}Mm(),Og.exports=ft;var km=Og.exports;const W1=Ms(km);var Tf=km;uu.createRoot=Tf.createRoot,uu.hydrateRoot=Tf.hydrateRoot;var Nm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var l in s)e.call(s,l)&&s[l]&&(o=i(o,l));return o}function i(s,o){return o?s?s+" "+o:s+o:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Nm);var Y1=Nm.exports;const Vi=Ms(Y1);function Z1(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}else return Array.from(t)}var gh=!1;if(typeof window<"u"){var wf={get passive(){gh=!0}};window.addEventListener("testPassive",null,wf),window.removeEventListener("testPassive",null,wf)}var Fm=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),On=[],pl=!1,bm=-1,rs=void 0,is=void 0,zm=function(e){return On.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(e))})},ml=function(e){var n=e||window.event;return zm(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},q1=function(e){if(is===void 0){var n=!!e&&e.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;n&&r>0&&(is=document.body.style.paddingRight,document.body.style.paddingRight=r+"px")}rs===void 0&&(rs=document.body.style.overflow,document.body.style.overflow="hidden")},Q1=function(){is!==void 0&&(document.body.style.paddingRight=is,is=void 0),rs!==void 0&&(document.body.style.overflow=rs,rs=void 0)},J1=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},ev=function(e,n){var r=e.targetTouches[0].clientY-bm;return zm(e.target)?!1:n&&n.scrollTop===0&&r>0||J1(n)&&r<0?ml(e):(e.stopPropagation(),!0)},tv=function(e,n){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!On.some(function(i){return i.targetElement===e})){var r={targetElement:e,options:n||{}};On=[].concat(Z1(On),[r]),Fm?(e.ontouchstart=function(i){i.targetTouches.length===1&&(bm=i.targetTouches[0].clientY)},e.ontouchmove=function(i){i.targetTouches.length===1&&ev(i,e)},pl||(document.addEventListener("touchmove",ml,gh?{passive:!1}:void 0),pl=!0)):q1(n)}},nv=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}On=On.filter(function(n){return n.targetElement!==e}),Fm?(e.ontouchstart=null,e.ontouchmove=null,pl&&On.length===0&&(document.removeEventListener("touchmove",ml,gh?{passive:!1}:void 0),pl=!1)):On.length||Q1()};function rv(t=null){let[e,n]=Re.useState(t);const{current:r}=Re.useRef({current:e});return Object.defineProperty(r,"current",{get:()=>e,set:i=>{Object.is(e,i)||(e=i,n(i))}}),r}function iv(t,e={isStateful:!0}){const n=rv(null),r=Ae.useRef(null),i=e.isStateful?n:r;return Re.useEffect(()=>{!t||(typeof t=="function"?t(i.current):t.current=i.current)}),i}function yl(){return yl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yl.apply(this,arguments)}var sv=function(e){var n=e.classes,r=e.classNames,i=e.styles,s=e.id,o=e.closeIcon,l=e.onClick;return Re.createElement("button",{id:s,className:Vi(n.closeButton,r==null?void 0:r.closeButton),style:i==null?void 0:i.closeButton,onClick:l,"data-testid":"close-button"},o||Re.createElement("svg",{className:r==null?void 0:r.closeIcon,style:i==null?void 0:i.closeIcon,width:28,height:28,viewBox:"0 0 36 36","data-testid":"close-icon"},Re.createElement("path",{d:"M28.5 9.62L26.38 7.5 18 15.88 9.62 7.5 7.5 9.62 15.88 18 7.5 26.38l2.12 2.12L18 20.12l8.38 8.38 2.12-2.12L20.12 18z"})))},jo=typeof window<"u",Um=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'];function ov(t){return t.offsetParent===null||getComputedStyle(t).visibility==="hidden"}function lv(t,e){for(var n=0;n<t.length;n++)if(t[n].checked&&t[n].form===e)return t[n]}function av(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!0;var e=t.form||t.ownerDocument,n=e.querySelectorAll('input[type="radio"][name="'+t.name+'"]'),r=lv(n,t.form);return r===t||r===void 0&&n[0]===t}function Gm(t){for(var e=document.activeElement,n=t.querySelectorAll(Um.join(",")),r=[],i=0;i<n.length;i++){var s=n[i];(e===s||!s.disabled&&cv(s)>-1&&!ov(s)&&av(s))&&r.push(s)}return r}function uv(t,e){if(!(!t||t.key!=="Tab")){if(!e||!e.contains)return process,!1;if(!e.contains(t.target))return!1;var n=Gm(e),r=n[0],i=n[n.length-1];return t.shiftKey&&t.target===r?(i.focus(),t.preventDefault(),!0):!t.shiftKey&&t.target===i?(r.focus(),t.preventDefault(),!0):!1}}function cv(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?hv(t)?0:t.tabIndex:e}function hv(t){return t.getAttribute("contentEditable")}var dv=function(e){var n=e.container,r=e.initialFocusRef,i=Ae.useRef();return Ae.useEffect(function(){var s=function(u){n!=null&&n.current&&uv(u,n.current)};if(jo&&document.addEventListener("keydown",s),jo&&(n!=null&&n.current)){var o=function(){Um.findIndex(function(u){var c;return(c=document.activeElement)==null?void 0:c.matches(u)})!==-1&&(i.current=document.activeElement)};if(r)o(),requestAnimationFrame(function(){var a;(a=r.current)==null||a.focus()});else{var l=Gm(n.current);l[0]&&(o(),l[0].focus())}}return function(){if(jo){var a;document.removeEventListener("keydown",s),(a=i.current)==null||a.focus()}}},[n,r]),null},xr=[],nc={add:function(e){xr.push(e)},remove:function(e){xr=xr.filter(function(n){return n!==e})},isTopModal:function(e){return!!xr.length&&xr[xr.length-1]===e}};function fv(t,e){Ae.useEffect(function(){return e&&nc.add(t),function(){nc.remove(t)}},[e,t])}var gv=function(e,n,r,i,s){var o=Ae.useRef(null);Ae.useEffect(function(){return n&&e.current&&i&&(o.current=e.current,tv(e.current,{reserveScrollBarGap:s})),function(){o.current&&(nv(o.current),o.current=null)}},[n,r,e,i,s])},Gt={root:"react-responsive-modal-root",overlay:"react-responsive-modal-overlay",overlayAnimationIn:"react-responsive-modal-overlay-in",overlayAnimationOut:"react-responsive-modal-overlay-out",modalContainer:"react-responsive-modal-container",modalContainerCenter:"react-responsive-modal-containerCenter",modal:"react-responsive-modal-modal",modalAnimationIn:"react-responsive-modal-modal-in",modalAnimationOut:"react-responsive-modal-modal-out",closeButton:"react-responsive-modal-closeButton"},pv=Re.forwardRef(function(t,e){var n,r,i,s,o=t.open,l=t.center,a=t.blockScroll,u=a===void 0?!0:a,c=t.closeOnEsc,h=c===void 0?!0:c,d=t.closeOnOverlayClick,f=d===void 0?!0:d,m=t.container,y=t.showCloseIcon,v=y===void 0?!0:y,p=t.closeIconId,g=t.closeIcon,_=t.focusTrapped,E=_===void 0?!0:_,T=t.initialFocusRef,w=T===void 0?void 0:T,x=t.animationDuration,C=x===void 0?300:x,R=t.classNames,I=t.styles,N=t.role,X=N===void 0?"dialog":N,ne=t.ariaDescribedby,ie=t.ariaLabelledby,Q=t.containerId,xe=t.modalId,V=t.onClose,A=t.onEscKeyDown,M=t.onOverlayClick,k=t.onAnimationEnd,Y=t.children,G=t.reserveScrollBarGap,de=iv(e),j=Ae.useRef(null),H=Ae.useRef(null),J=Ae.useRef(null);J.current===null&&jo&&(J.current=document.createElement("div"));var se=Ae.useState(!1),Qe=se[0],pt=se[1];fv(j,o),gv(j,o,Qe,u,G);var zt=function(){J.current&&!m&&!document.body.contains(J.current)&&document.body.appendChild(J.current),document.addEventListener("keydown",Zn)},Zs=function(){J.current&&!m&&document.body.contains(J.current)&&document.body.removeChild(J.current),document.removeEventListener("keydown",Zn)},Zn=function(Qn){Qn.keyCode!==27||!nc.isTopModal(j)||(A==null||A(Qn),h&&V())};Ae.useEffect(function(){return function(){Qe&&Zs()}},[Qe]),Ae.useEffect(function(){o&&!Qe&&(pt(!0),zt())},[o]);var ga=function(Qn){if(H.current===null&&(H.current=!0),!H.current){H.current=null;return}M==null||M(Qn),f&&V(),H.current=null},Tr=function(){H.current=!1},pa=function(){o||pt(!1),k==null||k()},qt=m||J.current,qs=o?(n=R==null?void 0:R.overlayAnimationIn)!=null?n:Gt.overlayAnimationIn:(r=R==null?void 0:R.overlayAnimationOut)!=null?r:Gt.overlayAnimationOut,Qs=o?(i=R==null?void 0:R.modalAnimationIn)!=null?i:Gt.modalAnimationIn:(s=R==null?void 0:R.modalAnimationOut)!=null?s:Gt.modalAnimationOut;return Qe&&qt?W1.createPortal(Re.createElement("div",{className:Vi(Gt.root,R==null?void 0:R.root),style:I==null?void 0:I.root,"data-testid":"root"},Re.createElement("div",{className:Vi(Gt.overlay,R==null?void 0:R.overlay),"data-testid":"overlay","aria-hidden":!0,style:yl({animation:qs+" "+C+"ms"},I==null?void 0:I.overlay)}),Re.createElement("div",{ref:j,id:Q,className:Vi(Gt.modalContainer,l&&Gt.modalContainerCenter,R==null?void 0:R.modalContainer),style:I==null?void 0:I.modalContainer,"data-testid":"modal-container",onClick:ga},Re.createElement("div",{ref:de,className:Vi(Gt.modal,R==null?void 0:R.modal),style:yl({animation:Qs+" "+C+"ms"},I==null?void 0:I.modal),onMouseDown:Tr,onMouseUp:Tr,onClick:Tr,onAnimationEnd:pa,id:xe,role:X,"aria-modal":"true","aria-labelledby":ie,"aria-describedby":ne,"data-testid":"modal",tabIndex:-1},E&&Re.createElement(dv,{container:de,initialFocusRef:w}),Y,v&&Re.createElement(sv,{classes:Gt,classNames:R,styles:I,closeIcon:g,onClick:V,id:p})))),qt):null});class Hn{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const Cs={PROPERTYCHANGE:"propertychange"};class ql{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function Ql(t,e){return t>e?1:t<e?-1:0}function mv(t,e){return t<e?1:t>e?-1:0}function ph(t,e,n){if(t[0]<=e)return 0;const r=t.length;if(e<=t[r-1])return r-1;if(typeof n=="function"){for(let i=1;i<r;++i){const s=t[i];if(s===e)return i;if(s<e)return n(e,t[i-1],s)>0?i-1:i}return r-1}if(n>0){for(let i=1;i<r;++i)if(t[i]<e)return i-1;return r-1}if(n<0){for(let i=1;i<r;++i)if(t[i]<=e)return i;return r-1}for(let i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function yv(t,e){const n=Array.isArray(e)?e:[e],r=n.length;for(let i=0;i<r;i++)t[t.length]=n[i]}function Jl(t,e){const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function _v(t,e,n){const r=e||Ql;return t.every(function(i,s){if(s===0)return!0;const o=r(t[s-1],i);return!(o>0||n&&o===0)})}function _l(){return!0}function ea(){return!1}function vl(){}function vv(t){let e=!1,n,r,i;return function(){const s=Array.prototype.slice.call(arguments);return(!e||this!==i||!Jl(s,r))&&(e=!0,i=this,r=s,n=t.apply(this,arguments)),n}}function Ev(t){function e(){let n;try{n=t()}catch(r){return Promise.reject(r)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function Us(t){for(const e in t)delete t[e]}function Tv(t){let e;for(e in t)return!1;return!e}class ta extends ql{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const r=this.listeners_||(this.listeners_={}),i=r[e]||(r[e]=[]);i.includes(n)||i.push(n)}dispatchEvent(e){const n=typeof e=="string",r=n?e:e.type,i=this.listeners_&&this.listeners_[r];if(!i)return;const s=n?new Hn(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),l=this.pendingRemovals_||(this.pendingRemovals_={});r in o||(o[r]=0,l[r]=0),++o[r];let a;for(let u=0,c=i.length;u<c;++u)if("handleEvent"in i[u]?a=i[u].handleEvent(s):a=i[u].call(this,s),a===!1||s.propagationStopped){a=!1;break}if(--o[r]===0){let u=l[r];for(delete l[r];u--;)this.removeEventListener(r,vl);delete o[r]}return a}disposeInternal(){this.listeners_&&Us(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const r=this.listeners_[e];if(!r)return;const i=r.indexOf(n);i!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(r[i]=vl,++this.pendingRemovals_[e]):(r.splice(i,1),r.length===0&&delete this.listeners_[e]))}}const z={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function ee(t,e,n,r,i){if(r&&r!==t&&(n=n.bind(r)),i){const o=n;n=function(){t.removeEventListener(e,n),o.apply(this,arguments)}}const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function El(t,e,n,r){return ee(t,e,n,r,!0)}function me(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Us(t))}class Gs extends ta{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(z.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const r=e.length,i=new Array(r);for(let s=0;s<r;++s)i[s]=ee(this,e[s],n);return i}return ee(this,e,n)}onceInternal(e,n){let r;if(Array.isArray(e)){const i=e.length;r=new Array(i);for(let s=0;s<i;++s)r[s]=El(this,e[s],n)}else r=El(this,e,n);return n.ol_key=r,r}unInternal(e,n){const r=n.ol_key;if(r)wv(r);else if(Array.isArray(e))for(let i=0,s=e.length;i<s;++i)this.removeEventListener(e[i],n);else this.removeEventListener(e,n)}}Gs.prototype.on;Gs.prototype.once;Gs.prototype.un;function wv(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)me(t[e]);else me(t)}function fe(){throw new Error("Unimplemented abstract method.")}let xv=0;function le(t){return t.ol_uid||(t.ol_uid=String(++xv))}class xf extends Hn{constructor(e,n,r){super(e),this.key=n,this.oldValue=r}}class pn extends Gs{constructor(e){super(),this.on,this.once,this.un,le(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let r;r=`change:${e}`,this.hasListener(r)&&this.dispatchEvent(new xf(r,e,n)),r=Cs.PROPERTYCHANGE,this.hasListener(r)&&this.dispatchEvent(new xf(r,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,r){const i=this.values_||(this.values_={});if(r)i[e]=n;else{const s=i[e];i[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const r in e)this.set(r,e[r],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const r=this.values_[e];delete this.values_[e],Tv(this.values_)&&(this.values_=null),n||this.notify(e,r)}}}const Tt={ADD:"add",REMOVE:"remove"},Cf={LENGTH:"length"};class _o extends Hn{constructor(e,n,r){super(e),this.element=n,this.index=r}}class on extends pn{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let r=0,i=this.array_.length;r<i;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,r=e.length;n<r;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)e(n[r],r,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(Cf.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new _o(Tt.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let r=0,i=n.length;r<i;++r)if(n[r]===e)return this.removeAt(r)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new _o(Tt.REMOVE,n,e)),n}setAt(e,n){const r=this.getLength();if(e>=r){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const i=this.array_[e];this.array_[e]=n,this.dispatchEvent(new _o(Tt.REMOVE,i,e)),this.dispatchEvent(new _o(Tt.ADD,n,e))}updateLength_(){this.set(Cf.LENGTH,this.array_.length)}assertUnique_(e,n){for(let r=0,i=this.array_.length;r<i;++r)if(this.array_[r]===e&&r!==n)throw new Error("Duplicate item added to a unique collection")}}const $n=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",Cv=$n.includes("firefox"),Rv=$n.includes("safari")&&!$n.includes("chrom"),Sv=Rv&&($n.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test($n)),Iv=$n.includes("webkit")&&!$n.includes("edge"),jm=$n.includes("macintosh"),Bm=typeof devicePixelRatio<"u"?devicePixelRatio:1,$m=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,Pv=typeof Image<"u"&&Image.prototype.decode,Xm=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function ue(t,e){if(!t)throw new Error(e)}const mh=new Array(6);function Yt(){return[1,0,0,1,0,0]}function Av(t){return na(t,1,0,0,1,0,0)}function yh(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],o=t[4],l=t[5],a=e[0],u=e[1],c=e[2],h=e[3],d=e[4],f=e[5];return t[0]=n*a+i*u,t[1]=r*a+s*u,t[2]=n*c+i*h,t[3]=r*c+s*h,t[4]=n*d+i*f+o,t[5]=r*d+s*f+l,t}function na(t,e,n,r,i,s,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t[4]=s,t[5]=o,t}function tt(t,e){const n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function Lv(t,e){const n=Math.cos(e),r=Math.sin(e);return yh(t,na(mh,n,r,-r,n,0,0))}function Rf(t,e,n){return yh(t,na(mh,e,0,0,n,0,0))}function Ov(t,e,n){return yh(t,na(mh,1,0,0,1,e,n))}function mr(t,e,n,r,i,s,o,l){const a=Math.sin(s),u=Math.cos(s);return t[0]=r*u,t[1]=i*a,t[2]=-r*a,t[3]=i*u,t[4]=o*r*u-l*r*a+e,t[5]=o*i*a+l*i*u+n,t}function Vm(t,e){const n=Dv(e);ue(n!==0,"Transformation matrix cannot be inverted");const r=e[0],i=e[1],s=e[2],o=e[3],l=e[4],a=e[5];return t[0]=o/n,t[1]=-i/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*a-o*l)/n,t[5]=-(r*a-i*l)/n,t}function Dv(t){return t[0]*t[3]-t[1]*t[2]}let Sf;function Mv(t){const e="matrix("+t.join(", ")+")";if($m)return e;const n=Sf||(Sf=document.createElement("div"));return n.style.transform=e,n.style.transform}const ke={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function rc(t){const e=vr();for(let n=0,r=t.length;n<r;++n)Bo(e,t[n]);return e}function kv(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Km(t,e,n){let r,i;return e<t[0]?r=t[0]-e:t[2]<e?r=e-t[2]:r=0,n<t[1]?i=t[1]-n:t[3]<n?i=n-t[3]:i=0,r*r+i*i}function Rs(t,e){return Hm(t,e[0],e[1])}function Nv(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Hm(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function If(t,e){const n=t[0],r=t[1],i=t[2],s=t[3],o=e[0],l=e[1];let a=ke.UNKNOWN;return o<n?a=a|ke.LEFT:o>i&&(a=a|ke.RIGHT),l<r?a=a|ke.BELOW:l>s&&(a=a|ke.ABOVE),a===ke.UNKNOWN&&(a=ke.INTERSECTING),a}function vr(){return[1/0,1/0,-1/0,-1/0]}function js(t,e,n,r,i){return i?(i[0]=t,i[1]=e,i[2]=n,i[3]=r,i):[t,e,n,r]}function ra(t){return js(1/0,1/0,-1/0,-1/0,t)}function Fv(t,e){const n=t[0],r=t[1];return js(n,r,n,r,e)}function bv(t,e,n,r,i){const s=ra(i);return Wm(s,t,e,n,r)}function ic(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function zv(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Bo(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Wm(t,e,n,r,i){for(;n<r;n+=i)Uv(t,e[n],e[n+1]);return t}function Uv(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Ym(t,e){let n;return n=e(ia(t)),n||(n=e(sa(t)),n)||(n=e(oa(t)),n)||(n=e(mn(t)),n)?n:!1}function Ss(t){let e=0;return $s(t)||(e=Se(t)*Ft(t)),e}function ia(t){return[t[0],t[1]]}function sa(t){return[t[2],t[1]]}function di(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function Gv(t,e){let n;if(e==="bottom-left")n=ia(t);else if(e==="bottom-right")n=sa(t);else if(e==="top-left")n=mn(t);else if(e==="top-right")n=oa(t);else throw new Error("Invalid corner");return n}function sc(t,e,n,r,i){const[s,o,l,a,u,c,h,d]=oc(t,e,n,r);return js(Math.min(s,l,u,h),Math.min(o,a,c,d),Math.max(s,l,u,h),Math.max(o,a,c,d),i)}function oc(t,e,n,r){const i=e*r[0]/2,s=e*r[1]/2,o=Math.cos(n),l=Math.sin(n),a=i*o,u=i*l,c=s*o,h=s*l,d=t[0],f=t[1];return[d-a+h,f-u-c,d-a-h,f-u+c,d+a-h,f+u+c,d+a+h,f+u-c,d-a+h,f-u-c]}function Ft(t){return t[3]-t[1]}function Ct(t,e,n){const r=n||vr();return Bs(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):ra(r),r}function mn(t){return[t[0],t[3]]}function oa(t){return[t[2],t[3]]}function Se(t){return t[2]-t[0]}function Bs(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function $s(t){return t[2]<t[0]||t[3]<t[1]}function jv(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function Bv(t,e,n){let r=!1;const i=If(t,e),s=If(t,n);if(i===ke.INTERSECTING||s===ke.INTERSECTING)r=!0;else{const o=t[0],l=t[1],a=t[2],u=t[3],c=e[0],h=e[1],d=n[0],f=n[1],m=(f-h)/(d-c);let y,v;s&ke.ABOVE&&!(i&ke.ABOVE)&&(y=d-(f-u)/m,r=y>=o&&y<=a),!r&&s&ke.RIGHT&&!(i&ke.RIGHT)&&(v=f-(d-a)*m,r=v>=l&&v<=u),!r&&s&ke.BELOW&&!(i&ke.BELOW)&&(y=d-(f-l)/m,r=y>=o&&y<=a),!r&&s&ke.LEFT&&!(i&ke.LEFT)&&(v=f-(d-o)*m,r=v>=l&&v<=u)}return r}const Tl={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var Ke={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};Ke.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};Ke.max=Ke.whitepoint[2].D65;Ke.rgb=function(t,e){e=e||Ke.whitepoint[2].E;var n=t[0]/e[0],r=t[1]/e[1],i=t[2]/e[2],s,o,l;return s=n*3.240969941904521+r*-1.537383177570093+i*-.498610760293,o=n*-.96924363628087+r*1.87596750150772+i*.041555057407175,l=n*.055630079696993+r*-.20397695888897+i*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,l=l>.0031308?1.055*Math.pow(l,1/2.4)-.055:l=l*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),l=Math.min(Math.max(0,l),1),[s*255,o*255,l*255]};Tl.xyz=function(t,e){var n=t[0]/255,r=t[1]/255,i=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var s=n*.41239079926595+r*.35758433938387+i*.18048078840183,o=n*.21263900587151+r*.71516867876775+i*.072192315360733,l=n*.019330818715591+r*.11919477979462+i*.95053215224966;return e=e||Ke.whitepoint[2].E,[s*e[0],o*e[1],l*e[2]]};const Zm={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var r,i,s,o,l,a,u,c,h,d,f,m,y;if(s=t[0],o=t[1],l=t[2],s===0)return[0,0,0];var v=.0011070564598794539;return e=e||"D65",n=n||2,h=Ke.whitepoint[n][e][0],d=Ke.whitepoint[n][e][1],f=Ke.whitepoint[n][e][2],m=4*h/(h+15*d+3*f),y=9*d/(h+15*d+3*f),r=o/(13*s)+m||0,i=l/(13*s)+y||0,u=s>8?d*Math.pow((s+16)/116,3):d*s*v,a=u*9*r/(4*i)||0,c=u*(12-3*r-20*i)/(4*i)||0,[a,u,c]}};Ke.luv=function(t,e,n){var r,i,s,o,l,a,u,c,h,d,f,m,y,v=.008856451679035631,p=903.2962962962961;e=e||"D65",n=n||2,h=Ke.whitepoint[n][e][0],d=Ke.whitepoint[n][e][1],f=Ke.whitepoint[n][e][2],m=4*h/(h+15*d+3*f),y=9*d/(h+15*d+3*f),a=t[0],u=t[1],c=t[2],r=4*a/(a+15*u+3*c)||0,i=9*u/(a+15*u+3*c)||0;var g=u/d;return s=g<=v?p*g:116*Math.pow(g,1/3)-16,o=13*s*(r-m),l=13*s*(i-y),[s,o,l]};Zm.lchuv=function(t){var e=t[0],n=t[1],r=t[2],i=Math.sqrt(n*n+r*r),s=Math.atan2(r,n),o=s*360/2/Math.PI;return o<0&&(o+=360),[e,i,o]};Ke.lchuv=function(t){return Zm.lchuv(Ke.luv(t))};const Pf={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var Af={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function $v(t){var c,h;var e,n=[],r=1,i;if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(t=String(t).toLowerCase(),Pf[t])n=Pf[t].slice(),i="rgb";else if(t==="transparent")r=0,i="rgb",n=[0,0,0];else if(t[0]==="#"){var s=t.slice(1),o=s.length,l=o<=4;r=1,l?(n=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(r=parseInt(s[3]+s[3],16)/255)):(n=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(r=parseInt(s[6]+s[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),i="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var a=e[1];i=a.replace(/a$/,"");var u=i==="cmyk"?4:i==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),i==="color"&&(i=n.shift()),n=n.map(function(d,f){if(d[d.length-1]==="%")return d=parseFloat(d)/100,f===3?d:i==="rgb"?d*255:i[0]==="h"||i[0]==="l"&&!f?d*100:i==="lab"?d*125:i==="lch"?f<2?d*150:d*360:i[0]==="o"&&!f?d:i==="oklab"?d*.4:i==="oklch"?f<2?d*.4:d*360:d;if(i[f]==="h"||f===2&&i[i.length-1]==="h"){if(Af[d]!==void 0)return Af[d];if(d.endsWith("deg"))return parseFloat(d);if(d.endsWith("turn"))return parseFloat(d)*360;if(d.endsWith("grad"))return parseFloat(d)*360/400;if(d.endsWith("rad"))return parseFloat(d)*180/Math.PI}return d==="none"?0:parseFloat(d)}),r=n.length>u?n.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(d){return parseFloat(d)}),i=((h=(c=t.match(/([a-z])/ig))==null?void 0:c.join(""))==null?void 0:h.toLowerCase())||"rgb");return{space:i,values:n,alpha:r}}const $a={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100,i,s,o,l,a,u=0;if(n===0)return a=r*255,[a,a,a];for(s=r<.5?r*(1+n):r+n-r*n,i=2*r-s,l=[0,0,0];u<3;)o=e+1/3*-(u-1),o<0?o++:o>1&&o--,a=6*o<1?i+(s-i)*6*o:2*o<1?s:3*o<2?i+(s-i)*(2/3-o)*6:i,l[u++]=a*255;return l}};Tl.hsl=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=s-i,l,a,u;return s===i?l=0:e===s?l=(n-r)/o:n===s?l=2+(r-e)/o:r===s&&(l=4+(e-n)/o),l=Math.min(l*60,360),l<0&&(l+=360),u=(i+s)/2,s===i?a=0:u<=.5?a=o/(s+i):a=o/(2-s-i),[l,a*100,u*100]};function Xv(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var e,n=$v(t);if(!n.space)return[];const r=n.space[0]==="h"?$a.min:Tl.min,i=n.space[0]==="h"?$a.max:Tl.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],r[0]),i[0]),e[1]=Math.min(Math.max(n.values[1],r[1]),i[1]),e[2]=Math.min(Math.max(n.values[2],r[2]),i[2]),n.space[0]==="h"&&(e=$a.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}function we(t,e,n){return Math.min(Math.max(t,e),n)}function Vv(t,e,n,r,i,s){const o=i-n,l=s-r;if(o!==0||l!==0){const a=((t-n)*o+(e-r)*l)/(o*o+l*l);a>1?(n=i,r=s):a>0&&(n+=o*a,r+=l*a)}return ei(t,e,n,r)}function ei(t,e,n,r){const i=n-t,s=r-e;return i*i+s*s}function Kv(t){const e=t.length;for(let r=0;r<e;r++){let i=r,s=Math.abs(t[r][r]);for(let l=r+1;l<e;l++){const a=Math.abs(t[l][r]);a>s&&(s=a,i=l)}if(s===0)return null;const o=t[i];t[i]=t[r],t[r]=o;for(let l=r+1;l<e;l++){const a=-t[l][r]/t[r][r];for(let u=r;u<e+1;u++)r==u?t[l][u]=0:t[l][u]+=a*t[r][u]}}const n=new Array(e);for(let r=e-1;r>=0;r--){n[r]=t[r][e]/t[r][r];for(let i=r-1;i>=0;i--)t[i][e]-=t[i][r]*n[r]}return n}function $o(t){return t*Math.PI/180}function ti(t,e){const n=t%e;return n*e<0?n+e:n}function Hv(t,e,n){return t+n*(e-t)}function qm(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function vo(t,e){return Math.floor(qm(t,e))}function Eo(t,e){return Math.ceil(qm(t,e))}function Wv(t){return typeof t=="string"?t:qv(t)}const Yv=1024,zi={};let Xa=0;function Qm(t){if(zi.hasOwnProperty(t))return zi[t];if(Xa>=Yv){let n=0;for(const r in zi)n++&3||(delete zi[r],--Xa)}const e=Xv(t);if(e.length!==4)throw new Error('Failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('Failed to parse "'+t+'" as color');return Zv(e),zi[t]=e,++Xa,e}function wl(t){return Array.isArray(t)?t:Qm(t)}function Zv(t){return t[0]=we(t[0]+.5|0,0,255),t[1]=we(t[1]+.5|0,0,255),t[2]=we(t[2]+.5|0,0,255),t[3]=we(t[3],0,1),t}function qv(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let r=t[2];r!=(r|0)&&(r=r+.5|0);const i=t[3]===void 0?1:Math.round(t[3]*100)/100;return"rgba("+e+","+n+","+r+","+i+")"}function Qv(t){try{return Qm(t),!0}catch{return!1}}class Jv{constructor(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const r=this.cache_[n];!(e++&3)&&!r.hasListener()&&(delete this.cache_[n],--this.cacheSize_)}}}get(e,n,r){const i=Lf(e,n,r);return i in this.cache_?this.cache_[i]:null}set(e,n,r,i){const s=Lf(e,n,r);this.cache_[s]=i,++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Lf(t,e,n){const r=n?Wv(n):"null";return e+":"+t+":"+r}const Jm=new Jv,q={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class e0 extends pn{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[q.OPACITY]=e.opacity!==void 0?e.opacity:1,ue(typeof n[q.OPACITY]=="number","Layer opacity must be a number"),n[q.VISIBLE]=e.visible!==void 0?e.visible:!0,n[q.Z_INDEX]=e.zIndex,n[q.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[q.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[q.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[q.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},r=this.getZIndex();return n.opacity=we(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=r===void 0&&!n.managed?1/0:r,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return fe()}getLayerStatesArray(e){return fe()}getExtent(){return this.get(q.EXTENT)}getMaxResolution(){return this.get(q.MAX_RESOLUTION)}getMinResolution(){return this.get(q.MIN_RESOLUTION)}getMinZoom(){return this.get(q.MIN_ZOOM)}getMaxZoom(){return this.get(q.MAX_ZOOM)}getOpacity(){return this.get(q.OPACITY)}getSourceState(){return fe()}getVisible(){return this.get(q.VISIBLE)}getZIndex(){return this.get(q.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(q.EXTENT,e)}setMaxResolution(e){this.set(q.MAX_RESOLUTION,e)}setMinResolution(e){this.set(q.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(q.MAX_ZOOM,e)}setMinZoom(e){this.set(q.MIN_ZOOM,e)}setOpacity(e){ue(typeof e=="number","Layer opacity must be a number"),this.set(q.OPACITY,e)}setVisible(e){this.set(q.VISIBLE,e)}setZIndex(e){this.set(q.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const rt={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},yt={ANIMATING:0,INTERACTING:1},Pt={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},eE=42,_h=256,tE={9001:"m",9002:"ft",9003:"us-ft",9101:"radians",9102:"degrees"};function Of(t){return tE[t]}const fi={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class xl{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||fi[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Xs=6378137,Hr=Math.PI*Xs,nE=[-Hr,-Hr,Hr,Hr],rE=[-180,-85,180,85],To=Xs*Math.log(Math.tan(Math.PI/2));class Cr extends xl{constructor(e){super({code:e,units:"m",extent:nE,global:!0,worldExtent:rE,getPointResolution:function(n,r){return n/Math.cosh(r[1]/Xs)}})}}const Df=[new Cr("EPSG:3857"),new Cr("EPSG:102100"),new Cr("EPSG:102113"),new Cr("EPSG:900913"),new Cr("http://www.opengis.net/def/crs/EPSG/0/3857"),new Cr("http://www.opengis.net/gml/srs/epsg.xml#3857")];function iE(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n){e[i]=Hr*t[i]/180;let s=Xs*Math.log(Math.tan(Math.PI*(+t[i+1]+90)/360));s>To?s=To:s<-To&&(s=-To),e[i+1]=s}return e}function sE(t,e,n){const r=t.length;n=n>1?n:2,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let i=0;i<r;i+=n)e[i]=180*t[i]/Hr,e[i+1]=360*Math.atan(Math.exp(t[i+1]/Xs))/Math.PI-90;return e}const oE=6378137,Mf=[-180,-90,180,90],lE=Math.PI*oE/180;class Jn extends xl{constructor(e,n){super({code:e,units:"degrees",extent:Mf,axisOrientation:n,global:!0,metersPerUnit:lE,worldExtent:Mf})}}const kf=[new Jn("CRS:84"),new Jn("EPSG:4326","neu"),new Jn("urn:ogc:def:crs:OGC:1.3:CRS84"),new Jn("urn:ogc:def:crs:OGC:2:84"),new Jn("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Jn("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Jn("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let lc={};function aE(t){return lc[t]||lc[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function uE(t,e){lc[t]=e}let ni={};function Cl(t,e,n){const r=t.getCode(),i=e.getCode();r in ni||(ni[r]={}),ni[r][i]=n}function cE(t,e){let n;return t in ni&&e in ni[t]&&(n=ni[t][e]),n}function hE(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function Rl(t,e){let n=!0;for(let r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function vh(t,e){const n=Math.cos(e),r=Math.sin(e),i=t[0]*n-t[1]*r,s=t[1]*n+t[0]*r;return t[0]=i,t[1]=s,t}function dE(t,e){return t[0]*=e,t[1]*=e,t}function fE(t,e){if(e.canWrapX()){const n=Se(e.getExtent()),r=gE(t,e,n);r&&(t[0]-=r*n)}return t}function gE(t,e,n){const r=e.getExtent();let i=0;return e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])&&(n=n||Se(r),i=Math.floor((t[0]-r[0])/n)),i}const pE=63710088e-1;function Nf(t,e,n){n=n||pE;const r=$o(t[1]),i=$o(e[1]),s=(i-r)/2,o=$o(e[0]-t[0])/2,l=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(r)*Math.cos(i);return 2*n*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))}const t0={info:1,warn:2,error:3,none:4};let mE=t0.info;function n0(...t){console.warn(...t)}function Ff(...t){mE>t0.error||console.error(...t)}let ac=!0;function yE(t){ac=!(t===void 0?!0:t)}function Eh(t,e){if(e!==void 0){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];e=e}else e=t.slice();return e}function r0(t,e){if(e!==void 0&&t!==e){for(let n=0,r=t.length;n<r;++n)e[n]=t[n];t=e}return t}function _E(t){uE(t.getCode(),t),Cl(t,t,Eh)}function vE(t){t.forEach(_E)}function We(t){return typeof t=="string"?aE(t):t||null}function Sl(t,e,n,r){t=We(t);let i;const s=t.getPointResolutionFunc();if(s){if(i=s(e,n),r&&r!==t.getUnits()){const o=t.getMetersPerUnit();o&&(i=i*o/fi[r])}}else{const o=t.getUnits();if(o=="degrees"&&!r||r=="degrees")i=e;else{const l=wh(t,We("EPSG:4326"));if(l===r0&&o!=="degrees")i=e*t.getMetersPerUnit();else{let u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=l(u,u,2);const c=Nf(u.slice(0,2),u.slice(2,4)),h=Nf(u.slice(4,6),u.slice(6,8));i=(c+h)/2}const a=r?fi[r]:t.getMetersPerUnit();a!==void 0&&(i/=a)}}return i}function bf(t){vE(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Cl(e,n,Eh)})})}function EE(t,e,n,r){t.forEach(function(i){e.forEach(function(s){Cl(i,s,n),Cl(s,i,r)})})}function Th(t,e){return t?typeof t=="string"?We(t):t:We(e)}function Kt(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||wh(t,e)===Eh)&&n}function wh(t,e){const n=t.getCode(),r=e.getCode();let i=cE(n,r);return i||(i=r0),i}function Il(t,e){const n=We(t),r=We(e);return wh(n,r)}function TE(t,e,n){return Il(e,n)(t,void 0,t.length)}function Pl(t,e){return t}function en(t,e){return ac&&!Rl(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(ac=!1,n0("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function i0(t,e){return t}function Dn(t,e){return t}function wE(){bf(Df),bf(kf),EE(kf,Df,iE,sE)}wE();function zf(t,e,n){return function(r,i,s,o,l){if(!r)return;if(!i&&!e)return r;const a=e?0:s[0]*i,u=e?0:s[1]*i,c=l?l[0]:0,h=l?l[1]:0;let d=t[0]+a/2+c,f=t[2]-a/2+c,m=t[1]+u/2+h,y=t[3]-u/2+h;d>f&&(d=(f+d)/2,f=d),m>y&&(m=(y+m)/2,y=m);let v=we(r[0],d,f),p=we(r[1],m,y);if(o&&n&&i){const g=30*i;v+=-g*Math.log(1+Math.max(0,d-r[0])/g)+g*Math.log(1+Math.max(0,r[0]-f)/g),p+=-g*Math.log(1+Math.max(0,m-r[1])/g)+g*Math.log(1+Math.max(0,r[1]-y)/g)}return[v,p]}}function xE(t){return t}function xh(t,e,n,r){const i=Se(e)/n[0],s=Ft(e)/n[1];return r?Math.min(t,Math.max(i,s)):Math.min(t,Math.min(i,s))}function Ch(t,e,n){let r=Math.min(t,e);const i=50;return r*=Math.log(1+i*Math.max(0,t/e-1))/i+1,n&&(r=Math.max(r,n),r/=Math.log(1+i*Math.max(0,n/t-1))/i+1),we(r,n/2,e*2)}function CE(t,e,n,r){return e=e!==void 0?e:!0,function(i,s,o,l){if(i!==void 0){const a=t[0],u=t[t.length-1],c=n?xh(a,n,o,r):a;if(l)return e?Ch(i,c,u):we(i,u,c);const h=Math.min(c,i),d=Math.floor(ph(t,h,s));return t[d]>c&&d<t.length-1?t[d+1]:t[d]}}}function RE(t,e,n,r,i,s){return r=r!==void 0?r:!0,n=n!==void 0?n:0,function(o,l,a,u){if(o!==void 0){const c=i?xh(e,i,a,s):e;if(u)return r?Ch(o,c,n):we(o,n,c);const h=1e-9,d=Math.ceil(Math.log(e/c)/Math.log(t)-h),f=-l*(.5-h)+.5,m=Math.min(c,o),y=Math.floor(Math.log(e/m)/Math.log(t)+f),v=Math.max(d,y),p=e/Math.pow(t,v);return we(p,n,c)}}}function Uf(t,e,n,r,i){return n=n!==void 0?n:!0,function(s,o,l,a){if(s!==void 0){const u=r?xh(t,r,l,i):t;return!n||!a?we(s,e,u):Ch(s,u,e)}}}function Rh(t){if(t!==void 0)return 0}function Gf(t){if(t!==void 0)return t}function SE(t){const e=2*Math.PI/t;return function(n,r){if(r)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function IE(t){const e=t===void 0?$o(5):t;return function(n,r){return r||n===void 0?n:Math.abs(n)<=e?0:n}}function s0(t){return Math.pow(t,3)}function wi(t){return 1-s0(1-t)}function PE(t){return 3*t*t-2*t*t*t}function AE(t){return t}function LE(t,e,n,r,i,s){s=s||[];let o=0;for(let l=e;l<n;l+=r){const a=t[l],u=t[l+1];s[o++]=i[0]*a+i[2]*u+i[4],s[o++]=i[1]*a+i[3]*u+i[5]}return s&&s.length!=o&&(s.length=o),s}function OE(t,e,n,r,i,s,o){o=o||[];const l=Math.cos(i),a=Math.sin(i),u=s[0],c=s[1];let h=0;for(let d=e;d<n;d+=r){const f=t[d]-u,m=t[d+1]-c;o[h++]=u+f*l-m*a,o[h++]=c+f*a+m*l;for(let y=d+2;y<d+r;++y)o[h++]=t[y]}return o&&o.length!=h&&(o.length=h),o}function DE(t,e,n,r,i,s,o,l){l=l||[];const a=o[0],u=o[1];let c=0;for(let h=e;h<n;h+=r){const d=t[h]-a,f=t[h+1]-u;l[c++]=a+i*d,l[c++]=u+s*f;for(let m=h+2;m<h+r;++m)l[c++]=t[m]}return l&&l.length!=c&&(l.length=c),l}function ME(t,e,n,r,i,s,o){o=o||[];let l=0;for(let a=e;a<n;a+=r){o[l++]=t[a]+i,o[l++]=t[a+1]+s;for(let u=a+2;u<a+r;++u)o[l++]=t[u]}return o&&o.length!=l&&(o.length=l),o}const jf=Yt();class kE extends pn{constructor(){super(),this.extent_=vr(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=vv((e,n,r)=>{if(!r)return this.getSimplifiedGeometry(n);const i=this.clone();return i.applyTransform(r),i.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return fe()}closestPointXY(e,n,r,i){return fe()}containsXY(e,n){const r=this.getClosestPoint([e,n]);return r[0]===e&&r[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return fe()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&ra(n),this.extentRevision_=this.getRevision()}return jv(this.extent_,e)}rotate(e,n){fe()}scale(e,n,r){fe()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return fe()}getType(){return fe()}applyTransform(e){fe()}intersectsExtent(e){return fe()}translate(e,n){fe()}transform(e,n){const r=We(e),i=r.getUnits()=="tile-pixels"?function(s,o,l){const a=r.getExtent(),u=r.getWorldExtent(),c=Ft(u)/Ft(a);return mr(jf,u[0],u[3],c,-c,0,0,0),LE(s,0,s.length,l,jf,o),Il(r,n)(s,o,l)}:Il(r,n);return this.applyTransform(i),this}}class Sh extends kE{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return bv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return fe()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=Bf(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){fe()}setLayout(e,n,r){let i;if(e)i=Bf(e);else{for(let s=0;s<r;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}i=n.length,e=NE(i)}this.layout=e,this.stride=i}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();OE(r,0,r.length,i,e,n,r),this.changed()}}scale(e,n,r){n===void 0&&(n=e),r||(r=di(this.getExtent()));const i=this.getFlatCoordinates();if(i){const s=this.getStride();DE(i,0,i.length,s,e,n,r,i),this.changed()}}translate(e,n){const r=this.getFlatCoordinates();if(r){const i=this.getStride();ME(r,0,r.length,i,e,n,r),this.changed()}}}function NE(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function Bf(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function $f(t,e,n,r,i,s,o){const l=t[e],a=t[e+1],u=t[n]-l,c=t[n+1]-a;let h;if(u===0&&c===0)h=e;else{const d=((i-l)*u+(s-a)*c)/(u*u+c*c);if(d>1)h=n;else if(d>0){for(let f=0;f<r;++f)o[f]=Hv(t[e+f],t[n+f],d);o.length=r;return}else h=e}for(let d=0;d<r;++d)o[d]=t[h+d];o.length=r}function o0(t,e,n,r,i){let s=t[e],o=t[e+1];for(e+=r;e<n;e+=r){const l=t[e],a=t[e+1],u=ei(s,o,l,a);u>i&&(i=u),s=l,o=a}return i}function FE(t,e,n,r,i){for(let s=0,o=n.length;s<o;++s){const l=n[s];i=o0(t,e,l,r,i),e=l}return i}function l0(t,e,n,r,i,s,o,l,a,u,c){if(e==n)return u;let h,d;if(i===0){if(d=ei(o,l,t[e],t[e+1]),d<u){for(h=0;h<r;++h)a[h]=t[e+h];return a.length=r,d}return u}c=c||[NaN,NaN];let f=e+r;for(;f<n;)if($f(t,f-r,f,r,o,l,c),d=ei(o,l,c[0],c[1]),d<u){for(u=d,h=0;h<r;++h)a[h]=c[h];a.length=r,f+=r}else f+=r*Math.max((Math.sqrt(d)-Math.sqrt(u))/i|0,1);if(s&&($f(t,n-r,e,r,o,l,c),d=ei(o,l,c[0],c[1]),d<u)){for(u=d,h=0;h<r;++h)a[h]=c[h];a.length=r}return u}function bE(t,e,n,r,i,s,o,l,a,u,c){c=c||[NaN,NaN];for(let h=0,d=n.length;h<d;++h){const f=n[h];u=l0(t,e,f,r,i,s,o,l,a,u,c),e=f}return u}function zE(t,e,n,r){for(let i=0,s=n.length;i<s;++i)t[e++]=n[i];return e}function a0(t,e,n,r){for(let i=0,s=n.length;i<s;++i){const o=n[i];for(let l=0;l<r;++l)t[e++]=o[l]}return e}function UE(t,e,n,r,i){i=i||[];let s=0;for(let o=0,l=n.length;o<l;++o){const a=a0(t,e,n[o],r);i[s++]=a,e=a}return i.length=s,i}function GE(t,e,n,r,i,s,o){const l=(n-e)/r;if(l<3){for(;e<n;e+=r)s[o++]=t[e],s[o++]=t[e+1];return o}const a=new Array(l);a[0]=1,a[l-1]=1;const u=[e,n-r];let c=0;for(;u.length>0;){const h=u.pop(),d=u.pop();let f=0;const m=t[d],y=t[d+1],v=t[h],p=t[h+1];for(let g=d+r;g<h;g+=r){const _=t[g],E=t[g+1],T=Vv(_,E,m,y,v,p);T>f&&(c=g,f=T)}f>i&&(a[(c-e)/r]=1,d+r<c&&u.push(d,c),c+r<h&&u.push(c,h))}for(let h=0;h<l;++h)a[h]&&(s[o++]=t[e+h*r],s[o++]=t[e+h*r+1]);return o}function Rr(t,e){return e*Math.round(t/e)}function jE(t,e,n,r,i,s,o){if(e==n)return o;let l=Rr(t[e],i),a=Rr(t[e+1],i);e+=r,s[o++]=l,s[o++]=a;let u,c;do if(u=Rr(t[e],i),c=Rr(t[e+1],i),e+=r,e==n)return s[o++]=u,s[o++]=c,o;while(u==l&&c==a);for(;e<n;){const h=Rr(t[e],i),d=Rr(t[e+1],i);if(e+=r,h==u&&d==c)continue;const f=u-l,m=c-a,y=h-l,v=d-a;if(f*v==m*y&&(f<0&&y<f||f==y||f>0&&y>f)&&(m<0&&v<m||m==v||m>0&&v>m)){u=h,c=d;continue}s[o++]=u,s[o++]=c,l=u,a=c,u=h,c=d}return s[o++]=u,s[o++]=c,o}function BE(t,e,n,r,i,s,o,l){for(let a=0,u=n.length;a<u;++a){const c=n[a];o=jE(t,e,c,r,i,s,o),l.push(o),e=c}return o}function u0(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=e;o<n;o+=r)i[s++]=t.slice(o,o+r);return i.length=s,i}function $E(t,e,n,r,i){i=i!==void 0?i:[];let s=0;for(let o=0,l=n.length;o<l;++o){const a=n[o];i[s++]=u0(t,e,a,r,i[s]),e=a}return i.length=s,i}function c0(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const l=t[e],a=t[e+1];i+=o*l-s*a,s=l,o=a}return i/2}function XE(t,e,n,r){let i=0;for(let s=0,o=n.length;s<o;++s){const l=n[s];i+=c0(t,e,l,r),e=l}return i}class Is extends Sh{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new Is(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,r,i){return i<Km(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(o0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),l0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,r,i))}getArea(){return c0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return u0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=GE(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new Is(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=a0(this.flatCoordinates,0,e,this.stride),this.changed()}}class Ih extends Sh{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new Ih(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,r,i){const s=this.flatCoordinates,o=ei(e,n,s[0],s[1]);if(o<i){const l=this.stride;for(let a=0;a<l;++a)r[a]=s[a];return r.length=l,o}return i}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return Fv(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Hm(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=zE(this.flatCoordinates,0,e,this.stride),this.changed()}}function VE(t,e,n,r,i){return!Ym(i,function(o){return!lr(t,e,n,r,o[0],o[1])})}function lr(t,e,n,r,i,s){let o=0,l=t[n-r],a=t[n-r+1];for(;e<n;e+=r){const u=t[e],c=t[e+1];a<=s?c>s&&(u-l)*(s-a)-(i-l)*(c-a)>0&&o++:c<=s&&(u-l)*(s-a)-(i-l)*(c-a)<0&&o--,l=u,a=c}return o!==0}function h0(t,e,n,r,i,s){if(n.length===0||!lr(t,e,n[0],r,i,s))return!1;for(let o=1,l=n.length;o<l;++o)if(lr(t,n[o-1],n[o],r,i,s))return!1;return!0}function KE(t,e,n,r,i,s,o){let l,a,u,c,h,d,f;const m=i[s+1],y=[];for(let g=0,_=n.length;g<_;++g){const E=n[g];for(c=t[E-r],d=t[E-r+1],l=e;l<E;l+=r)h=t[l],f=t[l+1],(m<=d&&f<=m||d<=m&&m<=f)&&(u=(m-d)/(f-d)*(h-c)+c,y.push(u)),c=h,d=f}let v=NaN,p=-1/0;for(y.sort(Ql),c=y[0],l=1,a=y.length;l<a;++l){h=y[l];const g=Math.abs(h-c);g>p&&(u=(c+h)/2,h0(t,e,n,r,u,m)&&(v=u,p=g)),c=h}return isNaN(v)&&(v=i[s]),o?(o.push(v,m,p),o):[v,m,p]}function HE(t,e,n,r,i){let s;for(e+=r;e<n;e+=r)if(s=i(t.slice(e-r,e),t.slice(e,e+r)),s)return s;return!1}function d0(t,e,n,r,i){const s=Wm(vr(),t,e,n,r);return Bs(i,s)?Nv(i,s)||s[0]>=i[0]&&s[2]<=i[2]||s[1]>=i[1]&&s[3]<=i[3]?!0:HE(t,e,n,r,function(o,l){return Bv(i,o,l)}):!1}function f0(t,e,n,r,i){return!!(d0(t,e,n,r,i)||lr(t,e,n,r,i[0],i[1])||lr(t,e,n,r,i[0],i[3])||lr(t,e,n,r,i[2],i[1])||lr(t,e,n,r,i[2],i[3]))}function WE(t,e,n,r,i){if(!f0(t,e,n[0],r,i))return!1;if(n.length===1)return!0;for(let s=1,o=n.length;s<o;++s)if(VE(t,n[s-1],n[s],r,i)&&!d0(t,n[s-1],n[s],r,i))return!1;return!0}function YE(t,e,n,r){for(;e<n-r;){for(let i=0;i<r;++i){const s=t[e+i];t[e+i]=t[n-r+i],t[n-r+i]=s}e+=r,n-=r}}function g0(t,e,n,r){let i=0,s=t[n-r],o=t[n-r+1];for(;e<n;e+=r){const l=t[e],a=t[e+1];i+=(l-s)*(a+o),s=l,o=a}return i===0?void 0:i>0}function ZE(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,o=n.length;s<o;++s){const l=n[s],a=g0(t,e,l,r);if(s===0){if(i&&a||!i&&!a)return!1}else if(i&&!a||!i&&a)return!1;e=l}return!0}function Xf(t,e,n,r,i){i=i!==void 0?i:!1;for(let s=0,o=n.length;s<o;++s){const l=n[s],a=g0(t,e,l,r);(s===0?i&&a||!i&&!a:i&&!a||!i&&a)&&YE(t,e,l,r),e=l}return e}class Ps extends Sh{constructor(e,n,r){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&r?(this.setFlatCoordinates(n,e),this.ends_=r):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?yv(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Ps(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,r,i){return i<Km(this.getExtent(),e,n)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(FE(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bE(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,r,i))}containsXY(e,n){return h0(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return XE(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Xf(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,$E(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=di(this.getExtent());this.flatInteriorPoint_=KE(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Ih(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new Is(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,r=this.ends_,i=[];let s=0;for(let o=0,l=r.length;o<l;++o){const a=r[o],u=new Is(n.slice(s,a),e);i.push(u),s=a}return i}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;ZE(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Xf(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],r=[];return n.length=BE(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,r),new Ps(n,"XY",r)}getType(){return"Polygon"}intersectsExtent(e){return WE(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const r=UE(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=r.length===0?0:r[r.length-1],this.changed()}}function Vf(t){if($s(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],r=t[2],i=t[3],s=[e,n,e,i,r,i,r,n,e,n];return new Ps(s,"XY",[s.length])}const Va=0;class Dt extends pn{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Th(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&yE(),e.center&&(e.center=en(e.center,this.projection_)),e.extent&&(e.extent=Dn(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const l in Pt)delete n[l];this.setProperties(n,!0);const r=QE(e);this.maxResolution_=r.maxResolution,this.minResolution_=r.minResolution,this.zoomFactor_=r.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=r.minZoom;const i=qE(e),s=r.constraint,o=JE(e);this.constraints_={center:i,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const r=this.getCenterInternal();if(r){const i=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),o=s/2*(i[3]-n[3]+n[1]-i[1]),l=s/2*(i[0]-n[0]+n[2]-i[2]);this.setCenterInternal([r[0]+o,r[1]-l])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let r=0;r<n.length;++r){let i=arguments[r];i.center&&(i=Object.assign({},i),i.center=en(i.center,this.getProjection())),i.anchor&&(i=Object.assign({},i),i.anchor=en(i.anchor,this.getProjection())),n[r]=i}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,r;n>1&&typeof arguments[n-1]=="function"&&(r=arguments[n-1],--n);let i=0;for(;i<n&&!this.isDef();++i){const c=arguments[i];c.center&&this.setCenterInternal(c.center),c.zoom!==void 0?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),c.rotation!==void 0&&this.setRotation(c.rotation)}if(i===n){r&&wo(r,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),l=this.targetResolution_,a=this.targetRotation_;const u=[];for(;i<n;++i){const c=arguments[i],h={start:s,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||PE,callback:r};if(c.center&&(h.sourceCenter=o,h.targetCenter=c.center.slice(),o=h.targetCenter),c.zoom!==void 0?(h.sourceResolution=l,h.targetResolution=this.getResolutionForZoom(c.zoom),l=h.targetResolution):c.resolution&&(h.sourceResolution=l,h.targetResolution=c.resolution,l=h.targetResolution),c.rotation!==void 0){h.sourceRotation=a;const d=ti(c.rotation-a+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=a+d,a=h.targetRotation}eT(h)?h.complete=!0:s+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(yt.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[yt.ANIMATING]>0}getInteracting(){return this.hints_[yt.INTERACTING]>0}cancelAnimations(){this.setHint(yt.ANIMATING,-this.hints_[yt.ANIMATING]);let e;for(let n=0,r=this.animations_.length;n<r;++n){const i=this.animations_[n];if(i[0].callback&&wo(i[0].callback,!1),!e)for(let s=0,o=i.length;s<o;++s){const l=i[s];if(!l.complete){e=l.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let r=this.animations_.length-1;r>=0;--r){const i=this.animations_[r];let s=!0;for(let o=0,l=i.length;o<l;++o){const a=i[o];if(a.complete)continue;const u=e-a.start;let c=a.duration>0?u/a.duration:1;c>=1?(a.complete=!0,c=1):s=!1;const h=a.easing(c);if(a.sourceCenter){const d=a.sourceCenter[0],f=a.sourceCenter[1],m=a.targetCenter[0],y=a.targetCenter[1];this.nextCenter_=a.targetCenter;const v=d+h*(m-d),p=f+h*(y-f);this.targetCenter_=[v,p]}if(a.sourceResolution&&a.targetResolution){const d=h===1?a.targetResolution:a.sourceResolution+h*(a.targetResolution-a.sourceResolution);if(a.anchor){const f=this.getViewportSize_(this.getRotation()),m=this.constraints_.resolution(d,0,f,!0);this.targetCenter_=this.calculateCenterZoom(m,a.anchor)}this.nextResolution_=a.targetResolution,this.targetResolution_=d,this.applyTargetState_(!0)}if(a.sourceRotation!==void 0&&a.targetRotation!==void 0){const d=h===1?ti(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+h*(a.targetRotation-a.sourceRotation);if(a.anchor){const f=this.constraints_.rotation(d,!0);this.targetCenter_=this.calculateCenterRotate(f,a.anchor)}this.nextRotation_=a.targetRotation,this.targetRotation_=d}if(this.applyTargetState_(!0),n=!0,!a.complete)break}if(s){this.animations_[r]=null,this.setHint(yt.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=i[0].callback;o&&wo(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let r;const i=this.getCenterInternal();return i!==void 0&&(r=[i[0]-n[0],i[1]-n[1]],vh(r,e-this.getRotation()),hE(r,n)),r}calculateCenterZoom(e,n){let r;const i=this.getCenterInternal(),s=this.getResolution();if(i!==void 0&&s!==void 0){const o=n[0]-e*(n[0]-i[0])/s,l=n[1]-e*(n[1]-i[1])/s;r=[o,l]}return r}getViewportSize_(e){const n=this.viewportSize_;if(e){const r=n[0],i=n[1];return[Math.abs(r*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(r*Math.sin(e))+Math.abs(i*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&Pl(e,this.getProjection())}getCenterInternal(){return this.get(Pt.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return i0(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();ue(n,"The view center is not defined");const r=this.getResolution();ue(r!==void 0,"The view resolution is not defined");const i=this.getRotation();return ue(i!==void 0,"The view rotation is not defined"),sc(n,r,i,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(Pt.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(Dn(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const r=Se(e)/n[0],i=Ft(e)/n[1];return Math.max(r,i)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,i=Math.log(n/r)/Math.log(e);return function(s){return n/Math.pow(e,s*i)}}getRotation(){return this.get(Pt.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),r=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(r/i)/n;return function(o){return Math.log(r/o)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const r=this.padding_;return r&&(n=[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),r=this.getRotation();let i=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();i=Ka(i,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],n,r)}return{center:i.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:r,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,r,i;if(this.resolutions_){const s=ph(this.resolutions_,e,1);n=s,r=this.resolutions_[s],s==this.resolutions_.length-1?i=2:i=r/this.resolutions_[s+1]}else r=this.maxResolution_,i=this.zoomFactor_;return n+Math.log(r/e)/Math.log(i)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=we(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(r,we(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let r;if(ue(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){ue(!$s(e),"Cannot fit empty extent provided as `geometry`");const i=Dn(e,this.getProjection());r=Vf(i)}else if(e.getType()==="Circle"){const i=Dn(e.getExtent(),this.getProjection());r=Vf(i),r.rotate(this.getRotation(),di(i))}else r=e;this.fitInternal(r,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),r=Math.cos(n),i=Math.sin(-n),s=e.getFlatCoordinates(),o=e.getStride();let l=1/0,a=1/0,u=-1/0,c=-1/0;for(let h=0,d=s.length;h<d;h+=o){const f=s[h]*r-s[h+1]*i,m=s[h]*i+s[h+1]*r;l=Math.min(l,f),a=Math.min(a,m),u=Math.max(u,f),c=Math.max(c,m)}return[l,a,u,c]}fitInternal(e,n){n=n||{};let r=n.size;r||(r=this.getViewportSizeMinusPadding_());const i=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let o;n.minResolution!==void 0?o=n.minResolution:n.maxZoom!==void 0?o=this.getResolutionForZoom(n.maxZoom):o=0;const l=this.rotatedExtentForGeometry(e);let a=this.getResolutionForExtentInternal(l,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);a=isNaN(a)?o:Math.max(a,o),a=this.getConstrainedResolution(a,s?0:1);const u=this.getRotation(),c=Math.sin(u),h=Math.cos(u),d=di(l);d[0]+=(i[1]-i[3])/2*a,d[1]+=(i[0]-i[2])/2*a;const f=d[0]*h-d[1]*c,m=d[1]*h+d[0]*c,y=this.getConstrainedCenter([f,m],a),v=n.callback?n.callback:vl;n.duration!==void 0?this.animateInternal({resolution:a,center:y,duration:n.duration,easing:n.easing},v):(this.targetResolution_=a,this.targetCenter_=y,this.applyTargetState_(!1,!0),wo(v,!0))}centerOn(e,n,r){this.centerOnInternal(en(e,this.getProjection()),n,r)}centerOnInternal(e,n,r){this.setCenterInternal(Ka(e,n,r,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,r,i){let s;const o=this.padding_;if(o&&e){const l=this.getViewportSizeMinusPadding_(-r),a=Ka(e,i,[l[0]/2+o[3],l[1]/2+o[0]],n,r);s=[e[0]-a[0],e[1]-a[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=Pl(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&en(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,i,r);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=en(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const r=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,r);n&&(this.targetCenter_=this.calculateCenterRotate(i,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&en(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const r=this.getAnimating()||this.getInteracting()||n,i=this.constraints_.rotation(this.targetRotation_,r),s=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,s,r),l=this.constraints_.center(this.targetCenter_,o,s,r,this.calculateCenterShift(this.targetCenter_,o,i,s));this.get(Pt.ROTATION)!==i&&this.set(Pt.ROTATION,i),this.get(Pt.RESOLUTION)!==o&&(this.set(Pt.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!l||!this.get(Pt.CENTER)||!Rl(this.get(Pt.CENTER),l))&&this.set(Pt.CENTER,l),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,r){e=e!==void 0?e:200;const i=n||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),l=this.constraints_.resolution(this.targetResolution_,i,o),a=this.constraints_.center(this.targetCenter_,l,o,!1,this.calculateCenterShift(this.targetCenter_,l,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=l,this.targetRotation_=s,this.targetCenter_=a,this.applyTargetState_();return}r=r||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==l||this.getRotation()!==s||!this.getCenterInternal()||!Rl(this.getCenterInternal(),a))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:a,resolution:l,duration:e,easing:wi,anchor:r}))}beginInteraction(){this.resolveConstraints(0),this.setHint(yt.INTERACTING,1)}endInteraction(e,n,r){r=r&&en(r,this.getProjection()),this.endInteractionInternal(e,n,r)}endInteractionInternal(e,n,r){this.getInteracting()&&(this.setHint(yt.INTERACTING,-1),this.resolveConstraints(e,n,r))}getConstrainedCenter(e,n){const r=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),r)}getConstrainedZoom(e,n){const r=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(r,n))}getConstrainedResolution(e,n){n=n||0;const r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,r)}}function wo(t,e){setTimeout(function(){t(e)},0)}function qE(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return zf(t.extent,t.constrainOnlyCenter,n)}const e=Th(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,zf(n,!1,!1)}return xE}function QE(t){let e,n,r,o=t.minZoom!==void 0?t.minZoom:Va,l=t.maxZoom!==void 0?t.maxZoom:28;const a=t.zoomFactor!==void 0?t.zoomFactor:2,u=t.multiWorld!==void 0?t.multiWorld:!1,c=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,h=t.showFullExtent!==void 0?t.showFullExtent:!1,d=Th(t.projection,"EPSG:3857"),f=d.getExtent();let m=t.constrainOnlyCenter,y=t.extent;if(!u&&!y&&d.isGlobal()&&(m=!1,y=f),t.resolutions!==void 0){const v=t.resolutions;n=v[o],r=v[l]!==void 0?v[l]:v[v.length-1],t.constrainResolution?e=CE(v,c,!m&&y,h):e=Uf(n,r,c,!m&&y,h)}else{const p=(f?Math.max(Se(f),Ft(f)):360*fi.degrees/d.getMetersPerUnit())/_h/Math.pow(2,Va),g=p/Math.pow(2,28-Va);n=t.maxResolution,n!==void 0?o=0:n=p/Math.pow(a,o),r=t.minResolution,r===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?r=n/Math.pow(a,l):r=p/Math.pow(a,l):r=g),l=o+Math.floor(Math.log(n/r)/Math.log(a)),r=n/Math.pow(a,l-o),t.constrainResolution?e=RE(a,n,r,c,!m&&y,h):e=Uf(n,r,c,!m&&y,h)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:a}}function JE(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?IE():n===!1?Gf:typeof n=="number"?SE(n):Gf}return Rh}function eT(t){return!(t.sourceCenter&&t.targetCenter&&!Rl(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function Ka(t,e,n,r,i){const s=Math.cos(-i);let o=Math.sin(-i),l=t[0]*s-t[1]*o,a=t[1]*s+t[0]*o;l+=(e[0]/2-n[0])*r,a+=(n[1]-e[1]/2)*r,o=-o;const u=l*s-a*o,c=a*s+l*o;return[u,c]}class tT extends e0{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(q.SOURCE,this.handleSourcePropertyChange_);const r=e.source?e.source:null;this.setSource(r)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(q.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(me(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=ee(e,z.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const r=this.getMapInternal();!e&&r&&(e=r.getView()),e instanceof Dt?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&r&&(n.layerStatesArray=r.getLayerGroup().getLayerStatesArray());let i;n.layerStatesArray?i=n.layerStatesArray.find(o=>o.layer===this):i=this.getLayerState();const s=this.getExtent();return Ph(i,n.viewState)&&(!s||Bs(s,n.extent))}getAttributions(e){if(!this.isVisible(e))return[];let n;const r=this.getSource();if(r&&(n=r.getAttributions()),!n)return[];const i=e instanceof Dt?e.getViewStateAndExtent():e;let s=n(i);return Array.isArray(s)||(s=[s]),s}render(e,n){const r=this.getRenderer();return r.prepareFrame(e)?(this.rendered=!0,r.renderFrame(e,n)):null}unrender(){this.rendered=!1}setMapInternal(e){e||this.unrender(),this.set(q.MAP,e)}getMapInternal(){return this.get(q.MAP)}setMap(e){this.mapPrecomposeKey_&&(me(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(me(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ee(e,rt.PRECOMPOSE,function(n){const i=n.frameState.layerStatesArray,s=this.getLayerState(!1);ue(!i.some(function(o){return o.layer===s.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),i.push(s)},this),this.mapRenderKey_=ee(this,z.CHANGE,e.render,e),this.changed())}setSource(e){this.set(q.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function Ph(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}const Ah=tT;class nT extends ql{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){fe()}calculateMatrices2D(e){const n=e.viewState,r=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;mr(r,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Vm(i,r)}forEachFeatureAtCoordinate(e,n,r,i,s,o,l,a){let u;const c=n.viewState;function h(E,T,w,x){return s.call(o,T,E?w:null,x)}const d=c.projection,f=fE(e.slice(),d),m=[[0,0]];if(d.canWrapX()&&i){const E=d.getExtent(),T=Se(E);m.push([-T,0],[T,0])}const y=n.layerStatesArray,v=y.length,p=[],g=[];for(let E=0;E<m.length;E++)for(let T=v-1;T>=0;--T){const w=y[T],x=w.layer;if(x.hasRenderer()&&Ph(w,c)&&l.call(a,x)){const C=x.getRenderer(),R=x.getSource();if(C&&R){const I=R.getWrapX()?f:e,N=h.bind(null,w.managed);g[0]=I[0]+m[E][0],g[1]=I[1]+m[E][1],u=C.forEachFeatureAtCoordinate(g,n,r,N,p)}if(u)return u}}if(p.length===0)return;const _=1/p.length;return p.forEach((E,T)=>E.distanceSq+=T*_),p.sort((E,T)=>E.distanceSq-T.distanceSq),p.some(E=>u=E.callback(E.feature,E.layer,E.geometry)),u}hasFeatureAtCoordinate(e,n,r,i,s,o){return this.forEachFeatureAtCoordinate(e,n,r,i,_l,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){fe()}flushDeclutterItems(e){}scheduleExpireIconCache(e){Jm.canExpireCache()&&e.postRenderFunctions.push(rT)}}function rT(t,e){Jm.expire()}class ss extends Hn{constructor(e,n,r,i){super(e),this.inversePixelTransform=n,this.frameState=r,this.context=i}}const xo="ol-hidden",Vs="ol-unselectable",Lh="ol-control",Kf="ol-collapsed";function fn(t,e,n,r){let i;return n&&n.length?i=n.shift():$m?i=new OffscreenCanvas(t||300,e||300):i=document.createElement("canvas"),t&&(i.width=t),e&&(i.height=e),i.getContext("2d",r)}function As(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function Hf(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function uc(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function iT(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function sT(t,e){const n=t.childNodes;for(let r=0;;++r){const i=n[r],s=e[r];if(!i&&!s)break;if(i!==s){if(!i){t.appendChild(s);continue}if(!s){t.removeChild(i),--r;continue}t.insertBefore(s,i)}}}const oT=new pn;class lT extends nT{constructor(e){super(e),this.fontChangeListenerKey_=ee(oT,Cs.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=Vs+" ol-layers";const r=e.getViewport();r.insertBefore(this.element_,r.firstChild||null),this.children_=[],this.renderedVisible_=!0,this.declutterLayers_=[]}dispatchRenderEvent(e,n){const r=this.getMap();if(r.hasListener(e)){const i=new ss(e,void 0,n);r.dispatchEvent(i)}}disposeInternal(){me(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(rt.PRECOMPOSE,e);const n=e.layerStatesArray.sort(function(o,l){return o.zIndex-l.zIndex}),r=e.viewState;this.children_.length=0;const i=this.declutterLayers_;i.length=0;let s=null;for(let o=0,l=n.length;o<l;++o){const a=n[o];e.layerIndex=o;const u=a.layer,c=u.getSourceState();if(!Ph(a,r)||c!="ready"&&c!="undefined"){u.unrender();continue}const h=u.render(e,s);h&&(h!==s&&(this.children_.push(h),s=h),"getDeclutter"in u&&i.push(u))}this.flushDeclutterItems(e),sT(this.element_,this.children_),this.dispatchRenderEvent(rt.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}flushDeclutterItems(e){const n=this.declutterLayers_;for(let r=n.length-1;r>=0;--r)n[r].renderDeclutter(e);n.length=0}}class Cn extends Hn{constructor(e,n){super(e),this.layer=n}}const Ha={LAYERS:"layers"};class xi extends e0{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let r=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Ha.LAYERS,this.handleLayersChanged_),r?Array.isArray(r)?r=new on(r.slice(),{unique:!0}):ue(typeof r.getArray=="function","Expected `layers` to be an array or a `Collection`"):r=new on(void 0,{unique:!0}),this.setLayers(r)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(me),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(ee(e,Tt.ADD,this.handleLayersAdd_,this),ee(e,Tt.REMOVE,this.handleLayersRemove_,this));for(const r in this.listenerKeys_)this.listenerKeys_[r].forEach(me);Us(this.listenerKeys_);const n=e.getArray();for(let r=0,i=n.length;r<i;r++){const s=n[r];this.registerLayerListeners_(s),this.dispatchEvent(new Cn("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[ee(e,Cs.PROPERTYCHANGE,this.handleLayerChange_,this),ee(e,z.CHANGE,this.handleLayerChange_,this)];e instanceof xi&&n.push(ee(e,"addlayer",this.handleLayerGroupAdd_,this),ee(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[le(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new Cn("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new Cn("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new Cn("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,r=le(n);this.listenerKeys_[r].forEach(me),delete this.listenerKeys_[r],this.dispatchEvent(new Cn("removelayer",n)),this.changed()}getLayers(){return this.get(Ha.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const r=n.getArray();for(let i=0,s=r.length;i<s;++i)this.dispatchEvent(new Cn("removelayer",r[i]))}this.set(Ha.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],r=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const i=this.getLayerState();let s=i.zIndex;!e&&i.zIndex===void 0&&(s=0);for(let o=r,l=n.length;o<l;o++){const a=n[o];a.opacity*=i.opacity,a.visible=a.visible&&i.visible,a.maxResolution=Math.min(a.maxResolution,i.maxResolution),a.minResolution=Math.max(a.minResolution,i.minResolution),a.minZoom=Math.max(a.minZoom,i.minZoom),a.maxZoom=Math.min(a.maxZoom,i.maxZoom),i.extent!==void 0&&(a.extent!==void 0?a.extent=Ct(a.extent,i.extent):a.extent=i.extent),a.zIndex===void 0&&(a.zIndex=s)}return n}getSourceState(){return"ready"}}class Dr extends Hn{constructor(e,n,r){super(e),this.map=n,this.frameState=r!==void 0?r:null}}class En extends Dr{constructor(e,n,r,i,s,o){super(e,n,s),this.originalEvent=r,this.pixel_=null,this.coordinate_=null,this.dragging=i!==void 0?i:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const ve={SINGLECLICK:"singleclick",CLICK:z.CLICK,DBLCLICK:z.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},cc={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class aT extends ta{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const r=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=r,this.pointerdownListenerKey_=ee(r,cc.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=ee(r,cc.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(z.TOUCHMOVE,this.boundHandleTouchMove_,Xm?{passive:!1}:!1)}emulateClick_(e){let n=new En(ve.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new En(ve.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const r=new En(ve.SINGLECLICK,this.map_,e);this.dispatchEvent(r)},250)}updateActivePointers_(e){const n=e,r=n.pointerId;if(n.type==ve.POINTERUP||n.type==ve.POINTERCANCEL){delete this.trackedTouches_[r];for(const i in this.trackedTouches_)if(this.trackedTouches_[i].target!==n.target){delete this.trackedTouches_[i];break}}else(n.type==ve.POINTERDOWN||n.type==ve.POINTERMOVE)&&(this.trackedTouches_[r]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new En(ve.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(me),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new En(ve.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const r=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ee(r,ve.POINTERMOVE,this.handlePointerMove_,this),ee(r,ve.POINTERUP,this.handlePointerUp_,this),ee(this.element_,ve.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==r&&this.dragListenerKeys_.push(ee(this.element_.getRootNode(),ve.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new En(ve.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new En(ve.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(me(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(z.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(me(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(me),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Tn={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},je={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Al=1/0;class uT{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Us(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,r=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const i=this.keyFunction_(r);return delete this.queuedElements_[i],r}enqueue(e){ue(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=Al?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,r=this.priorities_,i=n.length,s=n[e],o=r[e],l=e;for(;e<i>>1;){const a=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),c=u<i&&r[u]<r[a]?u:a;n[e]=n[c],r[e]=r[c],e=c}n[e]=s,r[e]=o,this.siftDown_(l,e)}siftDown_(e,n){const r=this.elements_,i=this.priorities_,s=r[n],o=i[n];for(;n>e;){const l=this.getParentIndex_(n);if(i[l]>o)r[n]=r[l],i[n]=i[l],n=l;else break}r[n]=s,i[n]=o}reprioritize(){const e=this.priorityFunction_,n=this.elements_,r=this.priorities_;let i=0;const s=n.length;let o,l,a;for(l=0;l<s;++l)o=n[l],a=e(o),a==Al?delete this.queuedElements_[this.keyFunction_(o)]:(r[i]=a,n[i++]=o);n.length=i,r.length=i,this.heapify_()}}const P={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class cT extends uT{constructor(e,n){super(function(r){return e.apply(null,r)},function(r){return r[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(z.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,r=n.getState();if(r===P.LOADED||r===P.ERROR||r===P.EMPTY){r!==P.ERROR&&n.removeEventListener(z.CHANGE,this.boundHandleTileChange_);const i=n.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let r=0,i,s,o;for(;this.tilesLoading_<e&&r<n&&this.getCount()>0;)s=this.dequeue()[0],o=s.getKey(),i=s.getState(),i===P.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++r,s.load())}}function hT(t,e,n,r,i){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return Al;const s=t.viewState.center,o=r[0]-s[0],l=r[1]-s[1];return 65536*Math.log(i)+Math.sqrt(o*o+l*l)/i}class la extends pn{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){uc(this.element),super.disposeInternal()}getMap(){return this.map_}setMap(e){this.map_&&uc(this.element);for(let n=0,r=this.listenerKeys.length;n<r;++n)me(this.listenerKeys[n]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==vl&&this.listenerKeys.push(ee(e,Tn.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class dT extends la{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1);const n=e.className!==void 0?e.className:"ol-attribution",r=e.tipLabel!==void 0?e.tipLabel:"Attributions",i=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"",o=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const l=e.label!==void 0?e.label:"i";typeof l=="string"?(this.label_=document.createElement("span"),this.label_.textContent=l,this.label_.className=i):this.label_=l;const a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=r,this.toggleButton_.appendChild(a),this.toggleButton_.addEventListener(z.CLICK,this.handleClick_.bind(this),!1);const u=n+" "+Vs+" "+Lh+(this.collapsed_&&this.collapsible_?" "+Kf:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=u,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=Array.from(new Set(this.getMap().getAllLayers().flatMap(i=>i.getAttributions(e)))),r=!this.getMap().getAllLayers().some(i=>i.getSource()&&i.getSource().getAttributionsCollapsible()===!1);return this.overrideCollapsible_||this.setCollapsible(r),n}updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=this.collectSourceAttributions_(e),r=n.length>0;if(this.renderedVisible_!=r&&(this.element.style.display=r?"":"none",this.renderedVisible_=r),!Jl(n,this.renderedAttributions_)){iT(this.ulElement_);for(let i=0,s=n.length;i<s;++i){const o=document.createElement("li");o.innerHTML=n[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Kf),this.collapsed_?Hf(this.collapseLabel_,this.label_):Hf(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}const fT=dT;class gT extends la{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",r=e.label!==void 0?e.label:"",i=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof r=="string"?(this.label_=document.createElement("span"),this.label_.className=i,this.label_.textContent=r):(this.label_=r,this.label_.classList.add(i));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(z.CLICK,this.handleClick_.bind(this),!1);const l=n+" "+Vs+" "+Lh,a=this.element;a.className=l,a.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(xo)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const r=n.getRotation();r!==void 0&&(this.duration_>0&&r%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:wi}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const r=n.viewState.rotation;if(r!=this.rotation_){const i="rotate("+r+"rad)";if(this.autoHide_){const s=this.element.classList.contains(xo);!s&&r===0?this.element.classList.add(xo):s&&r!==0&&this.element.classList.remove(xo)}this.label_.style.transform=i}this.rotation_=r}}const pT=gT;class mT extends la{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",r=e.delta!==void 0?e.delta:1,i=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",l=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",a=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",u=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=i,c.setAttribute("type","button"),c.title=a,c.appendChild(typeof o=="string"?document.createTextNode(o):o),c.addEventListener(z.CLICK,this.handleClick_.bind(this,r),!1);const h=document.createElement("button");h.className=s,h.setAttribute("type","button"),h.title=u,h.appendChild(typeof l=="string"?document.createTextNode(l):l),h.addEventListener(z.CLICK,this.handleClick_.bind(this,-r),!1);const d=n+" "+Vs+" "+Lh,f=this.element;f.className=d,f.appendChild(c),f.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const r=this.getMap().getView();if(!r)return;const i=r.getZoom();if(i!==void 0){const s=r.getConstrainedZoom(i+e);this.duration_>0?(r.getAnimating()&&r.cancelAnimations(),r.animate({zoom:s,duration:this.duration_,easing:wi})):r.setZoom(s)}}}const yT=mT;function _T(t){t=t||{};const e=new on;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new yT(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new pT(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new fT(t.attributionOptions)),e}const Wf={ACTIVE:"active"};class Ks extends pn{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Wf.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(Wf.ACTIVE,e)}setMap(e){this.map_=e}}function vT(t,e,n){const r=t.getCenterInternal();if(r){const i=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:AE,center:t.getConstrainedCenter(i)})}}function Oh(t,e,n,r){const i=t.getZoom();if(i===void 0)return;const s=t.getConstrainedZoom(i+e),o=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:r!==void 0?r:250,easing:wi})}class ET extends Ks{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==ve.DBLCLICK){const r=e.originalEvent,i=e.map,s=e.coordinate,o=r.shiftKey?-this.delta_:this.delta_,l=i.getView();Oh(l,o,s,this.duration_),r.preventDefault(),n=!0}return!n}}const TT=ET;class Hs extends Ks{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==ve.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==ve.POINTERUP){const r=this.handleUpEvent(e);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(e.type==ve.POINTERDOWN){const r=this.handleDownEvent(e);this.handlingDownUpSequence=r,n=this.stopDown(r)}else e.type==ve.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Dh(t){const e=t.length;let n=0,r=0;for(let i=0;i<e;i++)n+=t[i].clientX,r+=t[i].clientY;return{clientX:n/e,clientY:r/e}}function hc(t){const e=arguments;return function(n){let r=!0;for(let i=0,s=e.length;i<s&&(r=r&&e[i](n),!!r);++i);return r}}const wT=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},xT=function(t){const e=t.map.getTargetElement(),n=t.map.getOwnerDocument().activeElement;return e.contains(n)},p0=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?xT(t):!0},CT=_l,m0=function(t){const e=t.originalEvent;return e.button==0&&!(Iv&&jm&&e.ctrlKey)},y0=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},RT=function(t){const e=t.originalEvent;return jm?e.metaKey:e.ctrlKey},ST=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},_0=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},Wa=function(t){const e=t.originalEvent;return ue(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},IT=function(t){const e=t.originalEvent;return ue(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class PT extends Hs{constructor(e){super({stopDown:ea}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:hc(y0,IT);this.condition_=e.onFocusOnly?hc(p0,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const r=this.targetPointers,i=n.getEventPixel(Dh(r));if(r.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){const s=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],l=e.map.getView();dE(s,l.getResolution()),vh(s,l.getRotation()),l.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=r.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,r=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const i=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=r.getCenterInternal(),l=n.getPixelFromCoordinateInternal(o),a=n.getCoordinateFromPixelInternal([l[0]-i*Math.cos(s),l[1]-i*Math.sin(s)]);r.animateInternal({center:r.getConstrainedCenter(a),duration:500,easing:wi})}return this.panning_&&(this.panning_=!1,r.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const r=e.map.getView();return this.lastCentroid=null,r.getAnimating()&&r.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}const AT=PT;class LT extends Hs{constructor(e){e=e||{},super({stopDown:ea}),this.condition_=e.condition?e.condition:wT,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Wa(e))return;const n=e.map,r=n.getView();if(r.getConstraints().rotation===Rh)return;const i=n.getSize(),s=e.pixel,o=Math.atan2(i[1]/2-s[1],s[0]-i[0]/2);if(this.lastAngle_!==void 0){const l=o-this.lastAngle_;r.adjustRotationInternal(-l)}this.lastAngle_=o}handleUpEvent(e){return Wa(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Wa(e)&&m0(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class OT extends ql{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,r="px",i=this.element_.style;i.left=Math.min(e[0],n[0])+r,i.top=Math.min(e[1],n[1])+r,i.width=Math.abs(n[0]-e[0])+r,i.height=Math.abs(n[1]-e[1])+r}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){const e=this.startPixel_,n=this.endPixel_,i=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new Ps([i])}getGeometry(){return this.geometry_}}const Co={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Ya extends Hn{constructor(e,n,r){super(e),this.coordinate=n,this.mapBrowserEvent=r}}class DT extends Hs{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.box_=new OT(e.className||"ol-dragbox"),this.minArea_=e.minArea!==void 0?e.minArea:64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition?e.condition:m0,this.boxEndCondition_=e.boxEndCondition?e.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,r){const i=r[0]-n[0],s=r[1]-n[1];return i*i+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new Ya(Co.BOXDRAG,e.coordinate,e))}handleUpEvent(e){this.box_.setMap(null);const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new Ya(n?Co.BOXEND:Co.BOXCANCEL,e.coordinate,e)),!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Ya(Co.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}}class MT extends DT{constructor(e){e=e||{};const n=e.condition?e.condition:ST;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const r=this.getMap().getView();let i=this.getGeometry();if(this.out_){const s=r.rotatedExtentForGeometry(i),o=r.getResolutionForExtentInternal(s),l=r.getResolution()/o;i=i.clone(),i.scale(l*l)}r.fitInternal(i,{duration:this.duration_,easing:wi})}}const kT=MT,er={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class NT extends Ks{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return y0(n)&&_0(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==z.KEYDOWN){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==er.DOWN||i==er.LEFT||i==er.RIGHT||i==er.UP)){const o=e.map.getView(),l=o.getResolution()*this.pixelDelta_;let a=0,u=0;i==er.DOWN?u=-l:i==er.LEFT?a=-l:i==er.RIGHT?a=l:u=l;const c=[a,u];vh(c,o.getRotation()),vT(o,c,this.duration_),r.preventDefault(),n=!0}}return!n}}class FT extends Ks{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!RT(n)&&_0(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==z.KEYDOWN||e.type==z.KEYPRESS){const r=e.originalEvent,i=r.key;if(this.condition_(e)&&(i==="+"||i==="-")){const s=e.map,o=i==="+"?this.delta_:-this.delta_,l=s.getView();Oh(l,o,void 0,this.duration_),r.preventDefault(),n=!0}}return!n}}const bT=FT;class zT{constructor(e,n,r){this.decay_=e,this.minVelocity_=n,this.delay_=r,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let r=n-3;for(;r>0&&this.points_[r+2]>e;)r-=3;const i=this.points_[n+2]-this.points_[r+2];if(i<1e3/60)return!1;const s=this.points_[n]-this.points_[r],o=this.points_[n+1]-this.points_[r+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/i,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class UT extends Ks{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:CT;this.condition_=e.onFocusOnly?hc(p0,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==z.WHEEL)return!0;const r=e.map,i=e.originalEvent;i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==z.WHEEL&&(s=i.deltaY,Cv&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=Bm),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const l=r.getView();if(this.mode_==="trackpad"&&!(l.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(l.getAnimating()&&l.cancelAnimations(),l.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),l.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;const a=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),a),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let r=-we(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(r=r?r>0?1:-1:0),Oh(n,r,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}const GT=UT;class jT extends Hs{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=ea),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const r=this.targetPointers[0],i=this.targetPointers[1],s=Math.atan2(i.clientY-r.clientY,i.clientX-r.clientX);if(this.lastAngle_!==void 0){const a=s-this.lastAngle_;this.rotationDelta_+=a,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=a}this.lastAngle_=s;const o=e.map,l=o.getView();l.getConstraints().rotation!==Rh&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(Dh(this.targetPointers))),this.rotating_&&(o.render(),l.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class BT extends Hs{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=ea),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const r=this.targetPointers[0],i=this.targetPointers[1],s=r.clientX-i.clientX,o=r.clientY-i.clientY,l=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(n=this.lastDistance_/l),this.lastDistance_=l;const a=e.map,u=a.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(Dh(this.targetPointers))),a.render(),u.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const r=e.map.getView(),i=this.lastScaleDelta_>1?1:-1;return r.endInteraction(this.duration_,i),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}const $T=BT;function XT(t){t=t||{};const e=new on,n=new zT(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new LT),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new TT({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new AT({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new jT),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new $T({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new NT),e.push(new bT({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new GT({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new kT({duration:t.zoomDuration})),e}function Yf(t){return t[0]>0&&t[1]>0}function VT(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function st(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}function v0(t){if(t instanceof Ah){t.setMapInternal(null);return}t instanceof xi&&t.getLayers().forEach(v0)}function E0(t,e){if(t instanceof Ah){t.setMapInternal(e);return}if(t instanceof xi){const n=t.getLayers().getArray();for(let r=0,i=n.length;r<i;++r)E0(n[r],e)}}let KT=class extends pn{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=HT(e);this.renderComplete_,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:Bm,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Yt(),this.pixelToCoordinateTransform_=Yt(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||_T(),this.interactions=n.interactions||XT({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new cT(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(je.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(je.VIEW,this.handleViewChanged_),this.addChangeListener(je.SIZE,this.handleSizeChanged_),this.addChangeListener(je.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const r=this;e.view&&!(e.view instanceof Dt)&&e.view.then(function(i){r.setView(new Dt(i))}),this.controls.addEventListener(Tt.ADD,i=>{i.element.setMap(this)}),this.controls.addEventListener(Tt.REMOVE,i=>{i.element.setMap(null)}),this.interactions.addEventListener(Tt.ADD,i=>{i.element.setMap(this)}),this.interactions.addEventListener(Tt.REMOVE,i=>{i.element.setMap(null)}),this.overlays_.addEventListener(Tt.ADD,i=>{this.addOverlayInternal_(i.element)}),this.overlays_.addEventListener(Tt.REMOVE,i=>{const s=i.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],i.element.setMap(null)}),this.controls.forEach(i=>{i.setMap(this)}),this.interactions.forEach(i=>{i.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){E0(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,r){if(!this.frameState_||!this.renderer_)return;const i=this.getCoordinateFromPixelInternal(e);r=r!==void 0?r:{};const s=r.hitTolerance!==void 0?r.hitTolerance:0,o=r.layerFilter!==void 0?r.layerFilter:_l,l=r.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,s,l,n,null,o,null)}getFeaturesAtPixel(e,n){const r=[];return this.forEachFeatureAtPixel(e,function(i){r.push(i)},n),r}getAllLayers(){const e=[];function n(r){r.forEach(function(i){i instanceof xi?n(i.getLayers()):e.push(i)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const r=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const i=n.layerFilter!==void 0?n.layerFilter:_l,s=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(r,this.frameState_,s,o,i,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const r=this.viewport_.getBoundingClientRect(),i=this.getSize(),s=r.width/i[0],o=r.height/i[1],l="changedTouches"in e?e.changedTouches[0]:e;return[(l.clientX-r.left)/s,(l.clientY-r.top)/o]}getTarget(){return this.get(je.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return Pl(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?tt(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(je.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof on){n.setLayers(e);return}const r=n.getLayers();r.clear(),r.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n];if(!i.visible)continue;const s=i.layer.getRenderer();if(s&&!s.ready)return!0;const o=i.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const n=en(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?tt(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(je.SIZE)}getView(){return this.get(je.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,r,i){return hT(this.frameState_,e,n,r,i)}handleBrowserEvent(e,n){n=n||e.type;const r=new En(n,this,e);this.handleMapBrowserEvent(r)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,r=n.type;if(r===cc.POINTERDOWN||r===z.WHEEL||r===z.KEYDOWN){const i=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o=n.target;if(this.overlayContainerStopEvent_.contains(o)||!(s===i?i.documentElement:s).contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const i=this.getInteractions().getArray().slice();for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let i=this.maxTilesLoading_,s=i;if(e){const o=e.viewHints;if(o[yt.ANIMATING]||o[yt.INTERACTING]){const l=Date.now()-e.time>8;i=l?0:8,s=l?0:2}}n.getTilesLoading()<i&&(n.reprioritize(),n.loadMoreTiles(i,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_===!0?(this.hasListener(rt.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(rt.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new Dr(Tn.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new Dr(Tn.LOADSTART,this,e))));const r=this.postRenderFunctions_;for(let i=0,s=r.length;i<s;++i)r[i](this,e);r.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let r=0,i=this.targetChangeHandlerKeys_.length;r<i;++r)me(this.targetChangeHandlerKeys_[r]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(z.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(z.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,uc(this.viewport_)}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const r=this.targetElement_.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.unobserve(r.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new lT(this)),this.mapBrowserEventHandler_=new aT(this,this.moveTolerance_);for(const s in ve)this.mapBrowserEventHandler_.addEventListener(ve[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(z.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(z.WHEEL,this.boundHandleBrowserEvent_,Xm?{passive:!1}:!1);const r=this.keyboardEventTarget_?this.keyboardEventTarget_:n;this.targetChangeHandlerKeys_=[ee(r,z.KEYDOWN,this.handleBrowserEvent,this),ee(r,z.KEYPRESS,this.handleBrowserEvent,this)];const i=n.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.observe(i.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(me(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(me(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=ee(e,Cs.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ee(e,z.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(me),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new Cn("addlayer",e)),this.layerGroupPropertyListenerKeys_=[ee(e,Cs.PROPERTYCHANGE,this.render,this),ee(e,z.CHANGE,this.render,this),ee(e,"addlayer",this.handleLayerAdd_,this),ee(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,r=e.length;n<r;++n){const i=e[n].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}flushDeclutterItems(){const e=this.frameState_;e&&this.renderer_.flushDeclutterItems(e)}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){v0(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),r=this.getView(),i=this.frameState_;let s=null;if(n!==void 0&&Yf(n)&&r&&r.isDef()){const o=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),l=r.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:sc(l.center,l.resolution,l.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:l,viewHints:o,wantedTiles:{},mapId:le(this),renderTargets:{}},l.nextCenter&&l.nextResolution){const a=isNaN(l.nextRotation)?l.rotation:l.nextRotation;s.nextExtent=sc(l.nextCenter,l.nextResolution,a,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),i&&(!this.previousExtent_||!$s(this.previousExtent_)&&!ic(s.extent,this.previousExtent_))&&(this.dispatchEvent(new Dr(Tn.MOVESTART,this,i)),this.previousExtent_=ra(this.previousExtent_)),this.previousExtent_&&!s.viewHints[yt.ANIMATING]&&!s.viewHints[yt.INTERACTING]&&!ic(s.extent,this.previousExtent_)&&(this.dispatchEvent(new Dr(Tn.MOVEEND,this,s)),kv(s.extent,this.previousExtent_))),this.dispatchEvent(new Dr(Tn.POSTRENDER,this,s)),this.renderComplete_=this.hasListener(Tn.LOADSTART)||this.hasListener(Tn.LOADEND)||this.hasListener(rt.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0,this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new Cn("removelayer",n)),this.set(je.LAYERGROUP,e)}setSize(e){this.set(je.SIZE,e)}setTarget(e){this.set(je.TARGET,e)}setView(e){if(!e||e instanceof Dt){this.set(je.VIEW,e);return}this.set(je.VIEW,new Dt);const n=this;e.then(function(r){n.setView(new Dt(r))})}updateSize(){const e=this.getTargetElement();let n;if(e){const i=getComputedStyle(e),s=e.offsetWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.paddingLeft)-parseFloat(i.paddingRight)-parseFloat(i.borderRightWidth),o=e.offsetHeight-parseFloat(i.borderTopWidth)-parseFloat(i.paddingTop)-parseFloat(i.paddingBottom)-parseFloat(i.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(n=[s,o],!Yf(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&n0("No map visible because the map container's width or height are 0."))}const r=this.getSize();n&&(!r||!Jl(n,r))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function HT(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},r=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new xi({layers:t.layers});n[je.LAYERGROUP]=r,n[je.TARGET]=t.target,n[je.VIEW]=t.view instanceof Dt?t.view:new Dt;let i;t.controls!==void 0&&(Array.isArray(t.controls)?i=new on(t.controls.slice()):(ue(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),i=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new on(t.interactions.slice()):(ue(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=t.interactions));let o;return t.overlays!==void 0?Array.isArray(t.overlays)?o=new on(t.overlays.slice()):(ue(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=t.overlays):o=new on,{controls:i,interactions:s,keyboardEventTarget:e,overlays:o,values:n}}const WT=KT,Za="units",YT=[1,2,5],Ui=25.4/.28;class ZT extends la{constructor(e){e=e||{};const n=document.createElement("div");n.style.pointerEvents="none",super({element:n,render:e.render,target:e.target}),this.on,this.once,this.un;const r=e.className!==void 0?e.className:e.bar?"ol-scale-bar":"ol-scale-line";this.innerElement_=document.createElement("div"),this.innerElement_.className=r+"-inner",this.element.className=r+" "+Vs,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=e.minWidth!==void 0?e.minWidth:64,this.maxWidth_=e.maxWidth,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",this.addChangeListener(Za,this.handleUnitsChanged_),this.setUnits(e.units||"metric"),this.scaleBar_=e.bar||!1,this.scaleBarSteps_=e.steps||4,this.scaleBarText_=e.text||!1,this.dpi_=e.dpi||void 0}getUnits(){return this.get(Za)}handleUnitsChanged_(){this.updateElement_()}setUnits(e){this.set(Za,e)}setDpi(e){this.dpi_=e}updateElement_(){const e=this.viewState_;if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=e.center,r=e.projection,i=this.getUnits(),s=i=="degrees"?"degrees":"m";let o=Sl(r,e.resolution,n,s);const l=this.minWidth_*(this.dpi_||Ui)/Ui,a=this.maxWidth_!==void 0?this.maxWidth_*(this.dpi_||Ui)/Ui:void 0;let u=l*o,c="";if(i=="degrees"){const _=fi.degrees;u*=_,u<_/60?(c="",o*=3600):u<_?(c="",o*=60):c=""}else if(i=="imperial")u<.9144?(c="in",o/=.0254):u<1609.344?(c="ft",o/=.3048):(c="mi",o/=1609.344);else if(i=="nautical")o/=1852,c="NM";else if(i=="metric")u<.001?(c="m",o*=1e6):u<1?(c="mm",o*=1e3):u<1e3?c="m":(c="km",o/=1e3);else if(i=="us")u<.9144?(c="in",o*=39.37):u<1609.344?(c="ft",o/=.30480061):(c="mi",o/=1609.3472);else throw new Error("Invalid units");let h=3*Math.floor(Math.log(l*o)/Math.log(10)),d,f,m,y,v,p;for(;;){m=Math.floor(h/3);const _=Math.pow(10,m);if(d=YT[(h%3+3)%3]*_,f=Math.round(d/o),isNaN(f)){this.element.style.display="none",this.renderedVisible_=!1;return}if(a!==void 0&&f>=a){d=y,f=v,m=p;break}else if(f>=l)break;y=d,v=f,p=m,++h}const g=this.scaleBar_?this.createScaleBar(f,d,c):d.toFixed(m<0?-m:0)+" "+c;this.renderedHTML_!=g&&(this.innerElement_.innerHTML=g,this.renderedHTML_=g),this.renderedWidth_!=f&&(this.innerElement_.style.width=f+"px",this.renderedWidth_=f),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}createScaleBar(e,n,r){const i=this.getScaleForResolution(),s=i<1?Math.round(1/i).toLocaleString()+" : 1":"1 : "+Math.round(i).toLocaleString(),o=this.scaleBarSteps_,l=e/o,a=[this.createMarker("absolute")];for(let c=0;c<o;++c){const h=c%2===0?"ol-scale-singlebar-odd":"ol-scale-singlebar-even";a.push(`<div><div class="ol-scale-singlebar ${h}" style="width: ${l}px;"></div>`+this.createMarker("relative")+(c%2===0||o===2?this.createStepText(c,e,!1,n,r):"")+"</div>")}return a.push(this.createStepText(o,e,!0,n,r)),(this.scaleBarText_?`<div class="ol-scale-text" style="width: ${e}px;">`+s+"</div>":"")+a.join("")}createMarker(e){return`<div class="ol-scale-step-marker" style="position: ${e}; top: ${e==="absolute"?3:-10}px;"></div>`}createStepText(e,n,r,i,s){const l=(e===0?0:Math.round(i/this.scaleBarSteps_*e*100)/100)+(e===0?"":" "+s),a=e===0?-3:n/this.scaleBarSteps_*-1,u=e===0?0:n/this.scaleBarSteps_*2;return`<div class="ol-scale-step-text" style="margin-left: ${a}px;text-align: ${e===0?"left":"center"};min-width: ${u}px;left: ${r?n+"px":"unset"};">`+l+"</div>"}getScaleForResolution(){const e=Sl(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center,"m"),n=this.dpi_||Ui,r=1e3/25.4;return e*r*n}render(e){const n=e.frameState;n?this.viewState_=n.viewState:this.viewState_=null,this.updateElement_()}}const Sr={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Ro(t,e){return tt(t.inversePixelTransform,e.slice(0))}const So={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class T0 extends Ah{constructor(e){e=e||{};const n=Object.assign({},e);delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getPreload(){return this.get(So.PRELOAD)}setPreload(e){this.set(So.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(So.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(So.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const w0=.5;class Mh extends ta{constructor(e,n,r){super(),r=r||{},this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=r.transition===void 0?250:r.transition,this.transitionStarts_={},this.interpolate=!!r.interpolate}changed(){this.dispatchEvent(z.CHANGE)}release(){this.state===P.ERROR&&this.setState(P.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){let e=this.interimTile;if(!e)return this;do{if(e.getState()==P.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this}refreshInterimChain(){let e=this.interimTile;if(!e)return;let n=this;do{if(e.getState()==P.LOADED){e.interimTile=null;break}e.getState()==P.LOADING?n=e:e.getState()==P.IDLE?n.interimTile=e.interimTile:n=e,e=n.interimTile}while(e)}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==P.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){fe()}getAlpha(e,n){if(!this.transition_)return 1;let r=this.transitionStarts_[e];if(!r)r=n,this.transitionStarts_[e]=r;else if(r===-1)return 1;const i=n-r+1e3/60;return i>=this.transition_?1:s0(i/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}function Ll(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}function dc(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t instanceof DataView?t:null}let Ir=null;function qT(t){Ir||(Ir=fn(t.width,t.height,void 0,{willReadFrequently:!0}));const e=Ir.canvas,n=t.width;e.width!==n&&(e.width=n);const r=t.height;return e.height!==r&&(e.height=r),Ir.clearRect(0,0,n,r),Ir.drawImage(t,0,0),Ir.getImageData(0,0,n,r).data}const QT=[256,256];class kh extends Mh{constructor(e){const n=P.IDLE;super(e.tileCoord,n,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null}getSize(){if(this.size_)return this.size_;const e=Ll(this.data_);return e?[e.width,e.height]:QT}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==P.IDLE&&this.state!==P.ERROR)return;this.state=P.LOADING,this.changed();const e=this;this.loader_().then(function(n){e.data_=n,e.state=P.LOADED,e.changed()}).catch(function(n){e.error_=n,e.state=P.ERROR,e.changed()})}}const JT=10,Zf=.25;class x0{constructor(e,n,r,i,s,o){this.sourceProj_=e,this.targetProj_=n;let l={};const a=Il(this.targetProj_,this.sourceProj_);this.transformInv_=function(g){const _=g[0]+"/"+g[1];return l[_]||(l[_]=a(g)),l[_]},this.maxSourceExtent_=i,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Se(i)>=Se(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Se(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Se(this.targetProj_.getExtent()):null;const u=mn(r),c=oa(r),h=sa(r),d=ia(r),f=this.transformInv_(u),m=this.transformInv_(c),y=this.transformInv_(h),v=this.transformInv_(d),p=JT+(o?Math.max(0,Math.ceil(Math.log2(Ss(r)/(o*o*256*256)))):0);if(this.addQuad_(u,c,h,d,f,m,y,v,p),this.wrapsXInSource_){let g=1/0;this.triangles_.forEach(function(_,E,T){g=Math.min(g,_.source[0][0],_.source[1][0],_.source[2][0])}),this.triangles_.forEach(_=>{if(Math.max(_.source[0][0],_.source[1][0],_.source[2][0])-g>this.sourceWorldWidth_/2){const E=[[_.source[0][0],_.source[0][1]],[_.source[1][0],_.source[1][1]],[_.source[2][0],_.source[2][1]]];E[0][0]-g>this.sourceWorldWidth_/2&&(E[0][0]-=this.sourceWorldWidth_),E[1][0]-g>this.sourceWorldWidth_/2&&(E[1][0]-=this.sourceWorldWidth_),E[2][0]-g>this.sourceWorldWidth_/2&&(E[2][0]-=this.sourceWorldWidth_);const T=Math.min(E[0][0],E[1][0],E[2][0]);Math.max(E[0][0],E[1][0],E[2][0])-T<this.sourceWorldWidth_/2&&(_.source=E)}})}l={}}addTriangle_(e,n,r,i,s,o){this.triangles_.push({source:[i,s,o],target:[e,n,r]})}addQuad_(e,n,r,i,s,o,l,a,u){const c=rc([s,o,l,a]),h=this.sourceWorldWidth_?Se(c)/this.sourceWorldWidth_:null,d=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&h>.5&&h<1;let m=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const v=rc([e,n,r,i]);m=Se(v)/this.targetWorldWidth_>Zf||m}!f&&this.sourceProj_.isGlobal()&&h&&(m=h>Zf||m)}if(!m&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!Bs(c,this.maxSourceExtent_))return;let y=0;if(!m&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(a[0])||!isFinite(a[1]))){if(u>0)m=!0;else if(y=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(l[0])||!isFinite(l[1])?2:0)+(!isFinite(a[0])||!isFinite(a[1])?1:0),y!=1&&y!=2&&y!=4&&y!=8)return}if(u>0){if(!m){const v=[(e[0]+r[0])/2,(e[1]+r[1])/2],p=this.transformInv_(v);let g;f?g=(ti(s[0],d)+ti(l[0],d))/2-ti(p[0],d):g=(s[0]+l[0])/2-p[0];const _=(s[1]+l[1])/2-p[1];m=g*g+_*_>this.errorThresholdSquared_}if(m){if(Math.abs(e[0]-r[0])<=Math.abs(e[1]-r[1])){const v=[(n[0]+r[0])/2,(n[1]+r[1])/2],p=this.transformInv_(v),g=[(i[0]+e[0])/2,(i[1]+e[1])/2],_=this.transformInv_(g);this.addQuad_(e,n,v,g,s,o,p,_,u-1),this.addQuad_(g,v,r,i,_,p,l,a,u-1)}else{const v=[(e[0]+n[0])/2,(e[1]+n[1])/2],p=this.transformInv_(v),g=[(r[0]+i[0])/2,(r[1]+i[1])/2],_=this.transformInv_(g);this.addQuad_(e,v,g,i,s,p,_,a,u-1),this.addQuad_(v,n,r,g,p,o,l,_,u-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}y&11||this.addTriangle_(e,r,i,s,l,a),y&14||this.addTriangle_(e,r,n,s,l,o),y&&(y&13||this.addTriangle_(n,i,e,o,a,s),y&7||this.addTriangle_(n,i,r,o,a,l))}calculateSourceExtent(){const e=vr();return this.triangles_.forEach(function(n,r,i){const s=n.source;Bo(e,s[0]),Bo(e,s[1]),Bo(e,s[2])}),e}getTriangles(){return this.triangles_}}let qa;const an=[];function qf(t,e,n,r,i){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,i),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,i)),t.restore()}function Qa(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function ew(){if(qa===void 0){const t=fn(6,6,an);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",qf(t,4,5,4,0),qf(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;qa=Qa(e,0)||Qa(e,4)||Qa(e,8),As(t),an.push(t.canvas)}return qa}function Qf(t,e,n,r){const i=TE(n,e,t);let s=Sl(e,r,n);const o=e.getMetersPerUnit();o!==void 0&&(s*=o);const l=t.getMetersPerUnit();l!==void 0&&(s/=l);const a=t.getExtent();if(!a||Rs(a,i)){const u=Sl(t,s,i)/s;isFinite(u)&&u>0&&(s/=u)}return s}function C0(t,e,n,r){const i=di(n);let s=Qf(t,e,i,r);return(!isFinite(s)||s<=0)&&Ym(n,function(o){return s=Qf(t,e,o,r),isFinite(s)&&s>0}),s}function R0(t,e,n,r,i,s,o,l,a,u,c,h,d){const f=fn(Math.round(n*t),Math.round(n*e),an);if(h||(f.imageSmoothingEnabled=!1),a.length===0)return f.canvas;f.scale(n,n);function m(g){return Math.round(g*n)/n}f.globalCompositeOperation="lighter";const y=vr();a.forEach(function(g,_,E){zv(y,g.extent)});let v;if(!d||a.length!==1||u!==0){const g=Se(y),_=Ft(y);v=fn(Math.round(n*g/r),Math.round(n*_/r),an),h||(v.imageSmoothingEnabled=!1);const E=n/r;a.forEach(function(T,w,x){const C=T.extent[0]-y[0],R=-(T.extent[3]-y[3]),I=Se(T.extent),N=Ft(T.extent);T.image.width>0&&T.image.height>0&&v.drawImage(T.image,u,u,T.image.width-2*u,T.image.height-2*u,C*E,R*E,I*E,N*E)})}const p=mn(o);return l.getTriangles().forEach(function(g,_,E){const T=g.source,w=g.target;let x=T[0][0],C=T[0][1],R=T[1][0],I=T[1][1],N=T[2][0],X=T[2][1];const ne=m((w[0][0]-p[0])/s),ie=m(-(w[0][1]-p[1])/s),Q=m((w[1][0]-p[0])/s),xe=m(-(w[1][1]-p[1])/s),V=m((w[2][0]-p[0])/s),A=m(-(w[2][1]-p[1])/s),M=x,k=C;x=0,C=0,R-=M,I-=k,N-=M,X-=k;const Y=[[R,I,0,0,Q-ne],[N,X,0,0,V-ne],[0,0,R,I,xe-ie],[0,0,N,X,A-ie]],G=Kv(Y);if(!G)return;if(f.save(),f.beginPath(),ew()||!h){f.moveTo(Q,xe);const j=4,H=ne-Q,J=ie-xe;for(let se=0;se<j;se++)f.lineTo(Q+m((se+1)*H/j),xe+m(se*J/(j-1))),se!=j-1&&f.lineTo(Q+m((se+1)*H/j),xe+m((se+1)*J/(j-1)));f.lineTo(V,A)}else f.moveTo(Q,xe),f.lineTo(ne,ie),f.lineTo(V,A);f.clip(),f.transform(G[0],G[2],G[1],G[3],ne,ie),f.translate(y[0]-M,y[3]-k);let de;if(v)de=v.canvas,f.scale(r/n,-r/n);else{const j=a[0],H=j.extent;de=j.image,f.scale(Se(H)/de.width,-Ft(H)/de.height)}f.drawImage(de,0,0),f.restore()}),v&&(As(v),an.push(v.canvas)),c&&(f.save(),f.globalCompositeOperation="source-over",f.strokeStyle="black",f.lineWidth=1,l.getTriangles().forEach(function(g,_,E){const T=g.target,w=(T[0][0]-p[0])/s,x=-(T[0][1]-p[1])/s,C=(T[1][0]-p[0])/s,R=-(T[1][1]-p[1])/s,I=(T[2][0]-p[0])/s,N=-(T[2][1]-p[1])/s;f.beginPath(),f.moveTo(C,R),f.lineTo(w,x),f.lineTo(I,N),f.closePath(),f.stroke()}),f.restore()),f.canvas}class Nh extends kh{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8Array(4)),interpolate:e.interpolate,transition:e.transition}),this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const n=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),r=this.targetTileGrid_.getExtent();let i=this.sourceTileGrid_.getExtent();const s=r?Ct(n,r):n;if(Ss(s)===0){this.state=P.EMPTY;return}const o=e.sourceProj,l=o.getExtent();l&&(i?i=Ct(i,l):i=l);const a=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),u=e.targetProj,c=C0(o,u,s,a);if(!isFinite(c)||c<=0){this.state=P.EMPTY;return}const h=e.errorThreshold!==void 0?e.errorThreshold:w0;if(this.triangulation_=new x0(o,u,s,i,c*h,a),this.triangulation_.getTriangles().length===0){this.state=P.EMPTY;return}this.sourceZ_=this.sourceTileGrid_.getZForResolution(c);let d=this.triangulation_.calculateSourceExtent();if(i&&(o.canWrapX()?(d[1]=we(d[1],i[1],i[3]),d[3]=we(d[3],i[1],i[3])):d=Ct(d,i)),!Ss(d))this.state=P.EMPTY;else{const f=this.sourceTileGrid_.getTileRangeForExtentAndZ(d,this.sourceZ_),m=e.getTileFunction;for(let y=f.minX;y<=f.maxX;y++)for(let v=f.minY;v<=f.maxY;v++){const p=m(this.sourceZ_,y,v,this.pixelRatio_);p&&this.sourceTiles_.push(p)}this.sourceTiles_.length===0&&(this.state=P.EMPTY)}}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{if(!n||n.getState()!==P.LOADED)return;const r=n.getSize(),i=this.gutter_;let s;const o=dc(n.getData());o?s=o:s=qT(Ll(n.getData()));const l=[r[0]+2*i,r[1]+2*i],a=s instanceof Float32Array,u=l[0]*l[1],c=a?Float32Array:Uint8Array,h=new c(s.buffer),d=c.BYTES_PER_ELEMENT,f=d*h.length/u,m=h.byteLength/l[1],y=Math.floor(m/d/l[0]),v=u*y;let p=h;if(h.length!==v){p=new c(v);let g=0,_=0;const E=l[0]*y;for(let T=0;T<l[1];++T){for(let w=0;w<E;++w)p[g++]=h[_+w];_+=m/d}}e.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),data:new Uint8Array(p.buffer),dataType:c,bytesPerPixel:f,pixelSize:l})}),this.sourceTiles_.length=0,e.length===0)this.state=P.ERROR;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],o=this.targetTileGrid_.getResolution(n),l=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);let u,c;const h=e[0].bytesPerPixel,d=Math.ceil(h/3);for(let f=d-1;f>=0;--f){const m=[];for(let E=0,T=e.length;E<T;++E){const w=e[E],x=w.data,C=w.pixelSize,R=C[0],I=C[1],N=fn(R,I,an),X=N.createImageData(R,I),ne=X.data;let ie=f*3;for(let Q=0,xe=ne.length;Q<xe;Q+=4)ne[Q]=x[ie],ne[Q+1]=x[ie+1],ne[Q+2]=x[ie+2],ne[Q+3]=255,ie+=h;N.putImageData(X,0,0),m.push({extent:w.extent,image:N.canvas})}const y=R0(i,s,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,m,this.gutter_,!1,!1);for(let E=0,T=m.length;E<T;++E){const x=m[E].image.getContext("2d");As(x),an.push(x.canvas)}const v=y.getContext("2d"),p=v.getImageData(0,0,y.width,y.height);As(v),an.push(y),u||(c=new Uint8Array(h*p.width*p.height),u=new e[0].dataType(c.buffer));const g=p.data;let _=f*3;for(let E=0,T=g.length;E<T;E+=4)g[E+3]===255?(c[_]=g[E],c[_+1]=g[E+1],c[_+2]=g[E+2]):(c[_]=0,c[_+1]=0,c[_+2]=0),_+=h}this.reprojData_=u,this.reprojSize_=[Math.round(i*this.pixelRatio_),Math.round(s*this.pixelRatio_)],this.state=P.LOADED}this.changed()}load(){if(this.state!==P.IDLE&&this.state!==P.ERROR)return;this.state=P.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const r=n.getState();if(r!==P.IDLE&&r!==P.LOADING)return;e++;const i=ee(n,z.CHANGE,function(){const s=n.getState();(s==P.LOADED||s==P.ERROR||s==P.EMPTY)&&(me(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n){n.getState()==P.IDLE&&n.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(me),this.sourcesListenerKeys_=null}}class gi extends Mh{constructor(e,n,r,i,s,o,l,a,u,c,h,d){super(s,P.IDLE,d),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=l,this.gutter_=a,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=i,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const f=i.getTileCoordExtent(this.wrappedTileCoord_),m=this.targetTileGrid_.getExtent();let y=this.sourceTileGrid_.getExtent();const v=m?Ct(f,m):f;if(Ss(v)===0){this.state=P.EMPTY;return}const p=e.getExtent();p&&(y?y=Ct(y,p):y=p);const g=i.getResolution(this.wrappedTileCoord_[0]),_=C0(e,r,v,g);if(!isFinite(_)||_<=0){this.state=P.EMPTY;return}const E=c!==void 0?c:w0;if(this.triangulation_=new x0(e,r,v,y,_*E,g),this.triangulation_.getTriangles().length===0){this.state=P.EMPTY;return}this.sourceZ_=n.getZForResolution(_);let T=this.triangulation_.calculateSourceExtent();if(y&&(e.canWrapX()?(T[1]=we(T[1],y[1],y[3]),T[3]=we(T[3],y[1],y[3])):T=Ct(T,y)),!Ss(T))this.state=P.EMPTY;else{const w=n.getTileRangeForExtentAndZ(T,this.sourceZ_);for(let x=w.minX;x<=w.maxX;x++)for(let C=w.minY;C<=w.maxY;C++){const R=u(this.sourceZ_,x,C,l);R&&this.sourceTiles_.push(R)}this.sourceTiles_.length===0&&(this.state=P.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{n&&n.getState()==P.LOADED&&e.push({extent:this.sourceTileGrid_.getTileCoordExtent(n.tileCoord),image:n.getImage()})}),this.sourceTiles_.length=0,e.length===0)this.state=P.ERROR;else{const n=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(n),i=typeof r=="number"?r:r[0],s=typeof r=="number"?r:r[1],o=this.targetTileGrid_.getResolution(n),l=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=R0(i,s,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=P.LOADED}this.changed()}load(){if(this.state==P.IDLE){this.state=P.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(n=>{const r=n.getState();if(r==P.IDLE||r==P.LOADING){e++;const i=ee(n,z.CHANGE,function(s){const o=n.getState();(o==P.LOADED||o==P.ERROR||o==P.EMPTY)&&(me(i),e--,e===0&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(i)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(n,r,i){n.getState()==P.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(me),this.sourcesListenerKeys_=null}release(){this.canvas_&&(As(this.canvas_.getContext("2d")),an.push(this.canvas_),this.canvas_=null),super.release()}}function tw(t,e,n){const r=t;let i=!0,s=!1,o=!1;const l=[El(r,z.LOAD,function(){o=!0,s||e()})];return r.src&&Pv?(s=!0,r.decode().then(function(){i&&e()}).catch(function(a){i&&(o?e():n())})):l.push(El(r,z.ERROR,n)),function(){i=!1,l.forEach(me)}}class aa extends Mh{constructor(e,n,r,i,s,o){super(e,n,o),this.crossOrigin_=i,this.src_=r,this.key=r,this.image_=new Image,i!==null&&(this.image_.crossOrigin=i),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=P.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=P.ERROR,this.unlistenImage_(),this.image_=nw(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=P.LOADED:this.state=P.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==P.ERROR&&(this.state=P.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==P.IDLE&&(this.state=P.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=tw(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function nw(){const t=fn(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}class rw extends ta{constructor(e){super(),this.tile,this.handleTileChange_=this.handleTileChange_.bind(this),this.gutter_=e.gutter||0,this.helper_=e.helper,this.loaded=!1,this.ready=!1}setTile(e){if(e!==this.tile)if(this.tile&&this.tile.removeEventListener(z.CHANGE,this.handleTileChange_),this.tile=e,this.loaded=e.getState()===P.LOADED,this.loaded)this.uploadTile();else{if(e instanceof aa){const n=e.getImage();n instanceof Image&&!n.crossOrigin&&(n.crossOrigin="anonymous")}e.addEventListener(z.CHANGE,this.handleTileChange_)}}uploadTile(){fe()}setReady(){this.ready=!0,this.dispatchEvent(z.CHANGE)}handleTileChange_(){this.tile.getState()===P.LOADED&&(this.loaded=!0,this.uploadTile())}disposeInternal(){this.tile.removeEventListener(z.CHANGE,this.handleTileChange_)}}const Fh=34962,bh=34963,iw=35040,zh=35044,sw=35048,ow=5121,lw=5123,aw=5125,S0=5126,Jf=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function uw(t,e){e=Object.assign({preserveDrawingBuffer:!0,antialias:!Sv},e);const n=Jf.length;for(let r=0;r<n;++r)try{const i=t.getContext(Jf[r],e);if(i)return i}catch{}return null}const cw={STATIC_DRAW:zh,STREAM_DRAW:iw,DYNAMIC_DRAW:sw};class I0{constructor(e,n){this.array_=null,this.type_=e,ue(e===Fh||e===bh,"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`"),this.usage_=n!==void 0?n:cw.STATIC_DRAW}ofSize(e){return this.array_=new(Ja(this.type_))(e),this}fromArray(e){return this.array_=Ja(this.type_).from(e),this}fromArrayBuffer(e){return this.array_=new(Ja(this.type_))(e),this}getType(){return this.type_}getArray(){return this.array_}getUsage(){return this.usage_}getSize(){return this.array_?this.array_.length:0}}function Ja(t){switch(t){case Fh:return Float32Array;case bh:return Uint32Array;default:return Float32Array}}function P0(t,e,n){const r=n?t.LINEAR:t.NEAREST;t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,r)}function hw(t,e,n,r){P0(t,e,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n)}function eg(t,e,n,r,i,s){const o=t.getGL();let l,a;n instanceof Float32Array?(l=o.FLOAT,t.getExtension("OES_texture_float"),a=t.getExtension("OES_texture_float_linear")!==null):(l=o.UNSIGNED_BYTE,a=!0),P0(o,e,s&&a);const u=n.byteLength/r[1];let c=1;u%8===0?c=8:u%4===0?c=4:u%2===0&&(c=2);let h;switch(i){case 1:{h=o.LUMINANCE;break}case 2:{h=o.LUMINANCE_ALPHA;break}case 3:{h=o.RGB;break}case 4:{h=o.RGBA;break}default:throw new Error(`Unsupported number of bands: ${i}`)}const d=o.getParameter(o.UNPACK_ALIGNMENT);o.pixelStorei(o.UNPACK_ALIGNMENT,c),o.texImage2D(o.TEXTURE_2D,0,h,r[0],r[1],0,h,l,n),o.pixelStorei(o.UNPACK_ALIGNMENT,d)}let Mr=null;function dw(){Mr=fn(1,1,void 0,{willReadFrequently:!0})}class fw extends rw{constructor(e){super(e),this.textures=[],this.renderSize_=st(e.grid.getTileSize(e.tile.tileCoord[0])),this.bandCount=NaN;const n=new I0(Fh,zh);n.fromArray([0,1,1,1,1,0,0,0]),this.helper_.flushBufferData(n),this.coords=n,this.setTile(e.tile)}uploadTile(){const e=this.helper_,n=e.getGL(),r=this.tile;this.textures.length=0;let i;r instanceof aa||r instanceof gi?i=r.getImage():i=r.getData();const s=Ll(i);if(s){const g=n.createTexture();this.textures.push(g),this.bandCount=4,hw(n,g,s,r.interpolate),this.setReady();return}i=dc(i);const o=r.getSize(),l=[o[0]+2*this.gutter_,o[1]+2*this.gutter_],a=i instanceof Float32Array,u=l[0]*l[1],c=a?Float32Array:Uint8Array,h=c.BYTES_PER_ELEMENT,d=i.byteLength/l[1];this.bandCount=Math.floor(d/h/l[0]);const f=Math.ceil(this.bandCount/4);if(f===1){const g=n.createTexture();this.textures.push(g),eg(e,g,i,l,this.bandCount,r.interpolate),this.setReady();return}const m=new Array(f);for(let g=0;g<f;++g){const _=n.createTexture();this.textures.push(_);const E=g<f-1?4:(this.bandCount-1)%4+1;m[g]=new c(u*E)}let y=0,v=0;const p=l[0]*this.bandCount;for(let g=0;g<l[1];++g){for(let _=0;_<p;++_){const E=i[v+_],T=Math.floor(y/this.bandCount),w=_%this.bandCount,x=Math.floor(w/4),C=m[x],R=C.length/u,I=w%4;C[T*R+I]=E,++y}v+=d/h}for(let g=0;g<f;++g){const _=this.textures[g],E=m[g],T=E.length/u;eg(e,_,E,l,T,r.interpolate)}this.setReady()}disposeInternal(){const e=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(let n=0;n<this.textures.length;++n)e.deleteTexture(this.textures[n]);this.tile.removeEventListener(z.CHANGE,this.handleTileChange_)}getImagePixelData_(e,n,r){const i=this.gutter_,s=this.renderSize_[0],o=this.renderSize_[1];Mr||dw(),Mr.clearRect(0,0,1,1);const l=e.width,a=e.height,u=l-2*i,c=a-2*i,h=i+Math.floor(u*(n/s)),d=i+Math.floor(c*(r/o));let f;try{Mr.drawImage(e,h,d,1,1,0,0,1,1),f=Mr.getImageData(0,0,1,1).data}catch{return Mr=null,null}return f}getArrayPixelData_(e,n,r,i){const s=this.gutter_,o=this.renderSize_[0],l=this.renderSize_[1],a=n[0],u=n[1],c=a+2*s,h=u+2*s,d=s+Math.floor(a*(r/o)),f=s+Math.floor(u*(i/l));if(e instanceof DataView){const y=e.byteLength/(c*h),v=y*(f*c+d),p=e.buffer.slice(v,v+y);return new DataView(p)}const m=this.bandCount*(f*c+d);return e.slice(m,m+this.bandCount)}getPixelData(e,n){if(!this.loaded)return null;if(this.tile instanceof kh){const r=this.tile.getData(),i=dc(r);if(i){const s=this.tile.getSize();return this.getArrayPixelData_(i,s,e,n)}return this.getImagePixelData_(Ll(r),e,n)}return this.getImagePixelData_(this.tile.getImage(),e,n)}}class A0{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const r=this.entries_[e];return ue(r!==void 0,"Tried to get a value for a key that does not exist in the cache"),r===this.newest_||(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r),r.value_}remove(e){const n=this.entries_[e];return ue(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.key_;return e}getValues(){const e=new Array(this.count_);let n=0,r;for(r=this.newest_;r;r=r.older)e[n++]=r.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var n;return(n=this.entries_[e])==null?void 0:n.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){ue(!(e in this.entries_),"Tried to set a value for a key that is used already");const r={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=r:this.oldest_=r,this.newest_=r,this.entries_[e]=r,++this.count_}setSize(e){this.highWaterMark=e}}class ua{constructor(e,n,r,i){this.minX=e,this.maxX=n,this.minY=r,this.maxY=i}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Pr(t,e,n,r,i){return i!==void 0?(i.minX=t,i.maxX=e,i.minY=n,i.maxY=r,i):new ua(t,e,n,r)}class L0 extends Gs{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.declutterExecutorGroup=null}getFeatures(e){return fe()}getData(e){return null}prepareFrame(e){return fe()}renderFrame(e,n){return fe()}loadedTileCallback(e,n,r){e[n]||(e[n]={}),e[n][r.tileCoord.toString()]=r}createLoadedTileFinder(e,n,r){return(i,s)=>{const o=this.loadedTileCallback.bind(this,r,i);return e.forEachLoadedTile(n,i,s,o)}}forEachFeatureAtCoordinate(e,n,r,i,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===Sr.LOADED||n.getState()===Sr.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=Sr.LOADED&&n!=Sr.ERROR&&e.addEventListener(z.CHANGE,this.boundHandleImageChange_),n==Sr.IDLE&&(e.load(),n=e.getState()),n==Sr.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}disposeInternal(){delete this.layer_,super.disposeInternal()}}const Io={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"},gw=`
  precision mediump float;
  
  attribute vec2 a_position;
  varying vec2 v_texCoord;
  varying vec2 v_screenCoord;
  
  uniform vec2 u_screenSize;
   
  void main() {
    v_texCoord = a_position * 0.5 + 0.5;
    v_screenCoord = v_texCoord * u_screenSize;
    gl_Position = vec4(a_position, 0.0, 1.0);
  }
`,pw=`
  precision mediump float;
   
  uniform sampler2D u_image;
  uniform float u_opacity;
   
  varying vec2 v_texCoord;
   
  void main() {
    gl_FragColor = texture2D(u_image, v_texCoord) * u_opacity;
  }
`;class tg{constructor(e){this.gl_=e.webGlContext;const n=this.gl_;this.scaleRatio_=e.scaleRatio||1,this.renderTargetTexture_=n.createTexture(),this.renderTargetTextureSize_=null,this.frameBuffer_=n.createFramebuffer(),this.depthBuffer_=n.createRenderbuffer();const r=n.createShader(n.VERTEX_SHADER);n.shaderSource(r,e.vertexShader||gw),n.compileShader(r);const i=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(i,e.fragmentShader||pw),n.compileShader(i),this.renderTargetProgram_=n.createProgram(),n.attachShader(this.renderTargetProgram_,r),n.attachShader(this.renderTargetProgram_,i),n.linkProgram(this.renderTargetProgram_),this.renderTargetVerticesBuffer_=n.createBuffer();const s=[-1,-1,1,-1,-1,1,1,-1,1,1,-1,1];n.bindBuffer(n.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),n.bufferData(n.ARRAY_BUFFER,new Float32Array(s),n.STATIC_DRAW),this.renderTargetAttribLocation_=n.getAttribLocation(this.renderTargetProgram_,"a_position"),this.renderTargetUniformLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_screenSize"),this.renderTargetOpacityLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_opacity"),this.renderTargetTextureLocation_=n.getUniformLocation(this.renderTargetProgram_,"u_image"),this.uniforms_=[],e.uniforms&&Object.keys(e.uniforms).forEach(o=>{this.uniforms_.push({value:e.uniforms[o],location:n.getUniformLocation(this.renderTargetProgram_,o)})})}getGL(){return this.gl_}init(e){const n=this.getGL(),r=[n.drawingBufferWidth*this.scaleRatio_,n.drawingBufferHeight*this.scaleRatio_];if(n.bindFramebuffer(n.FRAMEBUFFER,this.getFrameBuffer()),n.bindRenderbuffer(n.RENDERBUFFER,this.getDepthBuffer()),n.viewport(0,0,r[0],r[1]),!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==r[0]||this.renderTargetTextureSize_[1]!==r[1]){this.renderTargetTextureSize_=r;const i=0,s=n.RGBA,o=0,l=n.RGBA,a=n.UNSIGNED_BYTE,u=null;n.bindTexture(n.TEXTURE_2D,this.renderTargetTexture_),n.texImage2D(n.TEXTURE_2D,i,s,r[0],r[1],o,l,a,u),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.renderTargetTexture_,0),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,r[0],r[1]),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,this.depthBuffer_)}}apply(e,n,r,i){const s=this.getGL(),o=e.size;if(s.bindFramebuffer(s.FRAMEBUFFER,n?n.getFrameBuffer():null),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,this.renderTargetTexture_),!n){const a=le(s.canvas);if(!e.renderTargets[a]){const u=s.getContextAttributes();u&&u.preserveDrawingBuffer&&(s.clearColor(0,0,0,0),s.clearDepth(1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT)),e.renderTargets[a]=!0}}s.disable(s.DEPTH_TEST),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),s.viewport(0,0,s.drawingBufferWidth,s.drawingBufferHeight),s.bindBuffer(s.ARRAY_BUFFER,this.renderTargetVerticesBuffer_),s.useProgram(this.renderTargetProgram_),s.enableVertexAttribArray(this.renderTargetAttribLocation_),s.vertexAttribPointer(this.renderTargetAttribLocation_,2,s.FLOAT,!1,0,0),s.uniform2f(this.renderTargetUniformLocation_,o[0],o[1]),s.uniform1i(this.renderTargetTextureLocation_,0);const l=e.layerStatesArray[e.layerIndex].opacity;s.uniform1f(this.renderTargetOpacityLocation_,l),this.applyUniforms(e),r&&r(s,e),s.drawArrays(s.TRIANGLES,0,6),i&&i(s,e)}getFrameBuffer(){return this.frameBuffer_}getDepthBuffer(){return this.depthBuffer_}applyUniforms(e){const n=this.getGL();let r,i=1;this.uniforms_.forEach(function(s){if(r=typeof s.value=="function"?s.value(e):s.value,r instanceof HTMLCanvasElement||r instanceof ImageData)s.texture||(s.texture=n.createTexture()),n.activeTexture(n[`TEXTURE${i}`]),n.bindTexture(n.TEXTURE_2D,s.texture),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),r instanceof ImageData?n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,r.width,r.height,0,n.UNSIGNED_BYTE,new Uint8Array(r.data)):n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r),n.uniform1i(s.location,i++);else if(Array.isArray(r))switch(r.length){case 2:n.uniform2f(s.location,r[0],r[1]);return;case 3:n.uniform3f(s.location,r[0],r[1],r[2]);return;case 4:n.uniform4f(s.location,r[0],r[1],r[2],r[3]);return;default:return}else typeof r=="number"&&n.uniform1f(s.location,r)})}}function O0(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function D0(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}const _n={PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix",TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution",ROTATION:"u_rotation",VIEWPORT_SIZE_PX:"u_viewportSizePx",PIXEL_RATIO:"u_pixelRatio",HIT_DETECTION:"u_hitDetection"},Ki={UNSIGNED_BYTE:ow,UNSIGNED_SHORT:lw,UNSIGNED_INT:aw,FLOAT:S0},Ol={};function ng(t){return"shared/"+t}let rg=0;function mw(){const t="unique/"+rg;return rg+=1,t}function yw(t){let e=Ol[t];if(!e){const n=document.createElement("canvas");n.width=1,n.height=1,n.style.position="absolute",n.style.left="0",e={users:0,context:uw(n)},Ol[t]=e}return e.users+=1,e.context}function _w(t){const e=Ol[t];if(!e||(e.users-=1,e.users>0))return;const n=e.context,r=n.getExtension("WEBGL_lose_context");r&&r.loseContext();const i=n.canvas;i.width=1,i.height=1,delete Ol[t]}class vw extends ql{constructor(e){super(),e=e||{},this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this),this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this),this.canvasCacheKey_=e.canvasCacheKey?ng(e.canvasCacheKey):mw(),this.gl_=yw(this.canvasCacheKey_),this.bufferCache_={},this.extensionCache_={},this.currentProgram_=null,this.needsToBeRecreated_=!1;const n=this.gl_.canvas;n.addEventListener(Io.LOST,this.boundHandleWebGLContextLost_),n.addEventListener(Io.RESTORED,this.boundHandleWebGLContextRestored_),this.offsetRotateMatrix_=Yt(),this.offsetScaleMatrix_=Yt(),this.tmpMat4_=O0(),this.uniformLocationsByProgram_={},this.attribLocationsByProgram_={},this.uniforms_=[],e.uniforms&&this.setUniforms(e.uniforms),this.postProcessPasses_=e.postProcesses?e.postProcesses.map(r=>new tg({webGlContext:this.gl_,scaleRatio:r.scaleRatio,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,uniforms:r.uniforms})):[new tg({webGlContext:this.gl_})],this.shaderCompileErrors_=null,this.startTime_=Date.now()}setUniforms(e){this.uniforms_=[],this.addUniforms(e)}addUniforms(e){for(const n in e)this.uniforms_.push({name:n,value:e[n]})}canvasCacheKeyMatches(e){return this.canvasCacheKey_===ng(e)}getExtension(e){if(e in this.extensionCache_)return this.extensionCache_[e];const n=this.gl_.getExtension(e);return this.extensionCache_[e]=n,n}bindBuffer(e){const n=this.gl_,r=le(e);let i=this.bufferCache_[r];if(!i){const s=n.createBuffer();i={buffer:e,webGlBuffer:s},this.bufferCache_[r]=i}n.bindBuffer(e.getType(),i.webGlBuffer)}flushBufferData(e){const n=this.gl_;this.bindBuffer(e),n.bufferData(e.getType(),e.getArray(),e.getUsage())}deleteBuffer(e){const n=this.gl_,r=le(e),i=this.bufferCache_[r];i&&!n.isContextLost()&&n.deleteBuffer(i.webGlBuffer),delete this.bufferCache_[r]}disposeInternal(){const e=this.gl_.canvas;e.removeEventListener(Io.LOST,this.boundHandleWebGLContextLost_),e.removeEventListener(Io.RESTORED,this.boundHandleWebGLContextRestored_),_w(this.canvasCacheKey_),delete this.gl_}prepareDraw(e,n,r){const i=this.gl_,s=this.getCanvas(),o=e.size,l=e.pixelRatio;(s.width!==o[0]*l||s.height!==o[1]*l)&&(s.width=o[0]*l,s.height=o[1]*l,s.style.width=o[0]+"px",s.style.height=o[1]+"px");for(let a=this.postProcessPasses_.length-1;a>=0;a--)this.postProcessPasses_[a].init(e);i.bindTexture(i.TEXTURE_2D,null),i.clearColor(0,0,0,0),i.depthRange(0,1),i.clearDepth(1),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),i.enable(i.BLEND),i.blendFunc(i.ONE,n?i.ZERO:i.ONE_MINUS_SRC_ALPHA),r?(i.enable(i.DEPTH_TEST),i.depthFunc(i.LEQUAL)):i.disable(i.DEPTH_TEST)}bindTexture(e,n,r){const i=this.gl_;i.activeTexture(i.TEXTURE0+n),i.bindTexture(i.TEXTURE_2D,e),i.uniform1i(this.getUniformLocation(r),n)}prepareDrawToRenderTarget(e,n,r,i){const s=this.gl_,o=n.getSize();s.bindFramebuffer(s.FRAMEBUFFER,n.getFramebuffer()),s.bindRenderbuffer(s.RENDERBUFFER,n.getDepthbuffer()),s.viewport(0,0,o[0],o[1]),s.bindTexture(s.TEXTURE_2D,n.getTexture()),s.clearColor(0,0,0,0),s.depthRange(0,1),s.clearDepth(1),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.enable(s.BLEND),s.blendFunc(s.ONE,r?s.ZERO:s.ONE_MINUS_SRC_ALPHA),i?(s.enable(s.DEPTH_TEST),s.depthFunc(s.LEQUAL)):s.disable(s.DEPTH_TEST)}drawElements(e,n){const r=this.gl_;this.getExtension("OES_element_index_uint");const i=r.UNSIGNED_INT,s=4,o=n-e,l=e*s;r.drawElements(r.TRIANGLES,o,i,l)}finalizeDraw(e,n,r){for(let i=0,s=this.postProcessPasses_.length;i<s;i++)i===s-1?this.postProcessPasses_[i].apply(e,null,n,r):this.postProcessPasses_[i].apply(e,this.postProcessPasses_[i+1])}getCanvas(){return this.gl_.canvas}getGL(){return this.gl_}applyFrameState(e){const n=e.size,r=e.viewState.rotation,i=e.pixelRatio;this.setUniformFloatValue(_n.TIME,(Date.now()-this.startTime_)*.001),this.setUniformFloatValue(_n.ZOOM,e.viewState.zoom),this.setUniformFloatValue(_n.RESOLUTION,e.viewState.resolution),this.setUniformFloatValue(_n.PIXEL_RATIO,i),this.setUniformFloatVec2(_n.VIEWPORT_SIZE_PX,[n[0],n[1]]),this.setUniformFloatValue(_n.ROTATION,r)}applyHitDetectionUniform(e){const n=this.getUniformLocation(_n.HIT_DETECTION);this.getGL().uniform1i(n,e?1:0),e&&this.setUniformFloatValue(_n.PIXEL_RATIO,.5)}applyUniforms(e){const n=this.gl_;let r,i=0;this.uniforms_.forEach(s=>{if(r=typeof s.value=="function"?s.value(e):s.value,r instanceof HTMLCanvasElement||r instanceof HTMLImageElement||r instanceof ImageData)s.texture||(s.prevValue=void 0,s.texture=n.createTexture()),this.bindTexture(s.texture,i,s.name),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(!(r instanceof HTMLImageElement)||r.complete)&&s.prevValue!==r&&(s.prevValue=r,n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,r)),i++;else if(Array.isArray(r)&&r.length===6)this.setUniformMatrixValue(s.name,D0(this.tmpMat4_,r));else if(Array.isArray(r)&&r.length<=4)switch(r.length){case 2:n.uniform2f(this.getUniformLocation(s.name),r[0],r[1]);return;case 3:n.uniform3f(this.getUniformLocation(s.name),r[0],r[1],r[2]);return;case 4:n.uniform4f(this.getUniformLocation(s.name),r[0],r[1],r[2],r[3]);return;default:return}else typeof r=="number"&&n.uniform1f(this.getUniformLocation(s.name),r)})}useProgram(e,n){this.gl_.useProgram(e),this.currentProgram_=e,this.applyFrameState(n),this.applyUniforms(n)}compileShader(e,n){const r=this.gl_,i=r.createShader(n);return r.shaderSource(i,e),r.compileShader(i),i}getProgram(e,n){const r=this.gl_,i=this.compileShader(e,r.FRAGMENT_SHADER),s=this.compileShader(n,r.VERTEX_SHADER),o=r.createProgram();if(r.attachShader(o,i),r.attachShader(o,s),r.linkProgram(o),!r.getShaderParameter(i,r.COMPILE_STATUS)){const l=`Fragment shader compilation failed: ${r.getShaderInfoLog(i)}`;throw new Error(l)}if(r.deleteShader(i),!r.getShaderParameter(s,r.COMPILE_STATUS)){const l=`Vertex shader compilation failed: ${r.getShaderInfoLog(s)}`;throw new Error(l)}if(r.deleteShader(s),!r.getProgramParameter(o,r.LINK_STATUS)){const l=`GL program linking failed: ${r.getProgramInfoLog(o)}`;throw new Error(l)}return o}getUniformLocation(e){const n=le(this.currentProgram_);return this.uniformLocationsByProgram_[n]===void 0&&(this.uniformLocationsByProgram_[n]={}),this.uniformLocationsByProgram_[n][e]===void 0&&(this.uniformLocationsByProgram_[n][e]=this.gl_.getUniformLocation(this.currentProgram_,e)),this.uniformLocationsByProgram_[n][e]}getAttributeLocation(e){const n=le(this.currentProgram_);return this.attribLocationsByProgram_[n]===void 0&&(this.attribLocationsByProgram_[n]={}),this.attribLocationsByProgram_[n][e]===void 0&&(this.attribLocationsByProgram_[n][e]=this.gl_.getAttribLocation(this.currentProgram_,e)),this.attribLocationsByProgram_[n][e]}makeProjectionTransform(e,n){const r=e.size,i=e.viewState.rotation,s=e.viewState.resolution,o=e.viewState.center;return mr(n,0,0,2/(s*r[0]),2/(s*r[1]),-i,-o[0],-o[1]),n}setUniformFloatValue(e,n){this.gl_.uniform1f(this.getUniformLocation(e),n)}setUniformFloatVec2(e,n){this.gl_.uniform2fv(this.getUniformLocation(e),n)}setUniformFloatVec4(e,n){this.gl_.uniform4fv(this.getUniformLocation(e),n)}setUniformMatrixValue(e,n){this.gl_.uniformMatrix4fv(this.getUniformLocation(e),!1,n)}enableAttributeArray_(e,n,r,i,s){const o=this.getAttributeLocation(e);o<0||(this.gl_.enableVertexAttribArray(o),this.gl_.vertexAttribPointer(o,n,r,!1,i,s))}enableAttributes(e){const n=Ew(e);let r=0;for(let i=0;i<e.length;i++){const s=e[i];this.enableAttributeArray_(s.name,s.size,s.type||S0,n,r),r+=s.size*M0(s.type)}}handleWebGLContextLost(e){Us(this.bufferCache_),this.currentProgram_=null,e.preventDefault()}handleWebGLContextRestored(){this.needsToBeRecreated_=!0}needsToBeRecreated(){return this.needsToBeRecreated_}createTexture(e,n,r){const i=this.gl_;r=r||i.createTexture();const s=0,o=i.RGBA,l=0,a=i.RGBA,u=i.UNSIGNED_BYTE;return i.bindTexture(i.TEXTURE_2D,r),n?i.texImage2D(i.TEXTURE_2D,s,o,a,u,n):i.texImage2D(i.TEXTURE_2D,s,o,e[0],e[1],l,a,u,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),r}}function Ew(t){let e=0;for(let n=0;n<t.length;n++){const r=t[n];e+=r.size*M0(r.type)}return e}function M0(t){switch(t){case Ki.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case Ki.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;case Ki.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;case Ki.FLOAT:default:return Float32Array.BYTES_PER_ELEMENT}}class Uh extends L0{constructor(e,n){super(e),n=n||{},this.inversePixelTransform_=Yt(),this.pixelContext_=null,this.postProcesses_=n.postProcesses,this.uniforms_=n.uniforms,this.helper,e.addChangeListener(q.MAP,this.removeHelper.bind(this)),this.dispatchPreComposeEvent=this.dispatchPreComposeEvent.bind(this),this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(e,n){const r=this.getLayer();if(r.hasListener(rt.PRECOMPOSE)){const i=new ss(rt.PRECOMPOSE,void 0,n,e);r.dispatchEvent(i)}}dispatchPostComposeEvent(e,n){const r=this.getLayer();if(r.hasListener(rt.POSTCOMPOSE)){const i=new ss(rt.POSTCOMPOSE,void 0,n,e);r.dispatchEvent(i)}}reset(e){this.uniforms_=e.uniforms,this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&(this.helper.dispose(),delete this.helper)}prepareFrame(e){if(this.getLayer().getRenderSource()){let n=!0,r=-1,i;for(let o=0,l=e.layerStatesArray.length;o<l;o++){const a=e.layerStatesArray[o].layer,u=a.getRenderer();if(!(u instanceof Uh)){n=!0;continue}const c=a.getClassName();if((n||c!==i)&&(r+=1,n=!1),i=c,u===this)break}const s="map/"+e.mapId+"/group/"+r;(!this.helper||!this.helper.canvasCacheKeyMatches(s)||this.helper.needsToBeRecreated())&&(this.removeHelper(),this.helper=new vw({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:s}),i&&(this.helper.getCanvas().className=i),this.afterHelperCreated())}return this.prepareFrameInternal(e)}afterHelperCreated(){}prepareFrameInternal(e){return!0}disposeInternal(){this.removeHelper(),super.disposeInternal()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){mr(this.inversePixelTransform_,0,0,r.pixelRatio,-r.pixelRatio,0,0,-r.size[1]);const s=new ss(e,this.inversePixelTransform_,r,n);i.dispatchEvent(s)}}preRender(e,n){this.dispatchRenderEvent_(rt.PRERENDER,e,n)}postRender(e,n){this.dispatchRenderEvent_(rt.POSTRENDER,e,n)}}function Dl(t,e,n,r){return r!==void 0?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function pi(t,e,n){return t+"/"+e+"/"+n}function In(t){return pi(t[0],t[1],t[2])}function Tw(t){return t.split("/").map(Number)}function ww(t){return(t[1]<<t[0])+t[2]}function xw(t,e){const n=t[0],r=t[1],i=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(r,i):!0}const Cw={TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",RENDER_EXTENT:"u_renderExtent",PATTERN_ORIGIN:"u_patternOrigin",RESOLUTION:"u_resolution",ZOOM:"u_zoom",GLOBAL_ALPHA:"u_globalAlpha",PROJECTION_MATRIX:"u_projectionMatrix",SCREEN_TO_WORLD_MATRIX:"u_screenToWorldMatrix"},Rw={};function ig(t){return 1/(t+2)}function Sw(){return{tileIds:new Set,representationsByZ:{}}}function sg(t,e){return t.tileIds.has(le(e))}function og(t,e,n){const r=t.representationsByZ;n in r||(r[n]=new Set),r[n].add(e),t.tileIds.add(le(e.tile))}function eu(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=Ct(e,Dn(n.extent,t.viewState.projection)));const r=n.layer.getRenderSource();if(!r.getWrapX()){const i=r.getTileGridForProjection(t.viewState.projection).getExtent();i&&(e=Ct(e,i))}return e}function fc(t,e){return`${t.getKey()},${In(e)}`}class Iw extends Uh{constructor(e,n){super(e,{uniforms:n.uniforms,postProcesses:n.postProcesses}),this.renderComplete=!1,this.tileTransform_=Yt(),this.tempMat4=O0(),this.tempTileRange_=new ua(0,0,0,0),this.tempTileCoord_=Dl(0,0,0),this.tempSize_=[0,0];const r=n.cacheSize!==void 0?n.cacheSize:512;this.tileRepresentationCache=new A0(r),this.frameState=null,this.projection_=void 0}reset(e){super.reset({uniforms:e.uniforms})}isDrawableTile_(e){const n=this.getLayer(),r=e.getState(),i=n.getUseInterimTilesOnError();return r==P.LOADED||r==P.EMPTY||r==P.ERROR&&!i}prepareFrameInternal(e){this.projection_?e.viewState.projection!==this.projection_&&(this.clearCache(),this.projection_=e.viewState.projection):this.projection_=e.viewState.projection;const r=this.getLayer().getRenderSource();return!r||$s(eu(e,e.extent))?!1:r.getState()==="ready"}createTileRepresentation(e){return fe()}enqueueTiles(e,n,r,i,s){const o=e.viewState,l=this.getLayer(),a=l.getRenderSource(),u=a.getTileGridForProjection(o.projection),c=a.getGutterForProjection(o.projection),h=le(a);h in e.wantedTiles||(e.wantedTiles[h]={});const d=e.wantedTiles[h],f=this.tileRepresentationCache,m=l.getMapInternal(),y=Math.max(r-s,u.getMinZoom(),u.getZForResolution(Math.min(l.getMaxResolution(),m?m.getView().getResolutionForZoom(Math.max(l.getMinZoom(),0)):u.getResolution(0)),a.zDirection));for(let v=r;v>=y;--v){const p=u.getTileRangeForExtentAndZ(n,v,this.tempTileRange_),g=u.getResolution(v);for(let _=p.minX;_<=p.maxX;++_)for(let E=p.minY;E<=p.maxY;++E){const T=Dl(v,_,E,this.tempTileCoord_),w=fc(a,T);let x,C;if(f.containsKey(w)&&(x=f.get(w),C=x.tile),(!x||x.tile.key!==a.getKey())&&(C=a.getTile(v,_,E,e.pixelRatio,o.projection)),sg(i,C))continue;if(!x)x=this.createTileRepresentation({tile:C,grid:u,helper:this.helper,gutter:c}),f.set(w,x);else if(this.isDrawableTile_(C))x.setTile(C);else{const I=C.getInterimTile();x.setTile(I)}og(i,x,v);const R=C.getKey();d[R]=!0,C.getState()===P.IDLE&&(e.tileQueue.isKeyQueued(R)||e.tileQueue.enqueue([C,h,u.getTileCoordCenter(T),g]))}}}beforeTilesRender(e,n){this.helper.prepareDraw(this.frameState,!n,!0)}beforeTilesMaskRender(e){return!1}renderTile(e,n,r,i,s,o,l,a,u,c,h){}renderTileMask(e,n,r,i){}drawTile_(e,n,r,i,s,o,l){if(!n.ready)return;const u=n.tile.tileCoord,c=In(u),h=c in o?o[c]:1,d=l.getResolution(r),f=st(l.getTileSize(r),this.tempSize_),m=l.getOrigin(r),y=l.getTileCoordExtent(u),v=h<1?-1:ig(r);h<1&&(e.animate=!0);const p=e.viewState,g=p.center[0],_=p.center[1],E=f[0]+2*i,T=f[1]+2*i,w=E/T,x=(g-m[0])/(f[0]*d),C=(m[1]-_)/(f[1]*d),R=p.resolution/d,I=u[1],N=u[2];Av(this.tileTransform_),Rf(this.tileTransform_,2/(e.size[0]*R/E),-2/(e.size[1]*R/E)),Lv(this.tileTransform_,p.rotation),Rf(this.tileTransform_,1,1/w),Ov(this.tileTransform_,(f[0]*(I-x)-i)/E,(f[1]*(N-C)-i)/T),this.renderTile(n,this.tileTransform_,e,s,d,f,m,y,v,i,h)}renderFrame(e){this.frameState=e,this.renderComplete=!0;const n=this.helper.getGL();this.preRender(n,e);const r=e.viewState,i=this.getLayer(),s=i.getRenderSource(),o=s.getTileGridForProjection(r.projection),l=s.getGutterForProjection(r.projection),a=eu(e,e.extent),u=o.getZForResolution(r.resolution,s.zDirection),c=Sw(),h=i.getPreload();if(e.nextExtent){const w=o.getZForResolution(r.nextResolution,s.zDirection),x=eu(e,e.nextExtent);this.enqueueTiles(e,x,w,c,h)}this.enqueueTiles(e,a,u,c,0),h>0&&setTimeout(()=>{this.enqueueTiles(e,a,u-1,c,h-1)},0);const d={},f=le(this),m=e.time;let y=!1;for(const w of c.representationsByZ[u]){const x=w.tile;if((x instanceof gi||x instanceof Nh)&&x.getState()===P.EMPTY)continue;const C=x.tileCoord;if(w.ready){const N=x.getAlpha(f,m);if(N===1){x.endTransition(f);continue}y=!0;const X=In(C);d[X]=N}if(this.renderComplete=!1,this.findAltTiles_(o,C,u+1,c))continue;const I=o.getMinZoom();for(let N=u-1;N>=I&&!this.findAltTiles_(o,C,N,c);--N);}const v=c.representationsByZ,p=Object.keys(v).map(Number).sort(mv);if(this.beforeTilesMaskRender(e))for(let w=0,x=p.length;w<x;++w){const C=p[w];for(const R of v[C]){const I=R.tile.tileCoord;if(In(I)in d)continue;const X=o.getTileCoordExtent(I);this.renderTileMask(R,C,X,ig(C))}}this.beforeTilesRender(e,y);for(let w=0,x=p.length;w<x;++w){const C=p[w];for(const R of v[C]){const I=R.tile.tileCoord;In(I)in d||this.drawTile_(e,R,C,l,a,d,o)}}for(const w of v[u]){const x=w.tile.tileCoord;In(x)in d&&this.drawTile_(e,w,u,l,a,d,o)}this.helper.finalizeDraw(e,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);const _=this.helper.getCanvas(),E=this.tileRepresentationCache;for(;E.canExpireCache();)E.pop().dispose();const T=function(w,x){s.updateCacheSize(.1,x.viewState.projection),s.expireCache(x.viewState.projection,Rw)};return e.postRenderFunctions.push(T),this.postRender(n,e),_}findAltTiles_(e,n,r,i){const s=e.getTileRangeForTileCoordAndZ(n,r,this.tempTileRange_);if(!s)return!1;let o=!0;const l=this.tileRepresentationCache,a=this.getLayer().getRenderSource();for(let u=s.minX;u<=s.maxX;++u)for(let c=s.minY;c<=s.maxY;++c){const h=fc(a,[r,u,c]);let d=!1;if(l.containsKey(h)){const f=l.get(h);f.ready&&!sg(i,f.tile)&&(og(i,f,r),d=!0)}d||(o=!1)}return o}clearCache(){const e=this.tileRepresentationCache;e.forEach(n=>n.dispose()),e.clear()}removeHelper(){this.helper&&this.clearCache(),super.removeHelper()}disposeInternal(){super.disposeInternal(),delete this.frameState}}const b={...Cw,TILE_TEXTURE_ARRAY:"u_tileTextures",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY"},Xo={TEXTURE_COORD:"a_textureCoord"},Pw=[{name:Xo.TEXTURE_COORD,size:2,type:Ki.FLOAT}];class Aw extends Iw{constructor(e,n){super(e,n),this.program_,this.vertexShader_=n.vertexShader,this.fragmentShader_=n.fragmentShader,this.indices_=new I0(bh,zh),this.indices_.fromArray([0,1,3,1,2,3]),this.paletteTextures_=n.paletteTextures||[]}reset(e){super.reset(e),this.vertexShader_=e.vertexShader,this.fragmentShader_=e.fragmentShader,this.paletteTextures_=e.paletteTextures||[],this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_))}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_),this.helper.flushBufferData(this.indices_)}createTileRepresentation(e){return new fw(e)}beforeTilesRender(e,n){super.beforeTilesRender(e,n),this.helper.useProgram(this.program_,e)}renderTile(e,n,r,i,s,o,l,a,u,c,h){const d=this.helper.getGL();this.helper.bindBuffer(e.coords),this.helper.bindBuffer(this.indices_),this.helper.enableAttributes(Pw);let f=0;for(;f<e.textures.length;){const w=`${b.TILE_TEXTURE_ARRAY}[${f}]`;this.helper.bindTexture(e.textures[f],f,w),++f}for(let w=0;w<this.paletteTextures_.length;++w){const x=this.paletteTextures_[w],C=x.getTexture(d);this.helper.bindTexture(C,f,x.name),++f}const m=r.viewState,y=o[0]+2*c,v=o[1]+2*c,g=e.tile.tileCoord,_=g[1],E=g[2];this.helper.setUniformMatrixValue(b.TILE_TRANSFORM,D0(this.tempMat4,n)),this.helper.setUniformFloatValue(b.TRANSITION_ALPHA,h),this.helper.setUniformFloatValue(b.DEPTH,u);let T=i;c>0&&(T=a,Ct(T,i,T)),this.helper.setUniformFloatVec4(b.RENDER_EXTENT,T),this.helper.setUniformFloatValue(b.RESOLUTION,m.resolution),this.helper.setUniformFloatValue(b.ZOOM,m.zoom),this.helper.setUniformFloatValue(b.TEXTURE_PIXEL_WIDTH,y),this.helper.setUniformFloatValue(b.TEXTURE_PIXEL_HEIGHT,v),this.helper.setUniformFloatValue(b.TEXTURE_RESOLUTION,s),this.helper.setUniformFloatValue(b.TEXTURE_ORIGIN_X,l[0]+_*o[0]*s-c*s),this.helper.setUniformFloatValue(b.TEXTURE_ORIGIN_Y,l[1]-E*o[1]*s+c*s),this.helper.drawElements(0,this.indices_.getSize())}getData(e){if(!this.helper.getGL())return null;const r=this.frameState;if(!r)return null;const i=this.getLayer(),s=tt(r.pixelToCoordinateTransform,e.slice()),o=r.viewState,l=i.getExtent();if(l&&!Rs(Dn(l,o.projection),s))return null;const a=i.getSources(rc([s]),o.resolution);let u,c,h;for(u=a.length-1;u>=0;--u)if(c=a[u],c.getState()==="ready"){if(h=c.getTileGridForProjection(o.projection),c.getWrapX())break;const f=h.getExtent();if(!f||Rs(f,s))break}if(u<0)return null;const d=this.tileRepresentationCache;for(let f=h.getZForResolution(o.resolution);f>=h.getMinZoom();--f){const m=h.getTileCoordForCoordAndZ(s,f),y=fc(c,m);if(!d.containsKey(y))continue;const v=d.get(y),p=v.tile;if((p instanceof gi||p instanceof Nh)&&p.getState()===P.EMPTY)return null;if(!v.loaded)continue;const g=h.getOrigin(f),_=st(h.getTileSize(f)),E=h.getResolution(f),T=(s[0]-g[0])/E-m[1]*_[0],w=(g[1]-s[1])/E-m[2]*_[1];return v.getPixelData(T,w)}return null}disposeInternal(){const e=this.helper;e&&(e.getGL().deleteProgram(this.program_),delete this.program_,e.deleteBuffer(this.indices_)),super.disposeInternal(),delete this.indices_}}let Ci=0;const Er=0,Ce=1<<Ci++,D=1<<Ci++,Mt=1<<Ci++,$e=1<<Ci++,mi=1<<Ci++,et=Math.pow(2,Ci)-1,k0={[Ce]:"boolean",[D]:"number",[Mt]:"string",[$e]:"color",[mi]:"number[]"},Lw=Object.keys(k0).map(Number).sort(Ql);function Fe(t){const e=[];for(const n of Lw)Ow(t,n)&&e.push(k0[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Ow(t,e){return(t&e)===e}function Zt(t,e){return!!(t&e)}function Ws(t,e){return t===e}class ar{constructor(e,n){this.type=e,this.value=n}}class N0{constructor(e,n,...r){this.type=e,this.operator=n,this.args=r}}function Dw(){return{variables:new Set,properties:new Set,featureId:!1,style:{}}}function Mw(t){switch(t){case"string":return Mt;case"color":return $e;case"number":return D;case"boolean":return Ce;case"number[]":return mi;default:throw new Error(`Unrecognized type hint: ${t}`)}}function te(t,e,n){switch(typeof t){case"boolean":return new ar(Ce,t);case"number":return new ar(D,t);case"string":{let i=Mt;return Qv(t)&&(i|=$e),Ws(i&n,Er)||(i&=n),new ar(i,t)}}if(!Array.isArray(t))throw new Error("Expression must be an array or a primitive value");if(t.length===0)throw new Error("Empty expression");if(typeof t[0]=="string")return Xw(t,e,n);for(const i of t)if(typeof i!="number")throw new Error("Expected an array of numbers");let r=mi;return(t.length===3||t.length===4)&&(r|=$e),n&&(r&=n),new ar(r,t)}const L={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette"},kw={[L.Get]:F(([t,e])=>e!==void 0?Mw(e.value):et,B(1,2),Nw),[L.Var]:F(([t])=>t.type,B(1,1),Fw),[L.Id]:F(D|Mt,Gi,bw),[L.Concat]:F(Mt,B(2,1/0),Z(et)),[L.GeometryType]:F(Mt,Gi),[L.Resolution]:F(D,Gi),[L.Zoom]:F(D,Gi),[L.Time]:F(D,Gi),[L.Any]:F(Ce,B(2,1/0),Z(Ce)),[L.All]:F(Ce,B(2,1/0),Z(Ce)),[L.Not]:F(Ce,B(1,1),Z(Ce)),[L.Equal]:F(Ce,B(2,2),Z(et),tr),[L.NotEqual]:F(Ce,B(2,2),Z(et),tr),[L.GreaterThan]:F(Ce,B(2,2),Z(et),tr),[L.GreaterThanOrEqualTo]:F(Ce,B(2,2),Z(et),tr),[L.LessThan]:F(Ce,B(2,2),Z(et),tr),[L.LessThanOrEqualTo]:F(Ce,B(2,2),Z(et),tr),[L.Multiply]:F(t=>{let e=D|$e;for(let n=0;n<t.length;n++)e&=t[n].type;return e},B(2,1/0),Z(D|$e),tr),[L.Divide]:F(D,B(2,2),Z(D)),[L.Add]:F(D,B(2,1/0),Z(D)),[L.Subtract]:F(D,B(2,2),Z(D)),[L.Clamp]:F(D,B(3,3),Z(D)),[L.Mod]:F(D,B(2,2),Z(D)),[L.Pow]:F(D,B(2,2),Z(D)),[L.Abs]:F(D,B(1,1),Z(D)),[L.Floor]:F(D,B(1,1),Z(D)),[L.Ceil]:F(D,B(1,1),Z(D)),[L.Round]:F(D,B(1,1),Z(D)),[L.Sin]:F(D,B(1,1),Z(D)),[L.Cos]:F(D,B(1,1),Z(D)),[L.Atan]:F(D,B(1,2),Z(D)),[L.Sqrt]:F(D,B(1,1),Z(D)),[L.Match]:F(t=>{let e=et;for(let n=2;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},B(4,1/0),lg,Uw),[L.Between]:F(Ce,B(3,3),Z(D)),[L.Interpolate]:F(t=>{let e=$e|D;for(let n=3;n<t.length;n+=2)e&=t[n].type;return e},B(6,1/0),lg,Gw),[L.Case]:F(t=>{let e=et;for(let n=1;n<t.length;n+=2)e&=t[n].type;return e&=t[t.length-1].type,e},B(3,1/0),zw,jw),[L.In]:F(Ce,B(2,2),Bw),[L.Number]:F(D,B(1,1/0),Z(et)),[L.String]:F(Mt,B(1,1/0),Z(et)),[L.Array]:F(t=>t.length===3||t.length===4?mi|$e:mi,B(1,1/0),Z(D)),[L.Color]:F($e,B(3,4),Z(D)),[L.Band]:F(D,B(1,3),Z(D)),[L.Palette]:F($e,B(2,2),$w)};function Nw(t,e){const n=te(t[1],e);if(!(n instanceof ar))throw new Error("Expected a literal argument for get operation");if(typeof n.value!="string")throw new Error("Expected a string argument for get operation");if(e.properties.add(n.value),t.length===3){const r=te(t[2],e);return[n,r]}return[n]}function Fw(t,e,n,r){const i=t[1];if(typeof i!="string")throw new Error("Expected a string argument for var operation");if(e.variables.add(i),!("variables"in e.style)||e.style.variables[i]===void 0)return[new ar(et,i)];const s=e.style.variables[i],o=te(s,e);if(o.value=i,r&&!Zt(r,o.type))throw new Error(`The variable ${i} has type ${Fe(o.type)} but the following type was expected: ${Fe(r)}`);return[o]}function bw(t,e){e.featureId=!0}function Gi(t,e){const n=t[0];if(t.length!==1)throw new Error(`Expected no arguments for ${n} operation`);return[]}function B(t,e){return function(n,r){const i=n[0],s=n.length-1;if(t===e){if(s!==t){const o=t===1?"":"s";throw new Error(`Expected ${t} argument${o} for ${i}, got ${s}`)}}else if(s<t||s>e){const o=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`Expected ${o} arguments for ${i}, got ${s}`)}}}function Z(t){return function(e,n){const r=e[0],i=e.length-1,s=new Array(i);for(let o=0;o<i;++o){const l=te(e[o+1],n);if(!Zt(t,l.type)){const a=Fe(t),u=Fe(l.type);throw new Error(`Unexpected type for argument ${o} of ${r} operation, got ${a} but expected ${u}`)}l.type&=t,s[o]=l}return s}}function tr(t,e,n){const r=t[0],i=t.length-1;let s=et;for(let l=0;l<n.length;++l)s&=n[l].type;if(s===Er)throw new Error(`No common type could be found for arguments of ${r} operation`);const o=new Array(i);for(let l=0;l<i;++l)o[l]=te(t[l+1],e,s);return o}function zw(t,e){const n=t[0],r=t.length-1;if(r%2===0)throw new Error(`An odd amount of arguments was expected for operation ${n}, got ${JSON.stringify(r)} instead`)}function lg(t,e){const n=t[0],r=t.length-1;if(r%2===1)throw new Error(`An even amount of arguments was expected for operation ${n}, got ${JSON.stringify(r)} instead`)}function Uw(t,e,n,r){const i=t.length-1;let o=te(t[1],e).type;const l=te(t[t.length-1],e);let a=r!==void 0?r&l.type:l.type;const u=new Array(i-2);for(let h=0;h<i-2;h+=2){const d=te(t[h+2],e),f=te(t[h+3],e);o&=d.type,a&=f.type,u[h]=d,u[h+1]=f}const c=Mt|D|Ce;if(!Zt(c,o))throw new Error(`Expected an input of type ${Fe(c)} for the interpolate operation, got ${Fe(o)} instead`);if(Ws(a,Er))throw new Error("Could not find a common output type for the following match operation: "+JSON.stringify(t));for(let h=0;h<i-2;h+=2){const d=te(t[h+2],e,o),f=te(t[h+3],e,a);u[h]=d,u[h+1]=f}return[te(t[1],e,o),...u,te(t[t.length-1],e,a)]}function Gw(t,e,n,r){const i=t[1];let s;switch(i[0]){case"linear":s=1;break;case"exponential":if(s=i[1],typeof s!="number")throw new Error(`Expected a number base for exponential interpolation, got ${JSON.stringify(s)} instead`);break;default:s=null}if(!s)throw new Error(`Invalid interpolation type: ${JSON.stringify(i)}`);s=te(s,e);let o=te(t[2],e);if(!Zt(D,o.type))throw new Error(`Expected an input of type number for the interpolate operation, got ${Fe(o.type)} instead`);o=te(t[2],e,D);const l=new Array(t.length-3);for(let a=0;a<l.length;a+=2){let u=te(t[a+3],e);if(!Zt(D,u.type))throw new Error(`Expected all stop input values in the interpolate operation to be of type number, got ${Fe(u.type)} at position ${a+2} instead`);let c=te(t[a+4],e);if(!Zt(D|$e,c.type))throw new Error(`Expected all stop output values in the interpolate operation to be a number or color, got ${Fe(c.type)} at position ${a+3} instead`);u=te(t[a+3],e,D),c=te(t[a+4],e,D|$e),l[a]=u,l[a+1]=c}return[s,o,...l]}function jw(t,e,n,r){const i=te(t[t.length-1],e);let s=r!==void 0?r&i.type:i.type;const o=new Array(t.length-1);for(let l=0;l<o.length-1;l+=2){const a=te(t[l+1],e),u=te(t[l+2],e);if(!Zt(Ce,a.type))throw new Error(`Expected all conditions in the case operation to be of type boolean, got ${Fe(a.type)} at position ${l} instead`);s&=u.type,o[l]=a,o[l+1]=u}if(Ws(s,Er))throw new Error("Could not find a common output type for the following case operation: "+JSON.stringify(t));for(let l=0;l<o.length-1;l+=2)o[l+1]=te(t[l+2],e,s);return o[o.length-1]=te(t[t.length-1],e,s),o}function Bw(t,e){let n=t[2];if(!Array.isArray(n))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');if(typeof n[0]=="string"){if(n[0]!=="literal")throw new Error('For the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions.');if(!Array.isArray(n[1]))throw new Error('The "in" operator was provided a literal value which was not an array as second argument.');n=n[1]}let r=Mt|D;const i=new Array(n.length);for(let o=0;o<i.length;o++){const l=te(n[o],e);r&=l.type,i[o]=l}if(Ws(r,Er))throw new Error("Could not find a common type for the following in operation: "+JSON.stringify(t));return[te(t[1],e,r),...i]}function $w(t,e){const n=te(t[1],e,D);if(n.type!==D)throw new Error(`The first argument of palette must be an number, got ${Fe(n.type)} instead`);const r=t[2];if(!Array.isArray(r))throw new Error("The second argument of palette must be an array");const i=new Array(r.length);for(let s=0;s<i.length;s++){const o=te(r[s],e,$e);if(!(o instanceof ar))throw new Error(`The palette color at index ${s} must be a literal value`);if(!Zt(o.type,$e))throw new Error(`The palette color at index ${s} should be of type color, got ${Fe(o.type)} instead`);i[s]=o}return[n,...i]}function F(t,...e){return function(n,r,i){const s=n[0];let o=[];for(let a=0;a<e.length;a++)o=e[a](n,r,o,i)||o;let l=typeof t=="function"?t(o):t;if(i!==void 0){if(!Zt(l,i))throw new Error(`The following expression was expected to return ${Fe(i)}, but returns ${Fe(l)} instead: ${JSON.stringify(n)}`);l&=i}if(l===Er)throw new Error(`No matching type was found for the following expression: ${JSON.stringify(n)}`);return new N0(l,s,...o)}}function Xw(t,e,n){const r=t[0],i=kw[r];if(!i)throw new Error(`Unknown operator: ${r}`);return i(t,e,n)}class Vw{constructor(e,n){this.name=e,this.data=n,this.texture_=null}getTexture(e){if(!this.texture_){const n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,this.data.length/4,1,0,e.RGBA,e.UNSIGNED_BYTE,this.data),this.texture_=n}return this.texture_}}function Kw(t,e){return`operator_${t}_${Object.keys(e.functions).length}`}function ca(t){const e=t.toString();return e.includes(".")?e:e+".0"}function F0(t){if(t.length<2||t.length>4)throw new Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${t.length}(${t.map(ca).join(", ")})`}function Hw(t){const e=wl(t),n=e.length>3?e[3]:1;return F0([e[0]/255*n,e[1]/255*n,e[2]/255*n,n])}const tu={};let Ww=0;function b0(t){return t in tu||(tu[t]=Ww++),tu[t]}function Yw(t){return ca(b0(t))}function z0(t){return"u_var_"+t}function Zw(){return{inFragmentShader:!1,variables:{},properties:{},functions:{},bandCount:0,style:{}}}const nu="getBandValue",U0="u_paletteTextures";function qw(t,e,n,r){const i=te(t,n,e);if(Ws(i.type,Er))throw new Error("No matching type was found");if(!Zt(e,i.type)){const s=Fe(e),o=Fe(i.type);throw new Error(`Expected expression to be of type ${s}, got ${o}`)}return Gh(i,e,r)}function W(t){return(e,n,r)=>{const i=n.args.length,s=new Array(i);for(let o=0;o<i;++o)s[o]=Gh(n.args[o],r,e);return t(s,e)}}const Qw={[L.Get]:(t,e)=>{const r=e.args[0].value;return r in t.properties||(t.properties[r]={name:r,type:e.type}),(t.inFragmentShader?"v_prop_":"a_prop_")+r},[L.GeometryType]:(t,e,n)=>{const r="geometryType",i=l=>{const a=l.getType();switch(a){case"Point":case"LineString":case"Polygon":return a;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return a.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return i(l.getGeometries()[0])}};return r in t.properties||(t.properties[r]={name:r,type:Mt,evaluator:l=>i(l.getGeometry())}),(t.inFragmentShader?"v_prop_":"a_prop_")+r},[L.Var]:(t,e)=>{const r=e.args[0].value;return r in t.variables||(t.variables[r]={name:r,type:e.type}),z0(r)},[L.Resolution]:()=>"u_resolution",[L.Zoom]:()=>"u_zoom",[L.Time]:()=>"u_time",[L.Any]:W(t=>`(${t.join(" || ")})`),[L.All]:W(t=>`(${t.join(" && ")})`),[L.Not]:W(([t])=>`(!${t})`),[L.Equal]:W(([t,e])=>`(${t} == ${e})`),[L.NotEqual]:W(([t,e])=>`(${t} != ${e})`),[L.GreaterThan]:W(([t,e])=>`(${t} > ${e})`),[L.GreaterThanOrEqualTo]:W(([t,e])=>`(${t} >= ${e})`),[L.LessThan]:W(([t,e])=>`(${t} < ${e})`),[L.LessThanOrEqualTo]:W(([t,e])=>`(${t} <= ${e})`),[L.Multiply]:W(t=>`(${t.join(" * ")})`),[L.Divide]:W(([t,e])=>`(${t} / ${e})`),[L.Add]:W(t=>`(${t.join(" + ")})`),[L.Subtract]:W(([t,e])=>`(${t} - ${e})`),[L.Clamp]:W(([t,e,n])=>`clamp(${t}, ${e}, ${n})`),[L.Mod]:W(([t,e])=>`mod(${t}, ${e})`),[L.Pow]:W(([t,e])=>`pow(${t}, ${e})`),[L.Abs]:W(([t])=>`abs(${t})`),[L.Floor]:W(([t])=>`floor(${t})`),[L.Ceil]:W(([t])=>`ceil(${t})`),[L.Round]:W(([t])=>`floor(${t} + 0.5)`),[L.Sin]:W(([t])=>`sin(${t})`),[L.Cos]:W(([t])=>`cos(${t})`),[L.Atan]:W(([t,e])=>e!==void 0?`atan(${t}, ${e})`:`atan(${t})`),[L.Sqrt]:W(([t])=>`sqrt(${t})`),[L.Match]:W(t=>{const e=t[0],n=t[t.length-1];let r=null;for(let i=t.length-3;i>=1;i-=2){const s=t[i],o=t[i+1];r=`(${e} == ${s} ? ${o} : ${r||n})`}return r}),[L.Between]:W(([t,e,n])=>`(${t} >= ${e} && ${t} <= ${n})`),[L.Interpolate]:W(([t,e,...n])=>{let r="";for(let i=0;i<n.length-2;i+=2){const s=n[i],o=r||n[i+1],l=n[i+2],a=n[i+3];let u;t===ca(1)?u=`(${e} - ${s}) / (${l} - ${s})`:u=`(pow(${t}, (${e} - ${s})) - 1.0) / (pow(${t}, (${l} - ${s})) - 1.0)`,r=`mix(${o}, ${a}, clamp(${u}, 0.0, 1.0))`}return r}),[L.Case]:W(t=>{const e=t[t.length-1];let n=null;for(let r=t.length-3;r>=0;r-=2){const i=t[r],s=t[r+1];n=`(${i} ? ${s} : ${n||e})`}return n}),[L.In]:W(([t,...e],n)=>{const r=Kw("in",n),i=[];for(let s=0;s<e.length;s+=1)i.push(`  if (inputValue == ${e[s]}) { return true; }`);return n.functions[r]=`bool ${r}(float inputValue) {
${i.join(`
`)}
  return false;
}`,`${r}(${t})`}),[L.Array]:W(t=>`vec${t.length}(${t.join(", ")})`),[L.Color]:W(t=>{const e=t.slice(0,3).map(r=>`${r} / 255.0`);return t.length===3?`vec4(${e.join(", ")}, 1.0)`:`(${t[3]} * vec4(${e.join(", ")}, 1.0))`}),[L.Band]:W(([t,e,n],r)=>{if(!(nu in r.functions)){let i="";const s=r.bandCount||1;for(let o=0;o<s;o++){const l=Math.floor(o/4);let a=o%4;o===s-1&&a===1&&(a=3);const u=`${b.TILE_TEXTURE_ARRAY}[${l}]`;i+=`  if (band == ${o+1}.0) {
    return texture2D(${u}, v_textureCoord + vec2(dx, dy))[${a}];
  }
`}r.functions[nu]=`float getBandValue(float band, float xOffset, float yOffset) {
  float dx = xOffset / ${b.TEXTURE_PIXEL_WIDTH};
  float dy = yOffset / ${b.TEXTURE_PIXEL_HEIGHT};
${i}
}`}return`${nu}(${t}, ${e??"0.0"}, ${n??"0.0"})`}),[L.Palette]:(t,e)=>{const[n,...r]=e.args,i=r.length,s=new Uint8Array(i*4);for(let u=0;u<r.length;u++){const c=r[u].value,h=wl(c),d=u*4;s[d]=h[0],s[d+1]=h[1],s[d+2]=h[2],s[d+3]=h[3]*255}t.paletteTextures||(t.paletteTextures=[]);const o=`${U0}[${t.paletteTextures.length}]`,l=new Vw(o,s);t.paletteTextures.push(l);const a=Gh(n,D,t);return`texture2D(${o}, vec2((${a} + 0.5) / ${i}.0, 0.5))`}};function Gh(t,e,n){if(t instanceof N0){const r=Qw[t.operator];if(r===void 0)throw new Error(`No compiler defined for this operator: ${JSON.stringify(t.operator)}`);return r(n,t,e)}if((t.type&D)>0)return ca(t.value);if((t.type&Ce)>0)return t.value.toString();if((t.type&Mt)>0)return Yw(t.value.toString());if((t.type&$e)>0)return Hw(t.value);if((t.type&mi)>0)return F0(t.value);throw new Error(`Unexpected expression ${t.value} (expected type ${Fe(e)})`)}function Ar(t,e,n){const r=Dw();return r.style=t.style,qw(e,n,r,t)}function ag(t,e){const n=`
    attribute vec2 ${Xo.TEXTURE_COORD};
    uniform mat4 ${b.TILE_TRANSFORM};
    uniform float ${b.TEXTURE_PIXEL_WIDTH};
    uniform float ${b.TEXTURE_PIXEL_HEIGHT};
    uniform float ${b.TEXTURE_RESOLUTION};
    uniform float ${b.TEXTURE_ORIGIN_X};
    uniform float ${b.TEXTURE_ORIGIN_Y};
    uniform float ${b.DEPTH};

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;

    void main() {
      v_textureCoord = ${Xo.TEXTURE_COORD};
      v_mapCoord = vec2(
        ${b.TEXTURE_ORIGIN_X} + ${b.TEXTURE_RESOLUTION} * ${b.TEXTURE_PIXEL_WIDTH} * v_textureCoord[0],
        ${b.TEXTURE_ORIGIN_Y} - ${b.TEXTURE_RESOLUTION} * ${b.TEXTURE_PIXEL_HEIGHT} * v_textureCoord[1]
      );
      gl_Position = ${b.TILE_TRANSFORM} * vec4(${Xo.TEXTURE_COORD}, ${b.DEPTH}, 1.0);
    }
  `,r={...Zw(),inFragmentShader:!0,bandCount:e,style:t},i=[];if(t.color!==void 0){const h=Ar(r,t.color,$e);i.push(`color = ${h};`)}if(t.contrast!==void 0){const h=Ar(r,t.contrast,D);i.push(`color.rgb = clamp((${h} + 1.0) * color.rgb - (${h} / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}if(t.exposure!==void 0){const h=Ar(r,t.exposure,D);i.push(`color.rgb = clamp((${h} + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}if(t.saturation!==void 0){const h=Ar(r,t.saturation,D);i.push(`
      float saturation = ${h} + 1.0;
      float sr = (1.0 - saturation) * 0.2126;
      float sg = (1.0 - saturation) * 0.7152;
      float sb = (1.0 - saturation) * 0.0722;
      mat3 saturationMatrix = mat3(
        sr + saturation, sr, sr,
        sg, sg + saturation, sg,
        sb, sb, sb + saturation
      );
      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));
    `)}if(t.gamma!==void 0){const h=Ar(r,t.gamma,D);i.push(`color.rgb = pow(color.rgb, vec3(1.0 / ${h}));`)}if(t.brightness!==void 0){const h=Ar(r,t.brightness,D);i.push(`color.rgb = clamp(color.rgb + ${h}, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`)}const s={},o=Object.keys(r.variables).length;if(o>1&&!t.variables)throw new Error(`Missing variables in style (expected ${r.variables})`);for(let h=0;h<o;++h){const d=r.variables[Object.keys(r.variables)[h]];if(!(d.name in t.variables))throw new Error(`Missing '${d.name}' in style variables`);const f=z0(d.name);s[f]=function(){let m=t.variables[d.name];return typeof m=="string"&&(m=b0(m)),m!==void 0?m:-9999999}}const l=Object.keys(s).map(function(h){return`uniform float ${h};`}),a=Math.ceil(e/4);l.push(`uniform sampler2D ${b.TILE_TEXTURE_ARRAY}[${a}];`),r.paletteTextures&&l.push(`uniform sampler2D ${U0}[${r.paletteTextures.length}];`);const u=Object.keys(r.functions).map(function(h){return r.functions[h]}),c=`
    #ifdef GL_FRAGMENT_PRECISION_HIGH
    precision highp float;
    #else
    precision mediump float;
    #endif

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;
    uniform vec4 ${b.RENDER_EXTENT};
    uniform float ${b.TRANSITION_ALPHA};
    uniform float ${b.TEXTURE_PIXEL_WIDTH};
    uniform float ${b.TEXTURE_PIXEL_HEIGHT};
    uniform float ${b.RESOLUTION};
    uniform float ${b.ZOOM};

    ${l.join(`
`)}

    ${u.join(`
`)}

    void main() {
      if (
        v_mapCoord[0] < ${b.RENDER_EXTENT}[0] ||
        v_mapCoord[1] < ${b.RENDER_EXTENT}[1] ||
        v_mapCoord[0] > ${b.RENDER_EXTENT}[2] ||
        v_mapCoord[1] > ${b.RENDER_EXTENT}[3]
      ) {
        discard;
      }

      vec4 color = texture2D(${b.TILE_TEXTURE_ARRAY}[0],  v_textureCoord);

      ${i.join(`
`)}

      gl_FragColor = color;
      gl_FragColor.rgb *= gl_FragColor.a;
      gl_FragColor *= ${b.TRANSITION_ALPHA};
    }`;return{vertexShader:n,fragmentShader:c,uniforms:s,paletteTextures:r.paletteTextures}}class G0 extends T0{constructor(e){e=e?Object.assign({},e):{};const n=e.style||{};delete e.style;const r=e.cacheSize;delete e.cacheSize,super(e),this.sources_=e.sources,this.renderedSource_=null,this.renderedResolution_=NaN,this.style_=n,this.cacheSize_=r,this.styleVariables_=this.style_.variables||{},this.addChangeListener(q.SOURCE,this.handleSourceUpdate_)}getSources(e,n){const r=this.getSource();return this.sources_?typeof this.sources_=="function"?this.sources_(e,n):this.sources_:r?[r]:[]}getRenderSource(){return this.renderedSource_||this.getSource()}getSourceState(){const e=this.getRenderSource();return e?e.getState():"undefined"}handleSourceUpdate_(){this.hasRenderer()&&this.getRenderer().clearCache(),this.getSource()&&this.setStyle(this.style_)}getSourceBandCount_(){const e=Number.MAX_SAFE_INTEGER,n=this.getSources([-e,-e,e,e],e);return n&&n.length&&"bandCount"in n[0]?n[0].bandCount:4}createRenderer(){const e=ag(this.style_,this.getSourceBandCount_());return new Aw(this,{vertexShader:e.vertexShader,fragmentShader:e.fragmentShader,uniforms:e.uniforms,cacheSize:this.cacheSize_,paletteTextures:e.paletteTextures})}renderSources(e,n){const r=this.getRenderer();let i;for(let s=0,o=n.length;s<o;++s)this.renderedSource_=n[s],r.prepareFrame(e)&&(i=r.renderFrame(e));return i}render(e,n){this.rendered=!0;const r=e.viewState,i=this.getSources(e.extent,r.resolution);let s=!0;for(let l=0,a=i.length;l<a;++l){const u=i[l],c=u.getState();if(c=="loading"){const h=()=>{u.getState()=="ready"&&(u.removeEventListener("change",h),this.changed())};u.addEventListener("change",h)}s=s&&c=="ready"}const o=this.renderSources(e,i);if(this.getRenderer().renderComplete&&s)return this.renderedResolution_=r.resolution,o;if(this.renderedResolution_>.5*r.resolution){const l=this.getSources(e.extent,this.renderedResolution_).filter(a=>!i.includes(a));if(l.length>0)return this.renderSources(e,l)}return o}setStyle(e){this.styleVariables_=e.variables||{},this.style_=e;const n=ag(this.style_,this.getSourceBandCount_());this.getRenderer().reset({vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,uniforms:n.uniforms,paletteTextures:n.paletteTextures}),this.changed()}updateStyleVariables(e){Object.assign(this.styleVariables_,e),this.changed()}}G0.prototype.dispose;let kr=null;function Jw(){kr=fn(1,1,void 0,{willReadFrequently:!0})}class ex extends L0{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Yt(),this.pixelTransform=Yt(),this.inversePixelTransform=Yt(),this.context=null,this.containerReused=!1,this.pixelContext_=null,this.frameState=null}getImageData(e,n,r){kr||Jw(),kr.clearRect(0,0,1,1);let i;try{kr.drawImage(e,n,r,1,1,0,0,1,1),i=kr.getImageData(0,0,1,1).data}catch{return kr=null,null}return i}getBackground(e){let r=this.getLayer().getBackground();return typeof r=="function"&&(r=r(e.viewState.resolution)),r||void 0}useContainer(e,n,r){const i=this.getLayer().getClassName();let s,o;if(e&&e.className===i&&(!r||e&&e.style.backgroundColor&&Jl(wl(e.style.backgroundColor),wl(r)))){const l=e.firstElementChild;l instanceof HTMLCanvasElement&&(o=l.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=i;let l=s.style;l.position="absolute",l.width="100%",l.height="100%",o=fn();const a=o.canvas;s.appendChild(a),l=a.style,l.position="absolute",l.left="0",l.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&r&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=r)}clipUnrotated(e,n,r){const i=mn(r),s=oa(r),o=sa(r),l=ia(r);tt(n.coordinateToPixelTransform,i),tt(n.coordinateToPixelTransform,s),tt(n.coordinateToPixelTransform,o),tt(n.coordinateToPixelTransform,l);const a=this.inversePixelTransform;tt(a,i),tt(a,s),tt(a,o),tt(a,l),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(l[0]),Math.round(l[1])),e.clip()}dispatchRenderEvent_(e,n,r){const i=this.getLayer();if(i.hasListener(e)){const s=new ss(e,this.inversePixelTransform,r,n);i.dispatchEvent(s)}}preRender(e,n){this.frameState=n,this.dispatchRenderEvent_(rt.PRERENDER,e,n)}postRender(e,n){this.dispatchRenderEvent_(rt.POSTRENDER,e,n)}getRenderTransform(e,n,r,i,s,o,l){const a=s/2,u=o/2,c=i/n,h=-c,d=-e[0]+l,f=-e[1];return mr(this.tempTransform,a,u,c,h,-r,d,f)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class tx extends ex{constructor(e){super(e),this.extentChanged=!0,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=vr(),this.tmpTileRange_=new ua(0,0,0,0)}isDrawableTile(e){const n=this.getLayer(),r=e.getState(),i=n.getUseInterimTilesOnError();return r==P.LOADED||r==P.EMPTY||r==P.ERROR&&!i}getTile(e,n,r,i){const s=i.pixelRatio,o=i.viewState.projection,l=this.getLayer();let u=l.getSource().getTile(e,n,r,s,o);return u.getState()==P.ERROR&&l.getUseInterimTilesOnError()&&l.getPreload()>0&&(this.newTiles_=!0),this.isDrawableTile(u)||(u=u.getInterimTile()),u}getData(e){const n=this.frameState;if(!n)return null;const r=this.getLayer(),i=tt(n.pixelToCoordinateTransform,e.slice()),s=r.getExtent();if(s&&!Rs(s,i))return null;const o=n.pixelRatio,l=n.viewState.projection,a=n.viewState,u=r.getRenderSource(),c=u.getTileGridForProjection(a.projection),h=u.getTilePixelRatio(n.pixelRatio);for(let d=c.getZForResolution(a.resolution);d>=c.getMinZoom();--d){const f=c.getTileCoordForCoordAndZ(i,d),m=u.getTile(d,f[1],f[2],o,l);if(!(m instanceof aa||m instanceof gi)||m instanceof gi&&m.getState()===P.EMPTY)return null;if(m.getState()!==P.LOADED)continue;const y=c.getOrigin(d),v=st(c.getTileSize(d)),p=c.getResolution(d),g=Math.floor(h*((i[0]-y[0])/p-f[1]*v[0])),_=Math.floor(h*((y[1]-i[1])/p-f[2]*v[1])),E=Math.round(h*u.getGutterForProjection(a.projection));return this.getImageData(m.getImage(),g+E,_+E)}return null}loadedTileCallback(e,n,r){return this.isDrawableTile(r)?super.loadedTileCallback(e,n,r):!1}prepareFrame(e){return!!this.getLayer().getSource()}renderFrame(e,n){const r=e.layerStatesArray[e.layerIndex],i=e.viewState,s=i.projection,o=i.resolution,l=i.center,a=i.rotation,u=e.pixelRatio,c=this.getLayer(),h=c.getSource(),d=h.getRevision(),f=h.getTileGridForProjection(s),m=f.getZForResolution(o,h.zDirection),y=f.getResolution(m);let v=e.extent;const p=e.viewState.resolution,g=h.getTilePixelRatio(u),_=Math.round(Se(v)/p*u),E=Math.round(Ft(v)/p*u),T=r.extent&&Dn(r.extent);T&&(v=Ct(v,Dn(r.extent)));const w=y*_/2/g,x=y*E/2/g,C=[l[0]-w,l[1]-x,l[0]+w,l[1]+x],R=f.getTileRangeForExtentAndZ(v,m),I={};I[m]={};const N=this.createLoadedTileFinder(h,s,I),X=this.tmpExtent,ne=this.tmpTileRange_;this.newTiles_=!1;const ie=a?oc(i.center,p,a,e.size):void 0;for(let de=R.minX;de<=R.maxX;++de)for(let j=R.minY;j<=R.maxY;++j){if(a&&!f.tileCoordIntersectsViewport([m,de,j],ie))continue;const H=this.getTile(m,de,j,e);if(this.isDrawableTile(H)){const Qe=le(this);if(H.getState()==P.LOADED){I[m][H.tileCoord.toString()]=H;let pt=H.inTransition(Qe);pt&&r.opacity!==1&&(H.endTransition(Qe),pt=!1),!this.newTiles_&&(pt||!this.renderedTiles.includes(H))&&(this.newTiles_=!0)}if(H.getAlpha(Qe,e.time)===1)continue}const J=f.getTileCoordChildTileRange(H.tileCoord,ne,X);let se=!1;J&&(se=N(m+1,J)),se||f.forEachTileCoordParentTileRange(H.tileCoord,N,ne,X)}const Q=y/o*u/g;mr(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/u,1/u,a,-_/2,-E/2);const xe=Mv(this.pixelTransform);this.useContainer(n,xe,this.getBackground(e));const V=this.context,A=V.canvas;Vm(this.inversePixelTransform,this.pixelTransform),mr(this.tempTransform,_/2,E/2,Q,Q,0,-_/2,-E/2),A.width!=_||A.height!=E?(A.width=_,A.height=E):this.containerReused||V.clearRect(0,0,_,E),T&&this.clipUnrotated(V,e,T),h.getInterpolate()||(V.imageSmoothingEnabled=!1),this.preRender(V,e),this.renderedTiles.length=0;let M=Object.keys(I).map(Number);M.sort(Ql);let k,Y,G;r.opacity===1&&(!this.containerReused||h.getOpaque(e.viewState.projection))?M=M.reverse():(k=[],Y=[]);for(let de=M.length-1;de>=0;--de){const j=M[de],H=h.getTilePixelSize(j,u,s),se=f.getResolution(j)/y,Qe=H[0]*se*Q,pt=H[1]*se*Q,zt=f.getTileCoordForCoordAndZ(mn(C),j),Zs=f.getTileCoordExtent(zt),Zn=tt(this.tempTransform,[g*(Zs[0]-C[0])/y,g*(C[3]-Zs[3])/y]),ga=g*h.getGutterForProjection(s),Tr=I[j];for(const pa in Tr){const qt=Tr[pa],qs=qt.tileCoord,Qs=zt[1]-qs[1],qn=Math.round(Zn[0]-(Qs-1)*Qe),Qn=zt[2]-qs[2],wy=Math.round(Zn[1]-(Qn-1)*pt),Qt=Math.round(Zn[0]-Qs*Qe),Jt=Math.round(Zn[1]-Qn*pt),Pi=qn-Qt,Ai=wy-Jt,cd=m===j,hd=cd&&qt.getAlpha(le(this),e.time)!==1;let ma=!1;if(!hd)if(k){G=[Qt,Jt,Qt+Pi,Jt,Qt+Pi,Jt+Ai,Qt,Jt+Ai];for(let Js=0,xy=k.length;Js<xy;++Js)if(m!==j&&j<Y[Js]){const mt=k[Js];Bs([Qt,Jt,Qt+Pi,Jt+Ai],[mt[0],mt[3],mt[4],mt[7]])&&(ma||(V.save(),ma=!0),V.beginPath(),V.moveTo(G[0],G[1]),V.lineTo(G[2],G[3]),V.lineTo(G[4],G[5]),V.lineTo(G[6],G[7]),V.moveTo(mt[6],mt[7]),V.lineTo(mt[4],mt[5]),V.lineTo(mt[2],mt[3]),V.lineTo(mt[0],mt[1]),V.clip())}k.push(G),Y.push(j)}else V.clearRect(Qt,Jt,Pi,Ai);this.drawTileImage(qt,e,Qt,Jt,Pi,Ai,ga,cd),k&&!hd?(ma&&V.restore(),this.renderedTiles.unshift(qt)):this.renderedTiles.push(qt),this.updateUsedTiles(e.usedTiles,h,qt)}}return this.renderedRevision=d,this.renderedResolution=y,this.extentChanged=!this.renderedExtent_||!ic(this.renderedExtent_,C),this.renderedExtent_=C,this.renderedPixelRatio=u,this.renderedProjection=s,this.manageTilePyramid(e,h,f,u,s,v,m,c.getPreload()),this.scheduleExpireCache(e,h),this.postRender(V,e),r.extent&&V.restore(),V.imageSmoothingEnabled=!0,xe!==A.style.transform&&(A.style.transform=xe),this.container}drawTileImage(e,n,r,i,s,o,l,a){const u=this.getTileImage(e);if(!u)return;const c=le(this),h=n.layerStatesArray[n.layerIndex],d=h.opacity*(a?e.getAlpha(c,n.time):1),f=d!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=d),this.context.drawImage(u,l,l,u.width-2*l,u.height-2*l,r,i,s,o),f&&this.context.restore(),d!==h.opacity?n.animate=!0:a&&e.endTransition(c)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}scheduleExpireCache(e,n){if(n.canExpireCache()){const r=(function(i,s,o){const l=le(i);l in o.usedTiles&&i.expireCache(o.viewState.projection,o.usedTiles[l])}).bind(null,n);e.postRenderFunctions.push(r)}}updateUsedTiles(e,n,r){const i=le(n);i in e||(e[i]={}),e[i][r.getKey()]=!0}manageTilePyramid(e,n,r,i,s,o,l,a,u){const c=le(n);c in e.wantedTiles||(e.wantedTiles[c]={});const h=e.wantedTiles[c],d=e.tileQueue,f=r.getMinZoom(),m=e.viewState.rotation,y=m?oc(e.viewState.center,e.viewState.resolution,m,e.size):void 0;let v=0,p,g,_,E,T,w;for(w=f;w<=l;++w)for(g=r.getTileRangeForExtentAndZ(o,w,g),_=r.getResolution(w),E=g.minX;E<=g.maxX;++E)for(T=g.minY;T<=g.maxY;++T)m&&!r.tileCoordIntersectsViewport([w,E,T],y)||(l-w<=a?(++v,p=n.getTile(w,E,T,i,s),p.getState()==P.IDLE&&(h[p.getKey()]=!0,d.isKeyQueued(p.getKey())||d.enqueue([p,c,r.getTileCoordCenter(p.tileCoord),_])),u!==void 0&&u(p)):n.useTile(w,E,T,s));n.updateCacheSize(v,s)}}class j0 extends T0{constructor(e){super(e)}createRenderer(){return new tx(this)}}class jh extends A0{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),r=Tw(e)[0];this.forEach(i=>{i.tileCoord[0]!==r&&(this.remove(In(i.tileCoord)),i.release())})}}const ri={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class nx extends pn{constructor(e){super(),this.projection=We(e.projection),this.attributions_=ug(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible!==void 0?e.attributionsCollapsible:!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(r,i){n.viewResolver=r,n.viewRejector=i})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=ug(e),this.changed()}setState(e){this.state_=e,this.changed()}}function ug(t){return t?Array.isArray(t)?function(e){return t}:typeof t=="function"?t:function(e){return[t]}:null}const Lr=[0,0,0],vn=5;class ha{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,ue(_v(this.resolutions_,(i,s)=>s-i,!0),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let i=0,s=this.resolutions_.length-1;i<s;++i)if(!n)n=this.resolutions_[i]/this.resolutions_[i+1];else if(this.resolutions_[i]/this.resolutions_[i+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,ue(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const r=e.extent;r!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=mn(r)),ue(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,ue(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:_h,ue(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=r!==void 0?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((i,s)=>{const o=new ua(Math.min(0,i[0]),Math.max(i[0]-1,-1),Math.min(0,i[1]),Math.max(i[1]-1,-1));if(r){const l=this.getTileRangeForExtentAndZ(r,s);o.minX=Math.max(l.minX,o.minX),o.maxX=Math.min(l.maxX,o.maxX),o.minY=Math.max(l.minY,o.minY),o.maxY=Math.min(l.maxY,o.maxY)}return o}):r&&this.calculateTileRanges_(r)}forEachTileCoord(e,n,r){const i=this.getTileRangeForExtentAndZ(e,n);for(let s=i.minX,o=i.maxX;s<=o;++s)for(let l=i.minY,a=i.maxY;l<=a;++l)r([n,s,l])}forEachTileCoordParentTileRange(e,n,r,i){let s,o,l,a=null,u=e[0]-1;for(this.zoomFactor_===2?(o=e[1],l=e[2]):a=this.getTileCoordExtent(e,i);u>=this.minZoom;){if(o!==void 0&&l!==void 0?(o=Math.floor(o/2),l=Math.floor(l/2),s=Pr(o,o,l,l,r)):s=this.getTileRangeForExtentAndZ(a,u,r),n(u,s))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,r){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,o=e[2]*2;return Pr(s,s+1,o,o+1,n)}const i=this.getTileCoordExtent(e,r||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,r){if(n>this.maxZoom||n<this.minZoom)return null;const i=e[0],s=e[1],o=e[2];if(n===i)return Pr(s,o,s,o,r);if(this.zoomFactor_){const a=Math.pow(this.zoomFactor_,n-i),u=Math.floor(s*a),c=Math.floor(o*a);if(n<i)return Pr(u,u,c,c,r);const h=Math.floor(a*(s+1))-1,d=Math.floor(a*(o+1))-1;return Pr(u,h,c,d,r)}const l=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(l,n,r)}getTileRangeForExtentAndZ(e,n,r){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,Lr);const i=Lr[1],s=Lr[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,Lr);const o=Lr[1],l=Lr[2];return Pr(i,o,s,l,r)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),r=this.getResolution(e[0]),i=st(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*i[0]*r,n[1]-(e[2]+.5)*i[1]*r]}getTileCoordExtent(e,n){const r=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=st(this.getTileSize(e[0]),this.tmpSize_),o=r[0]+e[1]*s[0]*i,l=r[1]-(e[2]+1)*s[1]*i,a=o+s[0]*i,u=l+s[1]*i;return js(o,l,a,u,n)}getTileCoordForCoordAndResolution(e,n,r){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,r)}getTileCoordForXYAndResolution_(e,n,r,i,s){const o=this.getZForResolution(r),l=r/this.getResolution(o),a=this.getOrigin(o),u=st(this.getTileSize(o),this.tmpSize_);let c=l*(e-a[0])/r/u[0],h=l*(a[1]-n)/r/u[1];return i?(c=Eo(c,vn)-1,h=Eo(h,vn)-1):(c=vo(c,vn),h=vo(h,vn)),Dl(o,c,h,s)}getTileCoordForXYAndZ_(e,n,r,i,s){const o=this.getOrigin(r),l=this.getResolution(r),a=st(this.getTileSize(r),this.tmpSize_);let u=(e-o[0])/l/a[0],c=(o[1]-n)/l/a[1];return i?(u=Eo(u,vn)-1,c=Eo(c,vn)-1):(u=vo(u,vn),c=vo(c,vn)),Dl(r,u,c,s)}getTileCoordForCoordAndZ(e,n,r){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,r)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const r=ph(this.resolutions_,e,n||0);return we(r,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return f0(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,r=new Array(n);for(let i=this.minZoom;i<n;++i)r[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=r}}class rx extends ha{constructor(e){super({extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}getMatrixId(e){return this.matrixIds_[e]}getMatrixIds(){return this.matrixIds_}}const B0=rx;function Bh(t){let e=t.getDefaultTileGrid();return e||(e=ox(t),t.setDefaultTileGrid(e)),e}function ix(t,e,n){const r=e[0],i=t.getTileCoordCenter(e),s=da(n);if(!Rs(s,i)){const o=Se(s),l=Math.ceil((s[0]-i[0])/o);return i[0]+=o*l,t.getTileCoordForCoordAndZ(i,r)}return e}function sx(t,e,n,r){r=r!==void 0?r:"top-left";const i=X0(t,e,n);return new ha({extent:t,origin:Gv(t,r),resolutions:i,tileSize:n})}function $0(t){const e=t||{},n=e.extent||We("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:X0(n,e.maxZoom,e.tileSize,e.maxResolution)};return new ha(r)}function X0(t,e,n,r){e=e!==void 0?e:eE,n=st(n!==void 0?n:_h);const i=Ft(t),s=Se(t);r=r>0?r:Math.max(s/n[0],i/n[1]);const o=e+1,l=new Array(o);for(let a=0;a<o;++a)l[a]=r/Math.pow(2,a);return l}function ox(t,e,n,r){const i=da(t);return sx(i,e,n,r)}function da(t){t=We(t);let e=t.getExtent();if(!e){const n=180*fi.degrees/t.getMetersPerUnit();e=js(-n,-n,n,n)}return e}class V0 extends nx{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.opaque_=e.opaque!==void 0?e.opaque:!1,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&st(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new jh(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const r=this.getTileCacheForProjection(e);r&&r.expireCache(n)}forEachLoadedTile(e,n,r,i){const s=this.getTileCacheForProjection(e);if(!s)return!1;let o=!0,l,a,u;for(let c=r.minX;c<=r.maxX;++c)for(let h=r.minY;h<=r.maxY;++h)a=pi(n,c,h),u=!1,s.containsKey(a)&&(l=s.get(a),u=l.getState()===P.LOADED,u&&(u=i(l)!==!1)),u||(o=!1);return o}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getOpaque(e){return this.opaque_}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,r,i,s){return fe()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Bh(e)}getTileCacheForProjection(e){const n=this.getProjection();return ue(n===null||Kt(n,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,r){const i=this.getTileGridForProjection(r),s=this.getTilePixelRatio(n),o=st(i.getTileSize(e),this.tmpSize);return s==1?o:VT(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=ix(r,e,n)),xw(e,r)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}updateCacheSize(e,n){const r=this.getTileCacheForProjection(n);e>r.highWaterMark&&(r.highWaterMark=e)}useTile(e,n,r,i){}}class K0 extends Hn{constructor(e,n){super(e),this.tile=n}}class lx extends V0{constructor(e){const n=e.projection===void 0?"EPSG:3857":e.projection;let r=e.tileGrid;r===void 0&&n&&(r=$0({extent:da(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize})),super({cacheSize:.1,attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:n,tileGrid:r,opaque:e.opaque,state:e.state,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate}),this.gutter_=e.gutter!==void 0?e.gutter:0,this.tileSize_=e.tileSize?st(e.tileSize):null,this.tileSizes_=null,this.tileLoadingKeys_={},this.loader_=e.loader,this.handleTileChange_=this.handleTileChange_.bind(this),this.bandCount=e.bandCount===void 0?4:e.bandCount,this.tileGridForProjection_={},this.tileCacheForProjection_={}}setTileSizes(e){this.tileSizes_=e}getTileSize(e){if(this.tileSizes_)return this.tileSizes_[e];if(this.tileSize_)return this.tileSize_;const n=this.getTileGrid();return n?st(n.getTileSize(e)):[256,256]}getGutterForProjection(e){const n=this.getProjection();return!n||Kt(n,e)?this.gutter_:0}setLoader(e){this.loader_=e}getReprojTile_(e,n,r,i,s){const o=this.getTileCacheForProjection(i),l=pi(e,n,r);if(o.containsKey(l)){const v=o.get(l);if(v&&v.key==this.getKey())return v}const a=this.getTileGrid(),u=Math.max.apply(null,a.getResolutions().map((v,p)=>{const g=st(a.getTileSize(p)),_=this.getTileSize(p);return Math.max(_[0]/g[0],_[1]/g[1])})),c=this.getTileGridForProjection(s),h=this.getTileGridForProjection(i),d=[e,n,r],f=this.getTileCoordForTileUrlFunction(d,i),m=Object.assign({sourceProj:s,sourceTileGrid:c,targetProj:i,targetTileGrid:h,tileCoord:d,wrappedTileCoord:f,pixelRatio:u,gutter:this.getGutterForProjection(s),getTileFunction:(v,p,g,_)=>this.getTile(v,p,g,_,s)},this.tileOptions),y=new Nh(m);return y.key=this.getKey(),y}getTile(e,n,r,i,s){const o=this.getProjection();if(o&&s&&!Kt(o,s))return this.getReprojTile_(e,n,r,s,o);const l=this.getTileSize(e),a=pi(e,n,r);if(this.tileCache.containsKey(a))return this.tileCache.get(a);const u=this.loader_;function c(){return Ev(function(){return u(e,n,r)})}const h=Object.assign({tileCoord:[e,n,r],loader:c,size:l},this.tileOptions),d=new kh(h);return d.key=this.getKey(),d.addEventListener(z.CHANGE,this.handleTileChange_),this.tileCache.set(a,d),d}handleTileChange_(e){const n=e.target,r=le(n),i=n.getState();let s;i==P.LOADING?(this.tileLoadingKeys_[r]=!0,s=ri.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==P.ERROR?ri.TILELOADERROR:i==P.LOADED?ri.TILELOADEND:void 0),s&&this.dispatchEvent(new K0(s,n))}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||Kt(n,e)))return this.tileGrid;const r=le(e);return r in this.tileGridForProjection_||(this.tileGridForProjection_[r]=Bh(e)),this.tileGridForProjection_[r]}setTileGridForProjection(e,n){const r=We(e);if(r){const i=le(r);i in this.tileGridForProjection_||(this.tileGridForProjection_[i]=n)}}getTileCacheForProjection(e){const n=this.getProjection();if(!n||Kt(n,e))return this.tileCache;const r=le(e);return r in this.tileCacheForProjection_||(this.tileCacheForProjection_[r]=new jh(.1)),this.tileCacheForProjection_[r]}expireCache(e,n){const r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection_){const s=this.tileCacheForProjection_[i];s.expireCache(s==r?n:{})}}clear(){super.clear();for(const e in this.tileCacheForProjection_)this.tileCacheForProjection_[e].clear()}}function ze(t){return(e,...n)=>ax(t,e,n)}function Ri(t,e){return ze(H0(t,e).get)}const{apply:ax,construct:EC,defineProperty:TC,get:wC,getOwnPropertyDescriptor:H0,getPrototypeOf:$h,has:xC,ownKeys:ux,set:CC,setPrototypeOf:RC}=Reflect,{iterator:Ys,species:SC,toStringTag:cx,for:IC}=Symbol,hx=Object,{create:Xh,defineProperty:dx,freeze:PC,is:AC}=hx,fx=Array,gx=fx.prototype,W0=gx[Ys],px=ze(W0),Y0=ArrayBuffer,mx=Y0.prototype;Ri(mx,"byteLength");const cg=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:null;cg&&Ri(cg.prototype,"byteLength");const Z0=$h(Uint8Array);Z0.from;const qe=Z0.prototype;qe[Ys];ze(qe.keys);ze(qe.values);ze(qe.entries);ze(qe.set);ze(qe.reverse);ze(qe.fill);ze(qe.copyWithin);ze(qe.sort);ze(qe.slice);ze(qe.subarray);Ri(qe,"buffer");Ri(qe,"byteOffset");Ri(qe,"length");Ri(qe,cx);const yx=Uint8Array,q0=Uint16Array,Vh=Uint32Array,_x=Float32Array,Ls=$h([][Ys]()),Q0=ze(Ls.next),vx=ze(function*(){}().next),Ex=$h(Ls),Tx=DataView.prototype,wx=ze(Tx.getUint16),Kh=WeakMap,J0=Kh.prototype,ey=ze(J0.get),xx=ze(J0.set),ty=new Kh,Cx=Xh(null,{next:{value:function(){const e=ey(ty,this);return Q0(e)}},[Ys]:{value:function(){return this}}});function Rx(t){if(t[Ys]===W0&&Ls.next===Q0)return t;const e=Xh(Cx);return xx(ty,e,px(t)),e}const Sx=new Kh,Ix=Xh(Ex,{next:{value:function(){const e=ey(Sx,this);return vx(e)},writable:!0,configurable:!0}});for(const t of ux(Ls))t!=="next"&&dx(Ix,t,H0(Ls,t));const ny=new Y0(4),Px=new _x(ny),Ax=new Vh(ny),jt=new q0(512),Bt=new yx(512);for(let t=0;t<256;++t){const e=t-127;e<-27?(jt[t]=0,jt[t|256]=32768,Bt[t]=24,Bt[t|256]=24):e<-14?(jt[t]=1024>>-e-14,jt[t|256]=1024>>-e-14|32768,Bt[t]=-e-1,Bt[t|256]=-e-1):e<=15?(jt[t]=e+15<<10,jt[t|256]=e+15<<10|32768,Bt[t]=13,Bt[t|256]=13):e<128?(jt[t]=31744,jt[t|256]=64512,Bt[t]=24,Bt[t|256]=24):(jt[t]=31744,jt[t|256]=64512,Bt[t]=13,Bt[t|256]=13)}const Hh=new Vh(2048);for(let t=1;t<1024;++t){let e=t<<13,n=0;for(;!(e&8388608);)e<<=1,n-=8388608;e&=-8388609,n+=947912704,Hh[t]=e|n}for(let t=1024;t<2048;++t)Hh[t]=939524096+(t-1024<<13);const Si=new Vh(64);for(let t=1;t<31;++t)Si[t]=t<<23;Si[31]=1199570944;Si[32]=2147483648;for(let t=33;t<63;++t)Si[t]=2147483648+(t-32<<23);Si[63]=3347054592;const ry=new q0(64);for(let t=1;t<64;++t)t!==32&&(ry[t]=1024);function Lx(t){const e=t>>10;return Ax[0]=Hh[ry[e]+(t&1023)]+Si[e],Px[0]}function iy(t,e,...n){return Lx(wx(t,e,...Rx(n)))}var Wh={exports:{}};function sy(t,e,n){const r=n&&n.debug||!1;r&&console.log("[xml-utils] getting "+e+" in "+t);const i=typeof t=="object"?t.outer:t,s=i.slice(0,i.indexOf(">")+1),o=['"',"'"];for(let l=0;l<o.length;l++){const a=o[l],u=e+"\\="+a+"([^"+a+"]*)"+a;r&&console.log("[xml-utils] pattern:",u);const h=new RegExp(u).exec(s);if(r&&console.log("[xml-utils] match:",h),h)return h[1]}}Wh.exports=sy;Wh.exports.default=sy;var Ox=Wh.exports;const ru=Ms(Ox);var Yh={exports:{}},Zh={exports:{}},qh={exports:{}};function oy(t,e,n){const i=new RegExp(e).exec(t.slice(n));return i?n+i.index:-1}qh.exports=oy;qh.exports.default=oy;var Dx=qh.exports,Qh={exports:{}};function ly(t,e,n){const i=new RegExp(e).exec(t.slice(n));return i?n+i.index+i[0].length-1:-1}Qh.exports=ly;Qh.exports.default=ly;var Mx=Qh.exports,Jh={exports:{}};function ay(t,e){const n=new RegExp(e,"g"),r=t.match(n);return r?r.length:0}Jh.exports=ay;Jh.exports.default=ay;var kx=Jh.exports;const Nx=Dx,iu=Mx,hg=kx;function uy(t,e,n){const r=n&&n.debug||!1,i=!(n&&typeof n.nested===!1),s=n&&n.startIndex||0;r&&console.log("[xml-utils] starting findTagByName with",e," and ",n);const o=Nx(t,`<${e}[ 
>/]`,s);if(r&&console.log("[xml-utils] start:",o),o===-1)return;const l=t.slice(o+e.length);let a=iu(l,"^[^<]*[ /]>",0);const u=a!==-1&&l[a-1]==="/";if(r&&console.log("[xml-utils] selfClosing:",u),u===!1)if(i){let f=0,m=1,y=0;for(;(a=iu(l,"[ /]"+e+">",f))!==-1;){const v=l.substring(f,a+1);if(m+=hg(v,"<"+e+`[ 
	>]`),y+=hg(v,"</"+e+">"),y>=m)break;f=a}}else a=iu(l,"[ /]"+e+">",0);const c=o+e.length+a+1;if(r&&console.log("[xml-utils] end:",c),c===-1)return;const h=t.slice(o,c);let d;return u?d=null:d=h.slice(h.indexOf(">")+1,h.lastIndexOf("<")),{inner:d,outer:h,start:o,end:c}}Zh.exports=uy;Zh.exports.default=uy;var Fx=Zh.exports;const bx=Fx;function cy(t,e,n){const r=[],i=n&&n.debug||!1,s=n&&typeof n.nested=="boolean"?n.nested:!0;let o=n&&n.startIndex||0,l;for(;l=bx(t,e,{debug:i,startIndex:o});)s?o=l.start+1+e.length:o=l.end,r.push(l);return i&&console.log("findTagsByName found",r.length,"tags"),r}Yh.exports=cy;Yh.exports.default=cy;var zx=Yh.exports;const Ux=Ms(zx),os={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},$t={};for(const t in os)os.hasOwnProperty(t)&&($t[os[t]]=parseInt(t,10));const Gx=[$t.BitsPerSample,$t.ExtraSamples,$t.SampleFormat,$t.StripByteCounts,$t.StripOffsets,$t.StripRowCounts,$t.TileByteCounts,$t.TileOffsets,$t.SubIFDs],su={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},U={};for(const t in su)su.hasOwnProperty(t)&&(U[su[t]]=parseInt(t,10));const Je={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},jx={Unspecified:0,Assocalpha:1,Unassalpha:2},LC={Version:0,AddCompression:1},OC={None:0,Deflate:1,Zstandard:2},Bx={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"};function $x(t,e){const{width:n,height:r}=t,i=new Uint8Array(n*r*3);let s;for(let o=0,l=0;o<t.length;++o,l+=3)s=256-t[o]/e*256,i[l]=s,i[l+1]=s,i[l+2]=s;return i}function Xx(t,e){const{width:n,height:r}=t,i=new Uint8Array(n*r*3);let s;for(let o=0,l=0;o<t.length;++o,l+=3)s=t[o]/e*256,i[l]=s,i[l+1]=s,i[l+2]=s;return i}function Vx(t,e){const{width:n,height:r}=t,i=new Uint8Array(n*r*3),s=e.length/3,o=e.length/3*2;for(let l=0,a=0;l<t.length;++l,a+=3){const u=t[l];i[a]=e[u]/65536*256,i[a+1]=e[u+s]/65536*256,i[a+2]=e[u+o]/65536*256}return i}function Kx(t){const{width:e,height:n}=t,r=new Uint8Array(e*n*3);for(let i=0,s=0;i<t.length;i+=4,s+=3){const o=t[i],l=t[i+1],a=t[i+2],u=t[i+3];r[s]=255*((255-o)/256)*((255-u)/256),r[s+1]=255*((255-l)/256)*((255-u)/256),r[s+2]=255*((255-a)/256)*((255-u)/256)}return r}function Hx(t){const{width:e,height:n}=t,r=new Uint8ClampedArray(e*n*3);for(let i=0,s=0;i<t.length;i+=3,s+=3){const o=t[i],l=t[i+1],a=t[i+2];r[s]=o+1.402*(a-128),r[s+1]=o-.34414*(l-128)-.71414*(a-128),r[s+2]=o+1.772*(l-128)}return r}const Wx=.95047,Yx=1,Zx=1.08883;function qx(t){const{width:e,height:n}=t,r=new Uint8Array(e*n*3);for(let i=0,s=0;i<t.length;i+=3,s+=3){const o=t[i+0],l=t[i+1]<<24>>24,a=t[i+2]<<24>>24;let u=(o+16)/116,c=l/500+u,h=u-a/200,d,f,m;c=Wx*(c*c*c>.008856?c*c*c:(c-16/116)/7.787),u=Yx*(u*u*u>.008856?u*u*u:(u-16/116)/7.787),h=Zx*(h*h*h>.008856?h*h*h:(h-16/116)/7.787),d=c*3.2406+u*-1.5372+h*-.4986,f=c*-.9689+u*1.8758+h*.0415,m=c*.0557+u*-.204+h*1.057,d=d>.0031308?1.055*d**(1/2.4)-.055:12.92*d,f=f>.0031308?1.055*f**(1/2.4)-.055:12.92*f,m=m>.0031308?1.055*m**(1/2.4)-.055:12.92*m,r[s]=Math.max(0,Math.min(1,d))*255,r[s+1]=Math.max(0,Math.min(1,f))*255,r[s+2]=Math.max(0,Math.min(1,m))*255}return r}const Qx="modulepreload",Jx=function(t,e){return new URL(t,e).href},dg={},Wn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=Jx(a,r),a in dg)return;dg[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(!!r)for(let f=s.length-1;f>=0;f--){const m=s[f];if(m.href===a&&(!u||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":Qx,u||(d.as="script",d.crossOrigin=""),d.href=a,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((f,m)=>{d.addEventListener("load",f),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},hy=new Map;function Yn(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>hy.set(n,e))}async function dy(t){const e=hy.get(t.Compression);if(!e)throw new Error(`Unknown compression method identifier: ${t.Compression}`);const n=await e();return new n(t)}Yn([void 0,1],()=>Wn(()=>import("./raw-Dt1HMqYc.js"),__vite__mapDeps([0,1]),import.meta.url).then(t=>t.default));Yn(5,()=>Wn(()=>import("./lzw-DpvbRwG5.js"),__vite__mapDeps([2,1]),import.meta.url).then(t=>t.default));Yn(6,()=>{throw new Error("old style JPEG compression is not supported.")});Yn(7,()=>Wn(()=>import("./jpeg-CdeCw_eT.js"),__vite__mapDeps([3,1]),import.meta.url).then(t=>t.default));Yn([8,32946],()=>Wn(()=>import("./deflate-CUkHh1nh.js"),__vite__mapDeps([4,5,1]),import.meta.url).then(t=>t.default));Yn(32773,()=>Wn(()=>import("./packbits-DQnG8s9w.js"),__vite__mapDeps([6,1]),import.meta.url).then(t=>t.default));Yn(34887,()=>Wn(()=>import("./lerc-BozwgClJ.js"),__vite__mapDeps([7,5,1]),import.meta.url).then(async t=>(await t.zstd.init(),t)).then(t=>t.default));Yn(50001,()=>Wn(()=>import("./webimage-BcnuJlio.js"),__vite__mapDeps([8,1]),import.meta.url).then(t=>t.default));function fa(t,e,n,r=1){return new(Object.getPrototypeOf(t)).constructor(e*n*r)}function e2(t,e,n,r,i){const s=e/r,o=n/i;return t.map(l=>{const a=fa(l,r,i);for(let u=0;u<i;++u){const c=Math.min(Math.round(o*u),n-1);for(let h=0;h<r;++h){const d=Math.min(Math.round(s*h),e-1),f=l[c*e+d];a[u*r+h]=f}}return a})}function ii(t,e,n){return(1-n)*t+n*e}function t2(t,e,n,r,i){const s=e/r,o=n/i;return t.map(l=>{const a=fa(l,r,i);for(let u=0;u<i;++u){const c=o*u,h=Math.floor(c),d=Math.min(Math.ceil(c),n-1);for(let f=0;f<r;++f){const m=s*f,y=m%1,v=Math.floor(m),p=Math.min(Math.ceil(m),e-1),g=l[h*e+v],_=l[h*e+p],E=l[d*e+v],T=l[d*e+p],w=ii(ii(g,_,y),ii(E,T,y),c%1);a[u*r+f]=w}}return a})}function n2(t,e,n,r,i,s="nearest"){switch(s.toLowerCase()){case"nearest":return e2(t,e,n,r,i);case"bilinear":case"linear":return t2(t,e,n,r,i);default:throw new Error(`Unsupported resampling method: '${s}'`)}}function r2(t,e,n,r,i,s){const o=e/r,l=n/i,a=fa(t,r,i,s);for(let u=0;u<i;++u){const c=Math.min(Math.round(l*u),n-1);for(let h=0;h<r;++h){const d=Math.min(Math.round(o*h),e-1);for(let f=0;f<s;++f){const m=t[c*e*s+d*s+f];a[u*r*s+h*s+f]=m}}}return a}function i2(t,e,n,r,i,s){const o=e/r,l=n/i,a=fa(t,r,i,s);for(let u=0;u<i;++u){const c=l*u,h=Math.floor(c),d=Math.min(Math.ceil(c),n-1);for(let f=0;f<r;++f){const m=o*f,y=m%1,v=Math.floor(m),p=Math.min(Math.ceil(m),e-1);for(let g=0;g<s;++g){const _=t[h*e*s+v*s+g],E=t[h*e*s+p*s+g],T=t[d*e*s+v*s+g],w=t[d*e*s+p*s+g],x=ii(ii(_,E,y),ii(T,w,y),c%1);a[u*r*s+f*s+g]=x}}}return a}function s2(t,e,n,r,i,s,o="nearest"){switch(o.toLowerCase()){case"nearest":return r2(t,e,n,r,i,s);case"bilinear":case"linear":return i2(t,e,n,r,i,s);default:throw new Error(`Unsupported resampling method: '${o}'`)}}function o2(t,e,n){let r=0;for(let i=e;i<n;++i)r+=t[i];return r}function gc(t,e,n){switch(t){case 1:if(e<=8)return new Uint8Array(n);if(e<=16)return new Uint16Array(n);if(e<=32)return new Uint32Array(n);break;case 2:if(e===8)return new Int8Array(n);if(e===16)return new Int16Array(n);if(e===32)return new Int32Array(n);break;case 3:switch(e){case 16:case 32:return new Float32Array(n);case 64:return new Float64Array(n)}break}throw Error("Unsupported data format/bitsPerSample")}function l2(t,e){return(t===1||t===2)&&e<=32&&e%8===0?!1:!(t===3&&(e===16||e===32||e===64))}function a2(t,e,n,r,i,s,o){const l=new DataView(t),a=n===2?o*s:o*s*r,u=n===2?1:r,c=gc(e,i,a),h=parseInt("1".repeat(i),2);if(e===1){let d;n===1?d=r*i:d=i;let f=s*d;f&7&&(f=f+7&-8);for(let m=0;m<o;++m){const y=m*f;for(let v=0;v<s;++v){const p=y+v*u*i;for(let g=0;g<u;++g){const _=p+g*i,E=(m*s+v)*u+g,T=Math.floor(_/8),w=_%8;if(w+i<=8)c[E]=l.getUint8(T)>>8-i-w&h;else if(w+i<=16)c[E]=l.getUint16(T)>>16-i-w&h;else if(w+i<=24){const x=l.getUint16(T)<<8|l.getUint8(T+2);c[E]=x>>24-i-w&h}else c[E]=l.getUint32(T)>>32-i-w&h}}}}return c.buffer}class fy{constructor(e,n,r,i,s,o){this.fileDirectory=e,this.geoKeys=n,this.dataView=r,this.littleEndian=i,this.tiles=s?{}:null,this.isTiled=!e.StripOffsets;const l=e.PlanarConfiguration;if(this.planarConfiguration=typeof l>"u"?1:l,this.planarConfiguration!==1&&this.planarConfiguration!==2)throw new Error("Invalid planar configuration.");this.source=o}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return typeof this.fileDirectory.SamplesPerPixel<"u"?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:typeof this.fileDirectory.RowsPerStrip<"u"?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(e){return this.isTiled||(e+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-e*this.getTileHeight()}getBytesPerPixel(){let e=0;for(let n=0;n<this.fileDirectory.BitsPerSample.length;++n)e+=this.getSampleByteSize(n);return e}getSampleByteSize(e){if(e>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${e} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[e]/8)}getReaderForSample(e){const n=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,r=this.fileDirectory.BitsPerSample[e];switch(n){case 1:if(r<=8)return DataView.prototype.getUint8;if(r<=16)return DataView.prototype.getUint16;if(r<=32)return DataView.prototype.getUint32;break;case 2:if(r<=8)return DataView.prototype.getInt8;if(r<=16)return DataView.prototype.getInt16;if(r<=32)return DataView.prototype.getInt32;break;case 3:switch(r){case 16:return function(i,s){return iy(this,i,s)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}break}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(e=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1}getBitsPerSample(e=0){return this.fileDirectory.BitsPerSample[e]}getArrayForSample(e,n){const r=this.getSampleFormat(e),i=this.getBitsPerSample(e);return gc(r,i,n)}async getTileOrStrip(e,n,r,i,s){const o=Math.ceil(this.getWidth()/this.getTileWidth()),l=Math.ceil(this.getHeight()/this.getTileHeight());let a;const{tiles:u}=this;this.planarConfiguration===1?a=n*o+e:this.planarConfiguration===2&&(a=r*o*l+n*o+e);let c,h;this.isTiled?(c=this.fileDirectory.TileOffsets[a],h=this.fileDirectory.TileByteCounts[a]):(c=this.fileDirectory.StripOffsets[a],h=this.fileDirectory.StripByteCounts[a]);const d=(await this.source.fetch([{offset:c,length:h}],s))[0];let f;return u===null||!u[a]?(f=(async()=>{let m=await i.decode(this.fileDirectory,d);const y=this.getSampleFormat(),v=this.getBitsPerSample();return l2(y,v)&&(m=a2(m,y,this.planarConfiguration,this.getSamplesPerPixel(),v,this.getTileWidth(),this.getBlockHeight(n))),m})(),u!==null&&(u[a]=f)):f=u[a],{x:e,y:n,sample:r,data:await f}}async _readRaster(e,n,r,i,s,o,l,a,u){const c=this.getTileWidth(),h=this.getTileHeight(),d=this.getWidth(),f=this.getHeight(),m=Math.max(Math.floor(e[0]/c),0),y=Math.min(Math.ceil(e[2]/c),Math.ceil(d/c)),v=Math.max(Math.floor(e[1]/h),0),p=Math.min(Math.ceil(e[3]/h),Math.ceil(f/h)),g=e[2]-e[0];let _=this.getBytesPerPixel();const E=[],T=[];for(let C=0;C<n.length;++C)this.planarConfiguration===1?E.push(o2(this.fileDirectory.BitsPerSample,0,n[C])/8):E.push(0),T.push(this.getReaderForSample(n[C]));const w=[],{littleEndian:x}=this;for(let C=v;C<p;++C)for(let R=m;R<y;++R){let I;this.planarConfiguration===1&&(I=this.getTileOrStrip(R,C,0,s,u));for(let N=0;N<n.length;++N){const X=N,ne=n[N];this.planarConfiguration===2&&(_=this.getSampleByteSize(ne),I=this.getTileOrStrip(R,C,ne,s,u));const ie=I.then(Q=>{const xe=Q.data,V=new DataView(xe),A=this.getBlockHeight(Q.y),M=Q.y*h,k=Q.x*c,Y=M+A,G=(Q.x+1)*c,de=T[X],j=Math.min(A,A-(Y-e[3]),f-M),H=Math.min(c,c-(G-e[2]),d-k);for(let J=Math.max(0,e[1]-M);J<j;++J)for(let se=Math.max(0,e[0]-k);se<H;++se){const Qe=(J*c+se)*_,pt=de.call(V,Qe+E[X],x);let zt;i?(zt=(J+M-e[1])*g*n.length+(se+k-e[0])*n.length+X,r[zt]=pt):(zt=(J+M-e[1])*g+se+k-e[0],r[X][zt]=pt)}});w.push(ie)}}if(await Promise.all(w),o&&e[2]-e[0]!==o||l&&e[3]-e[1]!==l){let C;return i?C=s2(r,e[2]-e[0],e[3]-e[1],o,l,n.length,a):C=n2(r,e[2]-e[0],e[3]-e[1],o,l,a),C.width=o,C.height=l,C}return r.width=o||e[2]-e[0],r.height=l||e[3]-e[1],r}async readRasters({window:e,samples:n=[],interleave:r,pool:i=null,width:s,height:o,resampleMethod:l,fillValue:a,signal:u}={}){const c=e||[0,0,this.getWidth(),this.getHeight()];if(c[0]>c[2]||c[1]>c[3])throw new Error("Invalid subsets");const h=c[2]-c[0],d=c[3]-c[1],f=h*d,m=this.getSamplesPerPixel();if(!n||!n.length)for(let g=0;g<m;++g)n.push(g);else for(let g=0;g<n.length;++g)if(n[g]>=m)return Promise.reject(new RangeError(`Invalid sample index '${n[g]}'.`));let y;if(r){const g=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,_=Math.max.apply(null,this.fileDirectory.BitsPerSample);y=gc(g,_,f*n.length),a&&y.fill(a)}else{y=[];for(let g=0;g<n.length;++g){const _=this.getArrayForSample(n[g],f);Array.isArray(a)&&g<a.length?_.fill(a[g]):a&&!Array.isArray(a)&&_.fill(a),y.push(_)}}const v=i||await dy(this.fileDirectory);return await this._readRaster(c,n,y,r,v,s,o,l,u)}async readRGB({window:e,interleave:n=!0,pool:r=null,width:i,height:s,resampleMethod:o,enableAlpha:l=!1,signal:a}={}){const u=e||[0,0,this.getWidth(),this.getHeight()];if(u[0]>u[2]||u[1]>u[3])throw new Error("Invalid subsets");const c=this.fileDirectory.PhotometricInterpretation;if(c===Je.RGB){let p=[0,1,2];if(this.fileDirectory.ExtraSamples!==jx.Unspecified&&l){p=[];for(let g=0;g<this.fileDirectory.BitsPerSample.length;g+=1)p.push(g)}return this.readRasters({window:e,interleave:n,samples:p,pool:r,width:i,height:s,resampleMethod:o,signal:a})}let h;switch(c){case Je.WhiteIsZero:case Je.BlackIsZero:case Je.Palette:h=[0];break;case Je.CMYK:h=[0,1,2,3];break;case Je.YCbCr:case Je.CIELab:h=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const d={window:u,interleave:!0,samples:h,pool:r,width:i,height:s,resampleMethod:o,signal:a},{fileDirectory:f}=this,m=await this.readRasters(d),y=2**this.fileDirectory.BitsPerSample[0];let v;switch(c){case Je.WhiteIsZero:v=$x(m,y);break;case Je.BlackIsZero:v=Xx(m,y);break;case Je.Palette:v=Vx(m,f.ColorMap);break;case Je.CMYK:v=Kx(m);break;case Je.YCbCr:v=Hx(m);break;case Je.CIELab:v=qx(m);break;default:throw new Error("Unsupported photometric interpretation.")}if(!n){const p=new Uint8Array(v.length/3),g=new Uint8Array(v.length/3),_=new Uint8Array(v.length/3);for(let E=0,T=0;E<v.length;E+=3,++T)p[T]=v[E],g[T]=v[E+1],_[T]=v[E+2];v=[p,g,_]}return v.width=m.width,v.height=m.height,v}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const e=[];for(let n=0;n<this.fileDirectory.ModelTiepoint.length;n+=6)e.push({i:this.fileDirectory.ModelTiepoint[n],j:this.fileDirectory.ModelTiepoint[n+1],k:this.fileDirectory.ModelTiepoint[n+2],x:this.fileDirectory.ModelTiepoint[n+3],y:this.fileDirectory.ModelTiepoint[n+4],z:this.fileDirectory.ModelTiepoint[n+5]});return e}getGDALMetadata(e=null){const n={};if(!this.fileDirectory.GDAL_METADATA)return null;const r=this.fileDirectory.GDAL_METADATA;let i=Ux(r,"Item");e===null?i=i.filter(s=>ru(s,"sample")===void 0):i=i.filter(s=>Number(ru(s,"sample"))===e);for(let s=0;s<i.length;++s){const o=i[s];n[ru(o,"name")]=o.inner}return n}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}getOrigin(){const e=this.fileDirectory.ModelTiepoint,n=this.fileDirectory.ModelTransformation;if(e&&e.length===6)return[e[3],e[4],e[5]];if(n)return[n[3],n[7],n[11]];throw new Error("The image does not have an affine transformation.")}getResolution(e=null){const n=this.fileDirectory.ModelPixelScale,r=this.fileDirectory.ModelTransformation;if(n)return[n[0],-n[1],n[2]];if(r)return r[1]===0&&r[4]===0?[r[0],-r[5],r[10]]:[Math.sqrt(r[0]*r[0]+r[4]*r[4]),-Math.sqrt(r[1]*r[1]+r[5]*r[5]),r[10]];if(e){const[i,s,o]=e.getResolution();return[i*e.getWidth()/this.getWidth(),s*e.getHeight()/this.getHeight(),o*e.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return this.geoKeys.GTRasterTypeGeoKey===1}getBoundingBox(e=!1){const n=this.getHeight(),r=this.getWidth();if(this.fileDirectory.ModelTransformation&&!e){const[i,s,o,l,a,u,c,h]=this.fileDirectory.ModelTransformation,f=[[0,0],[0,n],[r,0],[r,n]].map(([v,p])=>[l+i*v+s*p,h+a*v+u*p]),m=f.map(v=>v[0]),y=f.map(v=>v[1]);return[Math.min(...m),Math.min(...y),Math.max(...m),Math.max(...y)]}else{const i=this.getOrigin(),s=this.getResolution(),o=i[0],l=i[1],a=o+s[0]*r,u=l+s[1]*n;return[Math.min(o,a),Math.min(l,u),Math.max(o,a),Math.max(l,u)]}}}class u2{constructor(e){this._dataView=new DataView(e)}get buffer(){return this._dataView.buffer}getUint64(e,n){const r=this.getUint32(e,n),i=this.getUint32(e+4,n);let s;if(n){if(s=r+2**32*i,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}if(s=2**32*r+i,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}getInt64(e,n){let r=0;const i=(this._dataView.getUint8(e+(n?7:0))&128)>0;let s=!0;for(let o=0;o<8;o++){let l=this._dataView.getUint8(e+(n?o:7-o));i&&(s?l!==0&&(l=~(l-1)&255,s=!1):l=~l&255),r+=l*256**o}return i&&(r=-r),r}getUint8(e,n){return this._dataView.getUint8(e,n)}getInt8(e,n){return this._dataView.getInt8(e,n)}getUint16(e,n){return this._dataView.getUint16(e,n)}getInt16(e,n){return this._dataView.getInt16(e,n)}getUint32(e,n){return this._dataView.getUint32(e,n)}getInt32(e,n){return this._dataView.getInt32(e,n)}getFloat16(e,n){return iy(this._dataView,e,n)}getFloat32(e,n){return this._dataView.getFloat32(e,n)}getFloat64(e,n){return this._dataView.getFloat64(e,n)}}class c2{constructor(e,n,r,i){this._dataView=new DataView(e),this._sliceOffset=n,this._littleEndian=r,this._bigTiff=i}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(e,n){return this.sliceOffset<=e&&this.sliceTop>=e+n}readUint8(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}readInt8(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}readUint16(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}readInt16(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}readUint32(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}readInt32(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}readFloat32(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}readFloat64(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}readUint64(e){const n=this.readUint32(e),r=this.readUint32(e+4);let i;if(this._littleEndian){if(i=n+2**32*r,!Number.isSafeInteger(i))throw new Error(`${i} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return i}if(i=2**32*n+r,!Number.isSafeInteger(i))throw new Error(`${i} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return i}readInt64(e){let n=0;const r=(this._dataView.getUint8(e+(this._littleEndian?7:0))&128)>0;let i=!0;for(let s=0;s<8;s++){let o=this._dataView.getUint8(e+(this._littleEndian?s:7-s));r&&(i?o!==0&&(o=~(o-1)&255,i=!1):o=~o&255),n+=o*256**s}return r&&(n=-n),n}readOffset(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}}const h2=typeof navigator<"u"&&navigator.hardwareConcurrency||2;class d2{constructor(e=h2,n){this.workers=null,this._awaitingDecoder=null,this.size=e,this.messageId=0,e&&(this._awaitingDecoder=n?Promise.resolve(n):new Promise(r=>{Wn(()=>import("./decoder-CaSv2t6h.js"),__vite__mapDeps([]),import.meta.url).then(i=>{r(i.create)})}),this._awaitingDecoder.then(r=>{this._awaitingDecoder=null,this.workers=[];for(let i=0;i<e;i++)this.workers.push({worker:r(),idle:!0})}))}async decode(e,n){return this._awaitingDecoder&&await this._awaitingDecoder,this.size===0?dy(e).then(r=>r.decode(e,n)):new Promise(r=>{const i=this.workers.find(l=>l.idle)||this.workers[Math.floor(Math.random()*this.size)];i.idle=!1;const s=this.messageId++,o=l=>{l.data.id===s&&(i.idle=!0,r(l.data.decoded),i.worker.removeEventListener("message",o))};i.worker.addEventListener("message",o),i.worker.postMessage({fileDirectory:e,buffer:n,id:s},[n])})}destroy(){this.workers&&(this.workers.forEach(e=>{e.worker.terminate()}),this.workers=null)}}const fg=`\r
\r
`;function gy(t){if(typeof Object.fromEntries<"u")return Object.fromEntries(t);const e={};for(const[n,r]of t)e[n.toLowerCase()]=r;return e}function f2(t){const e=t.split(`\r
`).map(n=>{const r=n.split(":").map(i=>i.trim());return r[0]=r[0].toLowerCase(),r});return gy(e)}function g2(t){const[e,...n]=t.split(";").map(i=>i.trim()),r=n.map(i=>i.split("="));return{type:e,params:gy(r)}}function pc(t){let e,n,r;return t&&([,e,n,r]=t.match(/bytes (\d+)-(\d+)\/(\d+)/),e=parseInt(e,10),n=parseInt(n,10),r=parseInt(r,10)),{start:e,end:n,total:r}}function p2(t,e){let n=null;const r=new TextDecoder("ascii"),i=[],s=`--${e}`,o=`${s}--`;for(let l=0;l<10;++l)r.decode(new Uint8Array(t,l,s.length))===s&&(n=l);if(n===null)throw new Error("Could not find initial boundary");for(;n<t.byteLength;){const l=r.decode(new Uint8Array(t,n,Math.min(s.length+1024,t.byteLength-n)));if(l.length===0||l.startsWith(o))break;if(!l.startsWith(s))throw new Error("Part does not start with boundary");const a=l.substr(s.length+2);if(a.length===0)break;const u=a.indexOf(fg),c=f2(a.substr(0,u)),{start:h,end:d,total:f}=pc(c["content-range"]),m=n+s.length+u+fg.length,y=parseInt(d,10)+1-parseInt(h,10);i.push({headers:c,data:t.slice(m,m+y),offset:h,length:y,fileSize:f}),n=m+y+4}return i}class ed{async fetch(e,n=void 0){return Promise.all(e.map(r=>this.fetchSlice(r,n)))}async fetchSlice(e){throw new Error(`fetching of slice ${e} not possible, not implemented`)}get fileSize(){return null}async close(){}}class m2 extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if(typeof e.maxAge=="number"&&e.maxAge===0)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if(typeof this.onEviction=="function")for(const[n,r]of e)this.onEviction(n,r.value)}_deleteIfExpired(e,n){return typeof n.expiry=="number"&&n.expiry<=Date.now()?(typeof this.onEviction=="function"&&this.onEviction(e,n.value),this.delete(e)):!1}_getOrDeleteIfExpired(e,n){if(this._deleteIfExpired(e,n)===!1)return n.value}_getItemValue(e,n){return n.expiry?this._getOrDeleteIfExpired(e,n):n.value}_peek(e,n){const r=n.get(e);return this._getItemValue(e,r)}_set(e,n){this.cache.set(e,n),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,n){this.oldCache.delete(e),this._set(e,n)}*_entriesAscending(){for(const e of this.oldCache){const[n,r]=e;this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield e)}for(const e of this.cache){const[n,r]=e;this._deleteIfExpired(n,r)===!1&&(yield e)}}get(e){if(this.cache.has(e)){const n=this.cache.get(e);return this._getItemValue(e,n)}if(this.oldCache.has(e)){const n=this.oldCache.get(e);if(this._deleteIfExpired(e,n)===!1)return this._moveToRecent(e,n),n.value}}set(e,n,{maxAge:r=this.maxAge}={}){const i=typeof r=="number"&&r!==Number.POSITIVE_INFINITY?Date.now()+r:void 0;return this.cache.has(e)?this.cache.set(e,{value:n,expiry:i}):this._set(e,{value:n,expiry:i}),this}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):this.oldCache.has(e)?!this._deleteIfExpired(e,this.oldCache.get(e)):!1}peek(e){if(this.cache.has(e))return this._peek(e,this.cache);if(this.oldCache.has(e))return this._peek(e,this.oldCache)}delete(e){const n=this.cache.delete(e);return n&&this._size--,this.oldCache.delete(e)||n}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const n=[...this._entriesAscending()],r=n.length-e;r<0?(this.cache=new Map(n),this.oldCache=new Map,this._size=n.length):(r>0&&this._emitEvictions(n.slice(0,r)),this.oldCache=new Map(n.slice(r)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[n,r]=e;this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}for(const e of this.oldCache){const[n,r]=e;this.cache.has(n)||this._deleteIfExpired(n,r)===!1&&(yield[n,r.value])}}*entriesDescending(){let e=[...this.cache];for(let n=e.length-1;n>=0;--n){const r=e[n],[i,s]=r;this._deleteIfExpired(i,s)===!1&&(yield[i,s.value])}e=[...this.oldCache];for(let n=e.length-1;n>=0;--n){const r=e[n],[i,s]=r;this.cache.has(i)||this._deleteIfExpired(i,s)===!1&&(yield[i,s.value])}}*entriesAscending(){for(const[e,n]of this._entriesAscending())yield[e,n.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const n of this.oldCache.keys())this.cache.has(n)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,n=this){for(const[r,i]of this.entriesAscending())e.call(n,i,r,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}async function y2(t){return new Promise(e=>setTimeout(e,t))}function _2(t,e){const n=Array.isArray(t)?t:Array.from(t),r=Array.isArray(e)?e:Array.from(e);return n.map((i,s)=>[i,r[s]])}class yi extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,yi),this.name="AbortError"}}class v2 extends Error{constructor(e,n){super(n),this.errors=e,this.message=n,this.name="AggregateError"}}const E2=v2;class T2{constructor(e,n,r=null){this.offset=e,this.length=n,this.data=r}get top(){return this.offset+this.length}}class gg{constructor(e,n,r){this.offset=e,this.length=n,this.blockIds=r}}class w2 extends ed{constructor(e,{blockSize:n=65536,cacheSize:r=100}={}){super(),this.source=e,this.blockSize=n,this.blockCache=new m2({maxSize:r,onEviction:(i,s)=>{this.evictedBlocks.set(i,s)}}),this.evictedBlocks=new Map,this.blockRequests=new Map,this.blockIdsToFetch=new Set,this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}async fetch(e,n){const r=[],i=[],s=[];this.evictedBlocks.clear();for(const{offset:d,length:f}of e){let m=d+f;const{fileSize:y}=this;y!==null&&(m=Math.min(m,y));const v=Math.floor(d/this.blockSize)*this.blockSize;for(let p=v;p<m;p+=this.blockSize){const g=Math.floor(p/this.blockSize);!this.blockCache.has(g)&&!this.blockRequests.has(g)&&(this.blockIdsToFetch.add(g),i.push(g)),this.blockRequests.has(g)&&r.push(this.blockRequests.get(g)),s.push(g)}}await y2(),this.fetchBlocks(n);const o=[];for(const d of i)this.blockRequests.has(d)&&o.push(this.blockRequests.get(d));await Promise.allSettled(r),await Promise.allSettled(o);const l=[],a=s.filter(d=>this.abortedBlockIds.has(d)||!this.blockCache.has(d));if(a.forEach(d=>this.blockIdsToFetch.add(d)),a.length>0&&n&&!n.aborted){this.fetchBlocks(null);for(const d of a){const f=this.blockRequests.get(d);if(!f)throw new Error(`Block ${d} is not in the block requests`);l.push(f)}await Promise.allSettled(l)}if(n&&n.aborted)throw new yi("Request was aborted");const u=s.map(d=>this.blockCache.get(d)||this.evictedBlocks.get(d)),c=u.filter(d=>!d);if(c.length)throw new E2(c,"Request failed");const h=new Map(_2(s,u));return this.readSliceData(e,h)}fetchBlocks(e){if(this.blockIdsToFetch.size>0){const n=this.groupBlocks(this.blockIdsToFetch),r=this.source.fetch(n,e);for(let i=0;i<n.length;++i){const s=n[i];for(const o of s.blockIds)this.blockRequests.set(o,(async()=>{try{const l=(await r)[i],a=o*this.blockSize,u=a-l.offset,c=Math.min(u+this.blockSize,l.data.byteLength),h=l.data.slice(u,c),d=new T2(a,h.byteLength,h,o);this.blockCache.set(o,d),this.abortedBlockIds.delete(o)}catch(l){if(l.name==="AbortError")l.signal=e,this.blockCache.delete(o),this.abortedBlockIds.add(o);else throw l}finally{this.blockRequests.delete(o)}})())}this.blockIdsToFetch.clear()}}groupBlocks(e){const n=Array.from(e).sort((o,l)=>o-l);if(n.length===0)return[];let r=[],i=null;const s=[];for(const o of n)i===null||i+1===o?(r.push(o),i=o):(s.push(new gg(r[0]*this.blockSize,r.length*this.blockSize,r)),r=[o],i=o);return s.push(new gg(r[0]*this.blockSize,r.length*this.blockSize,r)),s}readSliceData(e,n){return e.map(r=>{let i=r.offset+r.length;this.fileSize!==null&&(i=Math.min(this.fileSize,i));const s=Math.floor(r.offset/this.blockSize),o=Math.floor(i/this.blockSize),l=new ArrayBuffer(r.length),a=new Uint8Array(l);for(let u=s;u<=o;++u){const c=n.get(u),h=c.offset-r.offset,d=c.top-i;let f=0,m=0,y;h<0?f=-h:h>0&&(m=h),d<0?y=c.length-f:y=i-c.offset-f;const v=new Uint8Array(c.data,f,y);a.set(v,m)}return l})}}class td{get ok(){return this.status>=200&&this.status<=299}get status(){throw new Error("not implemented")}getHeader(e){throw new Error("not implemented")}async getData(){throw new Error("not implemented")}}class nd{constructor(e){this.url=e}async request({headers:e,signal:n}={}){throw new Error("request is not implemented")}}class x2 extends td{constructor(e){super(),this.response=e}get status(){return this.response.status}getHeader(e){return this.response.headers.get(e)}async getData(){return this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer}}class C2 extends nd{constructor(e,n){super(e),this.credentials=n}async request({headers:e,signal:n}={}){const r=await fetch(this.url,{headers:e,credentials:this.credentials,signal:n});return new x2(r)}}class R2 extends td{constructor(e,n){super(),this.xhr=e,this.data=n}get status(){return this.xhr.status}getHeader(e){return this.xhr.getResponseHeader(e)}async getData(){return this.data}}class S2 extends nd{constructRequest(e,n){return new Promise((r,i)=>{const s=new XMLHttpRequest;s.open("GET",this.url),s.responseType="arraybuffer";for(const[o,l]of Object.entries(e))s.setRequestHeader(o,l);s.onload=()=>{const o=s.response;r(new R2(s,o))},s.onerror=i,s.onabort=()=>i(new yi("Request aborted")),s.send(),n&&(n.aborted&&s.abort(),n.addEventListener("abort",()=>s.abort()))})}async request({headers:e,signal:n}={}){return await this.constructRequest(e,n)}}const ou={};class I2 extends td{constructor(e,n){super(),this.response=e,this.dataPromise=n}get status(){return this.response.statusCode}getHeader(e){return this.response.headers[e]}async getData(){return await this.dataPromise}}class P2 extends nd{constructor(e){super(e),this.parsedUrl=ou.parse(this.url),this.httpApi=(this.parsedUrl.protocol==="http:",ou)}constructRequest(e,n){return new Promise((r,i)=>{const s=this.httpApi.get({...this.parsedUrl,headers:e},o=>{const l=new Promise(a=>{const u=[];o.on("data",c=>{u.push(c)}),o.on("end",()=>{const c=Buffer.concat(u).buffer;a(c)}),o.on("error",i)});r(new I2(o,l))});s.on("error",i),n&&(n.aborted&&s.destroy(new yi("Request aborted")),n.addEventListener("abort",()=>s.destroy(new yi("Request aborted"))))})}async request({headers:e,signal:n}={}){return await this.constructRequest(e,n)}}class rd extends ed{constructor(e,n,r,i){super(),this.client=e,this.headers=n,this.maxRanges=r,this.allowFullFile=i,this._fileSize=null}async fetch(e,n){return this.maxRanges>=e.length?this.fetchSlices(e,n):(this.maxRanges>0&&e.length>1,Promise.all(e.map(r=>this.fetchSlice(r,n))))}async fetchSlices(e,n){const r=await this.client.request({headers:{...this.headers,Range:`bytes=${e.map(({offset:i,length:s})=>`${i}-${i+s}`).join(",")}`},signal:n});if(r.ok)if(r.status===206){const{type:i,params:s}=g2(r.getHeader("content-type"));if(i==="multipart/byteranges"){const h=p2(await r.getData(),s.boundary);return this._fileSize=h[0].fileSize||null,h}const o=await r.getData(),{start:l,end:a,total:u}=pc(r.getHeader("content-range"));this._fileSize=u||null;const c=[{data:o,offset:l,length:a-l}];if(e.length>1){const h=await Promise.all(e.slice(1).map(d=>this.fetchSlice(d,n)));return c.concat(h)}return c}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const i=await r.getData();return this._fileSize=i.byteLength,[{data:i,offset:0,length:i.byteLength}]}else throw new Error("Error fetching data.")}async fetchSlice(e,n){const{offset:r,length:i}=e,s=await this.client.request({headers:{...this.headers,Range:`bytes=${r}-${r+i}`},signal:n});if(s.ok)if(s.status===206){const o=await s.getData(),{total:l}=pc(s.getHeader("content-range"));return this._fileSize=l||null,{data:o,offset:r,length:i}}else{if(!this.allowFullFile)throw new Error("Server responded with full file");const o=await s.getData();return this._fileSize=o.byteLength,{data:o,offset:0,length:o.byteLength}}else throw new Error("Error fetching data.")}get fileSize(){return this._fileSize}}function id(t,{blockSize:e,cacheSize:n}){return e===null?t:new w2(t,{blockSize:e,cacheSize:n})}function A2(t,{headers:e={},credentials:n,maxRanges:r=0,allowFullFile:i=!1,...s}={}){const o=new C2(t,n),l=new rd(o,e,r,i);return id(l,s)}function L2(t,{headers:e={},maxRanges:n=0,allowFullFile:r=!1,...i}={}){const s=new S2(t),o=new rd(s,e,n,r);return id(o,i)}function O2(t,{headers:e={},maxRanges:n=0,allowFullFile:r=!1,...i}={}){const s=new P2(t),o=new rd(s,e,n,r);return id(o,i)}function mc(t,{forceXHR:e=!1,...n}={}){return typeof fetch=="function"&&!e?A2(t,n):typeof XMLHttpRequest<"u"?L2(t,n):O2(t,n)}class D2 extends ed{constructor(e){super(),this.file=e}async fetchSlice(e,n){return new Promise((r,i)=>{const s=this.file.slice(e.offset,e.offset+e.length),o=new FileReader;o.onload=l=>r(l.target.result),o.onerror=i,o.onabort=i,o.readAsArrayBuffer(s),n&&n.addEventListener("abort",()=>o.abort())})}}function M2(t){return new D2(t)}function yc(t){switch(t){case U.BYTE:case U.ASCII:case U.SBYTE:case U.UNDEFINED:return 1;case U.SHORT:case U.SSHORT:return 2;case U.LONG:case U.SLONG:case U.FLOAT:case U.IFD:return 4;case U.RATIONAL:case U.SRATIONAL:case U.DOUBLE:case U.LONG8:case U.SLONG8:case U.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${t}`)}}function k2(t){const e=t.GeoKeyDirectory;if(!e)return null;const n={};for(let r=4;r<=e[3]*4;r+=4){const i=Bx[e[r]],s=e[r+1]?os[e[r+1]]:null,o=e[r+2],l=e[r+3];let a=null;if(!s)a=l;else{if(a=t[s],typeof a>"u"||a===null)throw new Error(`Could not get value of geoKey '${i}'.`);typeof a=="string"?a=a.substring(l,l+o-1):a.subarray&&(a=a.subarray(l,l+o),o===1&&(a=a[0]))}n[i]=a}return n}function Or(t,e,n,r){let i=null,s=null;const o=yc(e);switch(e){case U.BYTE:case U.ASCII:case U.UNDEFINED:i=new Uint8Array(n),s=t.readUint8;break;case U.SBYTE:i=new Int8Array(n),s=t.readInt8;break;case U.SHORT:i=new Uint16Array(n),s=t.readUint16;break;case U.SSHORT:i=new Int16Array(n),s=t.readInt16;break;case U.LONG:case U.IFD:i=new Uint32Array(n),s=t.readUint32;break;case U.SLONG:i=new Int32Array(n),s=t.readInt32;break;case U.LONG8:case U.IFD8:i=new Array(n),s=t.readUint64;break;case U.SLONG8:i=new Array(n),s=t.readInt64;break;case U.RATIONAL:i=new Uint32Array(n*2),s=t.readUint32;break;case U.SRATIONAL:i=new Int32Array(n*2),s=t.readInt32;break;case U.FLOAT:i=new Float32Array(n),s=t.readFloat32;break;case U.DOUBLE:i=new Float64Array(n),s=t.readFloat64;break;default:throw new RangeError(`Invalid field type: ${e}`)}if(e===U.RATIONAL||e===U.SRATIONAL)for(let l=0;l<n;l+=2)i[l]=s.call(t,r+l*o),i[l+1]=s.call(t,r+(l*o+4));else for(let l=0;l<n;++l)i[l]=s.call(t,r+l*o);return e===U.ASCII?new TextDecoder("utf-8").decode(i):i}class N2{constructor(e,n,r){this.fileDirectory=e,this.geoKeyDirectory=n,this.nextIFDByteOffset=r}}class Po extends Error{constructor(e){super(`No image at index ${e}`),this.index=e}}class py{async readRasters(e={}){const{window:n,width:r,height:i}=e;let{resX:s,resY:o,bbox:l}=e;const a=await this.getImage();let u=a;const c=await this.getImageCount(),h=a.getBoundingBox();if(n&&l)throw new Error('Both "bbox" and "window" passed.');if(r||i){if(n){const[m,y]=a.getOrigin(),[v,p]=a.getResolution();l=[m+n[0]*v,y+n[1]*p,m+n[2]*v,y+n[3]*p]}const f=l||h;if(r){if(s)throw new Error("Both width and resX passed");s=(f[2]-f[0])/r}if(i){if(o)throw new Error("Both width and resY passed");o=(f[3]-f[1])/i}}if(s||o){const f=[];for(let m=0;m<c;++m){const y=await this.getImage(m),{SubfileType:v,NewSubfileType:p}=y.fileDirectory;(m===0||v===2||p&1)&&f.push(y)}f.sort((m,y)=>m.getWidth()-y.getWidth());for(let m=0;m<f.length;++m){const y=f[m],v=(h[2]-h[0])/y.getWidth(),p=(h[3]-h[1])/y.getHeight();if(u=y,s&&s>v||o&&o>p)break}}let d=n;if(l){const[f,m]=a.getOrigin(),[y,v]=u.getResolution(a);d=[Math.round((l[0]-f)/y),Math.round((l[1]-m)/v),Math.round((l[2]-f)/y),Math.round((l[3]-m)/v)],d=[Math.min(d[0],d[2]),Math.min(d[1],d[3]),Math.max(d[0],d[2]),Math.max(d[1],d[3])]}return u.readRasters({...e,window:d})}}class _i extends py{constructor(e,n,r,i,s={}){super(),this.source=e,this.littleEndian=n,this.bigTiff=r,this.firstIFDOffset=i,this.cache=s.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(e,n){const r=this.bigTiff?4048:1024;return new c2((await this.source.fetch([{offset:e,length:typeof n<"u"?n:r}]))[0],e,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(e){const n=this.bigTiff?20:12,r=this.bigTiff?8:2;let i=await this.getSlice(e);const s=this.bigTiff?i.readUint64(e):i.readUint16(e),o=s*n+(this.bigTiff?16:6);i.covers(e,o)||(i=await this.getSlice(e,o));const l={};let a=e+(this.bigTiff?8:2);for(let h=0;h<s;a+=n,++h){const d=i.readUint16(a),f=i.readUint16(a+2),m=this.bigTiff?i.readUint64(a+4):i.readUint32(a+4);let y,v;const p=yc(f),g=a+(this.bigTiff?12:8);if(p*m<=(this.bigTiff?8:4))y=Or(i,f,m,g);else{const _=i.readOffset(g),E=yc(f)*m;if(i.covers(_,E))y=Or(i,f,m,_);else{const T=await this.getSlice(_,E);y=Or(T,f,m,_)}}m===1&&Gx.indexOf(d)===-1&&!(f===U.RATIONAL||f===U.SRATIONAL)?v=y[0]:v=y,l[os[d]]=v}const u=k2(l),c=i.readOffset(e+r+n*s);return new N2(l,u,c)}async requestIFD(e){if(this.ifdRequests[e])return this.ifdRequests[e];if(e===0)return this.ifdRequests[e]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[e];if(!this.ifdRequests[e-1])try{this.ifdRequests[e-1]=this.requestIFD(e-1)}catch(n){throw n instanceof Po?new Po(e):n}return this.ifdRequests[e]=(async()=>{const n=await this.ifdRequests[e-1];if(n.nextIFDByteOffset===0)throw new Po(e);return this.parseFileDirectoryAt(n.nextIFDByteOffset)})(),this.ifdRequests[e]}async getImage(e=0){const n=await this.requestIFD(e);return new fy(n.fileDirectory,n.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let e=0,n=!0;for(;n;)try{await this.requestIFD(e),++e}catch(r){if(r instanceof Po)n=!1;else throw r}return e}async getGhostValues(){const e=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const n="GDAL_STRUCTURAL_METADATA_SIZE=",r=n.length+100;let i=await this.getSlice(e,r);if(n===Or(i,U.ASCII,n.length,e)){const o=Or(i,U.ASCII,r,e).split(`
`)[0],l=Number(o.split("=")[1].split(" ")[0])+o.length;l>r&&(i=await this.getSlice(e,l));const a=Or(i,U.ASCII,l,e);this.ghostValues={},a.split(`
`).filter(u=>u.length>0).map(u=>u.split("=")).forEach(([u,c])=>{this.ghostValues[u]=c})}return this.ghostValues}static async fromSource(e,n,r){const i=(await e.fetch([{offset:0,length:1024}],r))[0],s=new u2(i),o=s.getUint16(0,0);let l;if(o===18761)l=!0;else if(o===19789)l=!1;else throw new TypeError("Invalid byte order value.");const a=s.getUint16(2,l);let u;if(a===42)u=!1;else if(a===43){if(u=!0,s.getUint16(4,l)!==8)throw new Error("Unsupported offset byte-size.")}else throw new TypeError("Invalid magic number.");const c=u?s.getUint64(8,l):s.getUint32(4,l);return new _i(e,l,u,c,n)}close(){return typeof this.source.close=="function"?this.source.close():!1}}class F2 extends py{constructor(e,n){super(),this.mainFile=e,this.overviewFiles=n,this.imageFiles=[e].concat(n),this.fileDirectoriesPerFile=null,this.fileDirectoriesPerFileParsing=null,this.imageCount=null}async parseFileDirectoriesPerFile(){const e=[this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map(n=>n.parseFileDirectoryAt(n.firstIFDOffset)));return this.fileDirectoriesPerFile=await Promise.all(e),this.fileDirectoriesPerFile}async getImage(e=0){await this.getImageCount(),await this.parseFileDirectoriesPerFile();let n=0,r=0;for(let i=0;i<this.imageFiles.length;i++){const s=this.imageFiles[i];for(let o=0;o<this.imageCounts[i];o++){if(e===n){const l=await s.requestIFD(r);return new fy(l.fileDirectory,l.geoKeyDirectory,s.dataView,s.littleEndian,s.cache,s.source)}n++,r++}r=0}throw new RangeError("Invalid image index")}async getImageCount(){if(this.imageCount!==null)return this.imageCount;const e=[this.mainFile.getImageCount()].concat(this.overviewFiles.map(n=>n.getImageCount()));return this.imageCounts=await Promise.all(e),this.imageCount=this.imageCounts.reduce((n,r)=>n+r,0),this.imageCount}}async function b2(t,e={},n){return _i.fromSource(mc(t,e),n)}async function z2(t,e){return _i.fromSource(M2(t),e)}async function U2(t,e=[],n={},r){const i=await _i.fromSource(mc(t,n),r),s=await Promise.all(e.map(o=>_i.fromSource(mc(o,n))));return new F2(i,s)}function G2(t){return((t.fileDirectory.NewSubfileType||0)&4)===4}function j2(t,e){if(!t)return!1;if(t===!0)return!0;if(e.getSamplesPerPixel()!==3)return!1;const n=e.fileDirectory.PhotometricInterpretation,r=Je;return n===r.CMYK||n===r.YCbCr||n===r.CIELab||n===r.ICCLab}const pg="STATISTICS_MAXIMUM",mg="STATISTICS_MINIMUM",lu=256;let au;function B2(){return au||(au=new d2),au}function $2(t){try{return t.getBoundingBox()}catch{return[0,0,t.getWidth(),t.getHeight()]}}function X2(t){try{return t.getOrigin().slice(0,2)}catch{return[0,t.getHeight()]}}function V2(t,e){try{return t.getResolution(e)}catch{return[e.getWidth()/t.getWidth(),e.getHeight()/t.getHeight()]}}function K2(t){const e=t.geoKeys;if(!e)return null;if(e.ProjectedCSTypeGeoKey&&e.ProjectedCSTypeGeoKey!==32767){const n="EPSG:"+e.ProjectedCSTypeGeoKey;let r=We(n);if(!r){const i=Of(e.ProjLinearUnitsGeoKey);i&&(r=new xl({code:n,units:i}))}return r}if(e.GeographicTypeGeoKey&&e.GeographicTypeGeoKey!==32767){const n="EPSG:"+e.GeographicTypeGeoKey;let r=We(n);if(!r){const i=Of(e.GeogAngularUnitsGeoKey);i&&(r=new xl({code:n,units:i}))}return r}return null}function H2(t){return t.getImageCount().then(function(e){const n=new Array(e);for(let r=0;r<e;++r)n[r]=t.getImage(r);return Promise.all(n)})}function W2(t,e){let n;return t.blob?n=z2(t.blob):t.overviews?n=U2(t.url,t.overviews,e):n=b2(t.url,e),n.then(H2)}function Hi(t,e,n,r,i){if(Array.isArray(t)){const s=t.length;if(!Array.isArray(e)||s!=e.length){const o=new Error(r);throw i(o),o}for(let o=0;o<s;++o)Hi(t[o],e[o],n,r,i);return}if(e=e,Math.abs(t-e)>n*t)throw new Error(r)}function Y2(t){return t instanceof Int8Array?-128:t instanceof Int16Array?-32768:t instanceof Int32Array?-2147483648:t instanceof Float32Array?12e-39:0}function Z2(t){return t instanceof Int8Array?127:t instanceof Uint8Array||t instanceof Uint8ClampedArray?255:t instanceof Int16Array?32767:t instanceof Uint16Array?65535:t instanceof Int32Array?2147483647:t instanceof Uint32Array?4294967295:t instanceof Float32Array?34e37:255}class sd extends lx{constructor(e){super({state:"loading",tileGrid:null,projection:e.projection||null,opaque:e.opaque,transition:e.transition,interpolate:e.interpolate!==!1,wrapX:e.wrapX}),this.sourceInfo_=e.sources;const n=this.sourceInfo_.length;this.sourceOptions_=e.sourceOptions,this.sourceImagery_=new Array(n),this.sourceMasks_=new Array(n),this.resolutionFactors_=new Array(n),this.samplesPerPixel_,this.nodataValues_,this.metadata_,this.normalize_=e.normalize!==!1,this.addAlpha_=!1,this.error_=null,this.convertToRGB_=e.convertToRGB||!1,this.setKey(this.sourceInfo_.map(s=>s.url).join(","));const r=this,i=new Array(n);for(let s=0;s<n;++s)i[s]=W2(this.sourceInfo_[s],this.sourceOptions_);Promise.all(i).then(function(s){r.configure_(s)}).catch(function(s){Ff(s),r.error_=s,r.setState("error")})}getError(){return this.error_}determineProjection(e){const n=e[0];for(let r=n.length-1;r>=0;--r){const i=n[r],s=K2(i);if(s){this.projection=s;break}}}configure_(e){let n,r,i,s,o;const l=new Array(e.length),a=new Array(e.length),u=new Array(e.length);let c=0;const h=e.length;for(let y=0;y<h;++y){const v=[],p=[];e[y].forEach(C=>{G2(C)?p.push(C):v.push(C)});const g=v.length;if(p.length>0&&p.length!==g)throw new Error(`Expected one mask per image found ${p.length} masks and ${g} images`);let _,E;const T=new Array(g),w=new Array(g),x=new Array(g);a[y]=new Array(g),u[y]=new Array(g);for(let C=0;C<g;++C){const R=v[C],I=R.getGDALNoData();u[y][C]=R.getGDALMetadata(0),a[y][C]=I;const N=this.sourceInfo_[y].bands;l[y]=N?N.length:R.getSamplesPerPixel();const X=g-(C+1);_||(_=$2(R)),E||(E=X2(R));const ne=V2(R,v[0]);x[X]=ne[0];const ie=[R.getTileWidth(),R.getTileHeight()];ie[0]!==ie[1]&&ie[1]<lu&&(ie[0]=lu,ie[1]=lu),T[X]=ie;const Q=ne[0]/Math.abs(ne[1]);w[X]=[ie[0],ie[1]/Q]}if(n?Ct(n,_,n):n=_,!r)r=E;else{const C=`Origin mismatch for source ${y}, got [${E}] but expected [${r}]`;Hi(r,E,0,C,this.viewRejector)}if(!o)o=x,this.resolutionFactors_[y]=1;else{o.length-c>x.length&&(c=o.length-x.length);const C=o[o.length-1]/x[x.length-1];this.resolutionFactors_[y]=C;const R=x.map(N=>N*=C),I=`Resolution mismatch for source ${y}, got [${R}] but expected [${o}]`;Hi(o.slice(c,o.length),R,.02,I,this.viewRejector)}i?Hi(i.slice(c,i.length),w,.01,`Tile size mismatch for source ${y}`,this.viewRejector):i=w,s?Hi(s.slice(c,s.length),T,0,`Tile size mismatch for source ${y}`,this.viewRejector):s=T,this.sourceImagery_[y]=v.reverse(),this.sourceMasks_[y]=p.reverse()}for(let y=0,v=this.sourceImagery_.length;y<v;++y){const p=this.sourceImagery_[y];for(;p.length<o.length;)p.unshift(void 0)}this.getProjection()||this.determineProjection(e),this.samplesPerPixel_=l,this.nodataValues_=a,this.metadata_=u;e:for(let y=0;y<h;++y){if(this.sourceInfo_[y].nodata!==void 0){this.addAlpha_=!0;break}if(this.sourceMasks_[y].length){this.addAlpha_=!0;break}const v=a[y],p=this.sourceInfo_[y].bands;if(p){for(let g=0;g<p.length;++g)if(v[p[g]-1]!==null){this.addAlpha_=!0;break e}continue}for(let g=0;g<v.length;++g)if(v[g]!==null){this.addAlpha_=!0;break e}}let d=this.addAlpha_?1:0;for(let y=0;y<h;++y)d+=l[y];this.bandCount=d;const f=new ha({extent:n,minZoom:c,origin:r,resolutions:o,tileSizes:i});this.tileGrid=f,this.setTileSizes(s),this.setLoader(this.loadTile_.bind(this)),this.setState("ready");const m=1;o.length===2?o=[o[0],o[1],o[1]/2]:o.length===1&&(o=[o[0]*2,o[0],o[0]/2]),this.viewResolver({showFullExtent:!0,projection:this.projection,resolutions:o,center:Pl(di(n),this.projection),extent:i0(n,this.projection),zoom:m})}loadTile_(e,n,r){const i=this.getTileSize(e),s=this.sourceImagery_.length,o=new Array(s*2),l=this.nodataValues_,a=this.sourceInfo_,u=B2();for(let c=0;c<s;++c){const h=a[c],d=this.resolutionFactors_[c],f=[Math.round(n*(i[0]*d)),Math.round(r*(i[1]*d)),Math.round((n+1)*(i[0]*d)),Math.round((r+1)*(i[1]*d))],m=this.sourceImagery_[c][e];let y;h.bands&&(y=h.bands.map(function(E){return E-1}));let v;"nodata"in h&&h.nodata!==null?v=h.nodata:y?v=y.map(function(E){return l[c][E]}):v=l[c];const p={window:f,width:i[0],height:i[1],samples:y,fillValue:v,pool:u,interleave:!1};j2(this.convertToRGB_,m)?o[c]=m.readRGB(p):o[c]=m.readRasters(p);const g=s+c,_=this.sourceMasks_[c][e];if(!_){o[g]=Promise.resolve(null);continue}o[g]=_.readRasters({window:f,width:i[0],height:i[1],samples:[0],pool:u,interleave:!1})}return Promise.all(o).then(this.composeTile_.bind(this,i)).catch(function(c){throw Ff(c),c})}composeTile_(e,n){const r=this.metadata_,i=this.sourceInfo_,s=this.sourceImagery_.length,o=this.bandCount,l=this.samplesPerPixel_,a=this.nodataValues_,u=this.normalize_,c=this.addAlpha_,h=e[0]*e[1],d=h*o;let f;u?f=new Uint8Array(d):f=new Float32Array(d);let m=0;for(let y=0;y<h;++y){let v=c;for(let p=0;p<s;++p){const g=i[p];let _=g.min,E=g.max,T,w;if(u){const x=r[p][0];_===void 0&&(x&&mg in x?_=parseFloat(x[mg]):_=Y2(n[p][0])),E===void 0&&(x&&pg in x?E=parseFloat(x[pg]):E=Z2(n[p][0])),T=255/(E-_),w=-_*T}for(let x=0;x<l[p];++x){const C=n[p][x][y];let R;if(u?R=we(T*C+w,0,255):R=C,!c)f[m]=R;else{let I=g.nodata;if(I===void 0){let X;g.bands?X=g.bands[x]-1:X=x,I=a[p][X]}const N=isNaN(I);(!N&&C!==I||N&&!isNaN(C))&&(v=!1,f[m]=R)}m++}if(!v){const x=s+p,C=n[x];C&&!C[0][y]&&(v=!0)}}c&&(v||(f[m]=255),m++)}return f}}function q2(t,e){const n=/\{z\}/g,r=/\{x\}/g,i=/\{y\}/g,s=/\{-y\}/g;return function(o,l,a){if(o)return t.replace(n,o[0].toString()).replace(r,o[1].toString()).replace(i,o[2].toString()).replace(s,function(){const u=o[0],c=e.getFullTileRange(u);if(!c)throw new Error("The {-y} placeholder requires a tile grid with extent");return(c.getHeight()-o[2]-1).toString()})}}function Q2(t,e){const n=t.length,r=new Array(n);for(let i=0;i<n;++i)r[i]=q2(t[i],e);return _c(r)}function _c(t){return t.length===1?t[0]:function(e,n,r){if(!e)return;const i=ww(e),s=ti(i,t.length);return t[s](e,n,r)}}function my(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const r=n[1].charCodeAt(0),i=n[2].charCodeAt(0);let s;for(s=r;s<=i;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const r=parseInt(n[2],10);for(let i=parseInt(n[1],10);i<=r;i++)e.push(t.replace(n[0],i.toString()));return e}return e.push(t),e}class od extends V0{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===od.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,r=le(n),i=n.getState();let s;i==P.LOADING?(this.tileLoadingKeys_[r]=!0,s=ri.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],s=i==P.ERROR?ri.TILELOADERROR:i==P.LOADED?ri.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new K0(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=my(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Q2(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,r){}useTile(e,n,r){const i=pi(e,n,r);this.tileCache.containsKey(i)&&this.tileCache.get(i)}}class yy extends od{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:J2,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:aa,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const r=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==r?n:{});for(const i in this.tileCacheForProjection){const s=this.tileCacheForProjection[i];s.expireCache(s==r?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!Kt(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getOpaque(e){return this.getProjection()&&e&&!Kt(this.getProjection(),e)?!1:super.getOpaque(e)}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||Kt(n,e)))return this.tileGrid;const r=le(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=Bh(e)),this.tileGridForProjection[r]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||Kt(n,e))return this.tileCache;const r=le(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new jh(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]}createTile_(e,n,r,i,s,o){const l=[e,n,r],a=this.getTileCoordForTileUrlFunction(l,s),u=a?this.tileUrlFunction(a,i,s):void 0,c=new this.tileClass(l,u!==void 0?P.IDLE:P.EMPTY,u!==void 0?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener(z.CHANGE,this.handleTileChange.bind(this)),c}getTile(e,n,r,i,s){const o=this.getProjection();if(!o||!s||Kt(o,s))return this.getTileInternal(e,n,r,i,o||s);const l=this.getTileCacheForProjection(s),a=[e,n,r];let u;const c=In(a);l.containsKey(c)&&(u=l.get(c));const h=this.getKey();if(u&&u.key==h)return u;const d=this.getTileGridForProjection(o),f=this.getTileGridForProjection(s),m=this.getTileCoordForTileUrlFunction(a,s),y=new gi(o,d,s,f,a,m,this.getTilePixelRatio(i),this.getGutter(),(v,p,g,_)=>this.getTileInternal(v,p,g,_,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return y.key=h,u?(y.interimTile=u,y.refreshInterimChain(),l.replace(c,y)):l.set(c,y),y}getTileInternal(e,n,r,i,s){let o=null;const l=pi(e,n,r),a=this.getKey();if(!this.tileCache.containsKey(l))o=this.createTile_(e,n,r,i,s,a),this.tileCache.set(l,o);else if(o=this.tileCache.get(l),o.key!=a){const u=o;o=this.createTile_(e,n,r,i,s,a),u.getState()==P.IDLE?o.interimTile=u.interimTile:o.interimTile=u,o.refreshInterimChain(),this.tileCache.replace(l,o)}return o}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const r=We(e);if(r){const i=le(r);i in this.tileGridForProjection||(this.tileGridForProjection[i]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function J2(t,e){t.getImage().src=e}class ld extends yy{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",r=e.tileGrid!==void 0?e.tileGrid:$0({extent:da(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}function yg(t,e){const n=[];Object.keys(e).forEach(function(i){e[i]!==null&&e[i]!==void 0&&n.push(i+"="+encodeURIComponent(e[i]))});const r=n.join("&");return t=t.replace(/[?&]$/,""),t+=t.includes("?")?"&":"?",t+r}class eC extends yy{constructor(e){const n=e.requestEncoding!==void 0?e.requestEncoding:"KVP",r=e.tileGrid;let i=e.urls;i===void 0&&e.url!==void 0&&(i=my(e.url)),super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:i,wrapX:e.wrapX!==void 0?e.wrapX:!1,transition:e.transition,zDirection:e.zDirection}),this.version_=e.version!==void 0?e.version:"1.0.0",this.format_=e.format!==void 0?e.format:"image/jpeg",this.dimensions_=e.dimensions!==void 0?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=n,this.setKey(this.getKeyForDimensions_()),i&&i.length>0&&(this.tileUrlFunction=_c(i.map(this.createFromWMTSTemplate.bind(this))))}setUrls(e){this.urls=e;const n=e.join(`
`);this.setTileUrlFunction(_c(e.map(this.createFromWMTSTemplate.bind(this))),n)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){const e=this.urls?this.urls.slice(0):[];for(const n in this.dimensions_)e.push(n+"-"+this.dimensions_[n]);return e.join("/")}updateDimensions(e){Object.assign(this.dimensions_,e),this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(e){const n=this.requestEncoding_,r={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};n=="KVP"&&Object.assign(r,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),e=n=="KVP"?yg(e,r):e.replace(/\{(\w+?)\}/g,function(o,l){return l.toLowerCase()in r?r[l.toLowerCase()]:o});const i=this.tileGrid,s=this.dimensions_;return function(o,l,a){if(!o)return;const u={TileMatrix:i.getMatrixId(o[0]),TileCol:o[1],TileRow:o[2]};Object.assign(u,s);let c=e;return n=="KVP"?c=yg(c,u):c=c.replace(/\{(\w+?)\}/g,function(h,d){return u[d]}),c}}}const _y=eC,Ii=We("EPSG:3857"),Os=Ii.getExtent(),tC=Se(Os)/256,ad=new Array(20),ud=new Array(20);for(let t=0;t<20;++t)ad[t]=tC/Math.pow(2,t),ud[t]=t;let nC=new _y({url:"https://tiles.arcgis.com/tiles/1KSVSmnHT2Lw9ea6/arcgis/rest/services/Luchtfotomozaiek_jaren_40/MapServer/WMTS",attributions:[""],crossOrigin:"anonymous",layer:"Luchtfotomozaiek_jaren_40",matrixSet:"default028mm",format:"image/jpgpng",projection:Ii,tileGrid:new B0({origin:mn(Os),resolutions:ad,matrixIds:ud}),style:"default",wrapX:!0,webmercatorExtent:Os});new ld({url:"https://www.ngi.be/tiles/arcgis/rest/services/seamless_carto__default__3857__800/MapServer/tile/{z}/{y}/{x}",minZoom:7,maxZoom:17,projection:Ii,crossOrigin:"anonymous",attributions:["NGI: <a href='https://www.ngi.be/website/gebruiksvoorwaarden-cartoweb-be'>gebruiksvoorwaarden</a>"]});new ld({url:"https://www.ngi.be/tiles/arcgis/rest/services/seamless_carto__default__3857__1100/MapServer/tile/{z}/{y}/{x}",minZoom:7,maxZoom:17,projection:Ii,crossOrigin:"anonymous",attributions:["NGI: <a href='https://www.ngi.be/website/gebruiksvoorwaarden-cartoweb-be'>gebruiksvoorwaarden</a>"]});let rC=new ld({url:"https://geo.gent.be/geoserver/gwc/service/wmts/rest/SG-E-BasislagenLuchtfotos:OrthofotoGent1955WebMercator/raster/SG-WEB%20MERCATOR/SG-WEB%20MERCATOR:{z}/{y}/{x}?format=image/png",minZoom:7,maxZoom:20,projection:Ii,crossOrigin:"anonymous",attributions:[" Vlaamse overheid, Departement Mobiliteit en Openbare Werken, afdeling Algemene Technische Ondersteuning, cel fotogrammetrie"]}),iC=new _y({url:"https://geo.api.vlaanderen.be/OKZ/wmts",attributions:["1971  Vlaamse Overheid, <a href='https://overheid.vlaanderen.be/Webdiensten-Gebruiksrecht'>gebruiksvoorwaarden</a>"],crossOrigin:"anonymous",layer:"okzpan71vl",matrixSet:"GoogleMapsVL",format:"image/png",projection:Ii,tileGrid:new B0({origin:mn(Os),resolutions:ad,matrixIds:ud}),style:"",wrapX:!0,webmercatorExtent:Os}),sC=new sd({sources:[{url:"https://storage.googleapis.com/histortho/antwerp_luchtfoto_1940_1945_web.tif"}],convertToRGB:"auto",normalize:!0}),oC=new sd({sources:[{url:"https://storage.googleapis.com/histortho/1970SR_rbg.tif"}],convertToRGB:"auto",normalize:!0}),lC=new sd({sources:[{url:"https://storage.googleapis.com/histortho/gent_1955_color.tif"}],convertToRGB:"auto",normalize:!0});const _t={"Gent 1955":{title:"Orthofotomozaek Gent, grootschalig, zwart-wit, 25cm, 1955",about:"Deze zwartwit luchtfoto van Gent is van 1955 en had een grondresolutie van 10cm, maar dit werd opgeschaald naar 25cm om performantie redenen.  Hij werd ingekleurd met mijn colorisatie AI-algoritme. Hij is ook wat gesmooth om de korreligheid te verwijderen.",description:"De teams Stadsarcheologie en Data & Informatie van stad Gent ontwikkelden deze mozaiek op basis van 2100 luchtfoto's,  afkomstig uit een vergeten luchtfotocollectie. Net na de Tweede Wereldoorlog nam de overheid duizenden luchtfotos gemaaktter ondersteuning van de grootschalige infrastructuurwerken die in ons land gepland stonden. Eens de projecten gerealiseerd waren, verloren ze hun nut en bleven zin ide kast liggen. De opname werd uitgevoerd door het Ministerie Mobiliteit en Openbare Werken, afdeling Fotogrammetrie.",url:"https://stad.gent/nl/cultuur-vrije-tijd/cultuur/hoe-zag-jouw-buurt-eruit-de-jaren-50",source_grey:rC,source_rbg:lC,basemap:null,xy:[415515,6629926],zoom:13,maxzoom:19},"Vlaanderen 1971":{title:"Orthofotomozaek Vlaanderen, kleinschalig, zwart-wit, 1m, 1971",about:"Deze zwartwit luchtfoto van Vlaanderen is van 1971 en heeft een grondresolutie van 1m. Hij werd ingekleurd met mijn colorisatie AI-algoritme.  Hij is ook wat gesmooth om de korreligheid te verwijderen.",description:"De orthofotomozaek is samengesteld uit luchtopnamen die tijdens het zomerseizoen van 1971 ingewonnen werden. Ze toont een gebiedsdekkende orthofotobedekking van het Vlaamse Gewest, inclusief het Brussels Hoofdstedelijk Gewest met een grondresolutie van 1 m. De opname werd uitgevoerd door Eurosense in opdracht van Agentschap voor Geografische Informatie.",url:"https://www.vlaanderen.be/datavindplaats/catalogus/orthofotomozaiek-kleinschalig-zomeropnamen-panchromatisch-1971-vlaanderen",source_grey:iC,source_rbg:oC,basemap:null,xy:[487549,6657367],zoom:12,maxzoom:17},"Antwerpen 1940-1945":{title:"Orthofotomozaek Antwerpen, zwart-wit, heterogeen bronnen, 5 tot 1m, 1940-1945",about:`Deze zwartwit luchtfoto van Antwerpen is samengesteld uit verschildende heterogene luchtfoto's met belichting grondresolutie van ongeveer 5 tot 1 meter. Hij werd ingekleurd met mijn colorisatie AI-algoritme.  Hij is ook bewerkt om belichting te matchen, korreligheid te verwijderen en de resolutie verhogen, hiervoor werd ondermeer ESRGAN[0] algoritme gebruikt ("Enhanced Super-Resolution Generative Adversarial Networks" Xintao Wang et al. (2018)) .`,description:"De orthofotomozaek is samengesteld uit luchtopnamen door genomen door verschillende verkenningsvliegtuigen gedurende de 2de wereldoorlog, met als doel om als achtergrond te dienen op Antwerpen herdenkt.",url:"https://www.antwerpenherdenkt.be/nieuwe-pagina",source_grey:nC,source_rbg:sC,basemap:null,xy:[487549,6657367],zoom:13,maxzoom:17}},Ds=new j0({title:"Originele zwartwitte luchtfoto"}),vc=new G0({title:"Met AI ingekleurde en gerestaureerde orthofoto"}),_g=new j0({title:"achtergrond",zIndex:-99}),Pn=new WT({layers:[Ds,vc],view:new Dt({center:[415515,6629926],zoom:12,maxZoom:19})});function aC(t){let e=document.getElementById("olmap"),n=document.getElementById("swipe");Pn.setTarget(e),vy(t),Ds.on("prerender",function(i){const s=i.context,o=Pn.getSize(),l=o[0]*(n.value/100),a=Ro(i,[l,0]),u=Ro(i,[o[0],0]),c=Ro(i,[l,o[1]]),h=Ro(i,o);s.save(),s.beginPath(),s.moveTo(a[0],a[1]),s.lineTo(c[0],c[1]),s.lineTo(h[0],h[1]),s.lineTo(u[0],u[1]),s.closePath(),s.clip()}),Ds.on("postrender",function(i){i.context.restore()}),n.addEventListener("input",function(){Pn.render()});let r=new ZT({bar:!0});return Pn.addControl(r),Pn}function vy(t){let e=new Dt({center:_t[t].xy,zoom:_t[t].zoom,maxZoom:_t[t].maxzoom});Ds.setSource(_t[t].source_grey),vc.setSource(_t[t].source_rbg),_g.setSource(_t[t].basemap),Pn.setLayers([vc,Ds]),_t[t].basemap!==null&&Pn.addLayer(_g),Pn.setView(e)}var Ey={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},vg=Re.createContext&&Re.createContext(Ey),uC=["attr","size","title"];function cC(t,e){if(t==null)return{};var n=hC(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hC(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Ml(){return Ml=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ml.apply(this,arguments)}function Eg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eg(Object(n),!0).forEach(function(r){dC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dC(t,e,n){return e=fC(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fC(t){var e=gC(t,"string");return typeof e=="symbol"?e:String(e)}function gC(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ty(t){return t&&t.map((e,n)=>Re.createElement(e.tag,kl({key:n},e.attr),Ty(e.child)))}function pC(t){return e=>Re.createElement(mC,Ml({attr:kl({},t.attr)},e),Ty(t.child))}function mC(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=cC(t,uC),l=i||n.size||"1em",a;return n.className&&(a=n.className),t.className&&(a=(a?a+" ":"")+t.className),Re.createElement("svg",Ml({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:a,style:kl(kl({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&Re.createElement("title",null,s),t.children)};return vg!==void 0?Re.createElement(vg.Consumer,null,n=>e(n)):e(Ey)}function yC(t){return pC({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function _C(){let[t,e]=Ae.useState(!0),[n,r]=Ae.useState("Antwerpen 1940-1945");Ae.useEffect(()=>{aC(n)},[]),Ae.useEffect(()=>{vy(n)},[n]);let s=Object.keys(_t).map(o=>oe.jsx("option",{value:o,children:o},o));return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{style:{width:"100vw",height:"100vh",overflow:"hidden"},className:"App",children:[oe.jsxs("div",{className:"header",style:{margin:1},children:[oe.jsx("label",{style:{paddingLeft:5},htmlFor:"layerselect",children:"Foto: "}),oe.jsx("select",{id:"layerselect",defaultValue:n,onChange:o=>{console.log(o.target.value),r(o.target.value),e(!0)},children:s}),oe.jsx("span",{style:{paddingLeft:15,display:"inline-block"},children:"Zwart-Witte luchtfoto's inkleuren met AI"}),oe.jsx("a",{target:"_blank",href:"https://github.com/warrieka/histo_ortho_viewer",children:oe.jsx(yC,{title:"Github",style:{right:2,position:"absolute"}})})]}),oe.jsx("input",{id:"swipe",type:"range"}),oe.jsxs("div",{className:"mapContainer",children:[oe.jsx("span",{id:"infoLeft",children:"Ingekleurd met AI"}),oe.jsx("span",{id:"infoRight",children:"Originele Orthofoto"}),oe.jsx("div",{id:"olmap"})]})]}),oe.jsxs(pv,{center:!0,open:t,onClose:()=>e(!1),children:[oe.jsx("h2",{children:_t[n].title}),oe.jsx("p",{children:oe.jsx("b",{children:_t[n].about})}),oe.jsx("b",{children:"Bron:"}),oe.jsxs("p",{children:[oe.jsx("i",{children:_t[n].description})," "]}),oe.jsxs("center",{children:[oe.jsx("p",{children:oe.jsx("a",{target:"_blank",href:_t[n].url,children:"Meer info over deze bron"})}),oe.jsx("button",{style:{color:"#777"},onClick:()=>e(!1),children:"Sluiten"})]})]})]})}uu.createRoot(document.getElementById("root")).render(oe.jsx(_C,{}));export{LC as L,OC as a,Ms as g};
